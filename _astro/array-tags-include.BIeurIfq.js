import{p as O,m as z,_ as B,n as T,$ as D,x as E,a5 as G,a2 as I,a6 as J,a3 as K,s as M,r as N,a4 as Q}from"./definitions.DS7POIPg.js";import"./each.DT3TJ4y6.js";import{p as w,m as h,e as _,b as p,a as x,g as r,u as i,o as R}from"./render.C6bdgTYX.js";import{a as U}from"./assert.DvyLb7Ha.js";import{s as V}from"./snippet.B6yIEHbF.js";const X="tagsField";function Y(d,t){w(t,!0);const l=o=>{var a=h(),g=_(a);V(g,()=>r(F)??R,()=>e,()=>t.config,()=>({get current(){return n()},set current(s){n(s)}}),()=>r(v)),p(o,a)};let n=O(t,"value",15);const c="tagsWidget",e=z(),u=i(()=>E(e,"fieldTemplate",t.config)),A=i(()=>E(e,c,t.config)),C=B(e,()=>t.config,()=>D(e,t.config,n())),P=i(()=>t.uiOption("collectErrors")??!1);let f;const W=i(()=>{const o=n()?.length??0,a=t.config.path;if(f?.length===o+1&&f[0]===a)return f;const g=[a];for(let s=0;s<o;s++)g.push(J(e,a,s));return g}),v=i(()=>r(P)?G(e,r(W)):I(e,t.config.path)),F=i(()=>K(e,t.config,X));var b=h(),k=_(b);{let o=i(()=>r(F)&&l);T(k,()=>r(u),(a,g)=>{g(a,{type:"template",showTitle:!0,useLabel:!0,widgetType:c,get uiOption(){return t.uiOption},get value(){return n()},get config(){return t.config},get errors(){return r(v)},get action(){return r(o)},children:(s,$)=>{var y=h(),H=_(y),L=()=>n()??void 0,S=m=>n(m);T(H,()=>r(A),(m,j)=>{j(m,{type:"widget",get config(){return t.config},get errors(){return r(v)},get uiOption(){return t.uiOption},get value(){return L()},set value(q){S(q)},get handlers(){return C}})}),p(s,y)},$$slots:{default:!0}})})}p(d,b),x()}function Z(d,t){w(t,!0);let l=O(t,"value",15),n=N(t,["$$slots","$$events","$$legacy","value"]);var c=()=>(U(l()),l()),e=u=>{l(u)};Y(d,M(()=>n,{get value(){return c()},set value(u){e(u)}})),x()}Q.arrayTagsField=Z;
