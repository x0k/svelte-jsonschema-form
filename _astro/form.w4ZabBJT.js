import"./each.0Sggf4I3.js";import{p as ce,e as Oe,t as ve,b as Pe,a as Re,s as ze,h as Ee,f as Se,c as Ne,r as je}from"./render.DWbcC03b.js";import{ae as Me,af as Te,I as he,ag as Ae,ah as Ve,b as qe,e as Fe,O as Ue,k as Je}from"./definitions.BpXZrVlp.js";import{c as Ke}from"./en.7nE2H-49.js";import{B as De}from"./basic-form.B51VrbzC.js";import{p as He,h as Ye}from"./checkboxes-include.BAeiBeoH.js";import{d as Ge}from"./defaults.BpDZxL-J.js";import{i as We,u as Be,s as Xe}from"./index.BPQVTpeN.js";import"./_commonjsHelpers.DaWZu8wl.js";import"./snippet.aAPlOa3D.js";import"./file.1_d8oDoM.js";import"./form.LNTwd2LS.js";import"./content.BrmI3xs7.js";import"./submit-button.DWFvZks-.js";import"./assert.CXP8fmtO.js";import"./file-include.3fzcF_3h.js";function j(e,d){const t=typeof e;if(t!==typeof d)return!1;if(Array.isArray(e)){if(!Array.isArray(d))return!1;const o=e.length;if(o!==d.length)return!1;for(let s=0;s<o;s++)if(!j(e[s],d[s]))return!1;return!0}if(t==="object"){if(!e||!d)return e===d;const o=Object.keys(e),s=Object.keys(d);if(o.length!==s.length)return!1;for(const r of o)if(!j(e[r],d[r]))return!1;return!0}return e===d}function _(e){return encodeURI(Ze(e))}function Ze(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const Qe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},Ce={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},Le={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let er=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function P(e,d=Object.create(null),t=er,o=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const a=e.$id||e.id;if(a){const r=new URL(a,t.href);r.hash.length>1?d[r.href]=e:(r.hash="",o===""?t=r:P(e,d,t))}}else if(e!==!0&&e!==!1)return d;const s=t.href+(o?"#"+o:"");if(d[s]!==void 0)throw new Error(`Duplicate schema URI "${s}".`);if(d[s]=e,e===!0||e===!1)return d;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:s}),e.$ref&&e.__absolute_ref__===void 0){const a=new URL(e.$ref,t.href);a.hash=a.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:a.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const a=new URL(e.$recursiveRef,t.href);a.hash=a.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:a.href})}if(e.$anchor){const a=new URL("#"+e.$anchor,t.href);d[a.href]=e}for(let a in e){if(Le[a])continue;const r=`${o}/${_(a)}`,n=e[a];if(Array.isArray(n)){if(Qe[a]){const h=n.length;for(let c=0;c<h;c++)P(n[c],d,t,`${r}/${c}`)}}else if(Ce[a])for(let h in n)P(n[h],d,t,`${r}/${_(h)}`);else P(n,d,t,r)}return d}const rr=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,tr=[0,31,28,31,30,31,30,31,31,30,31,30,31],dr=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,fr=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,or=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,nr=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,sr=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,ir=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,ur=/^(?:\/(?:[^~/]|~0|~1)*)*$/,ar=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,lr=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,$r=e=>{if(e[0]==='"')return!1;const[d,t,...o]=e.split("@");return!d||!t||o.length!==0||d.length>64||t.length>253||d[0]==="."||d.endsWith(".")||d.includes("..")||!/^[a-z0-9.-]+$/i.test(t)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(d)?!1:t.split(".").every(s=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(s))},mr=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,pr=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,yr=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function b(e){return e.test.bind(e)}const we={date:ke,time:ge.bind(void 0,!1),"date-time":kr,duration:yr,uri:Ir,"uri-reference":b(or),"uri-template":b(nr),url:b(sr),email:$r,hostname:b(fr),ipv4:b(mr),ipv6:b(pr),regex:xr,uuid:b(ir),"json-pointer":b(ur),"json-pointer-uri-fragment":b(ar),"relative-json-pointer":b(lr)};function hr(e){return e%4===0&&(e%100!==0||e%400===0)}function ke(e){const d=e.match(rr);if(!d)return!1;const t=+d[1],o=+d[2],s=+d[3];return o>=1&&o<=12&&s>=1&&s<=(o==2&&hr(t)?29:tr[o])}function ge(e,d){const t=d.match(dr);if(!t)return!1;const o=+t[1],s=+t[2],a=+t[3],r=!!t[5];return(o<=23&&s<=59&&a<=59||o==23&&s==59&&a==60)&&(!e||r)}const wr=/t|\s/i;function kr(e){const d=e.split(wr);return d.length==2&&ke(d[0])&&ge(!0,d[1])}const gr=/\/|:/,_r=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function Ir(e){return gr.test(e)&&_r.test(e)}const br=/[^\\]\\Z/;function xr(e){if(br.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function cr(e){let d=0,t=e.length,o=0,s;for(;o<t;)d++,s=e.charCodeAt(o++),s>=55296&&s<=56319&&o<t&&(s=e.charCodeAt(o),(s&64512)==56320&&o++);return d}function w(e,d,t="2019-09",o=P(d),s=!0,a=null,r="#",n="#",h=Object.create(null)){if(d===!0)return{valid:!0,errors:[]};if(d===!1)return{valid:!1,errors:[{instanceLocation:r,keyword:"false",keywordLocation:r,error:"False boolean schema."}]};const c=typeof e;let k;switch(c){case"boolean":case"number":case"string":k=c;break;case"object":e===null?k="null":Array.isArray(e)?k="array":k="object";break;default:throw new Error(`Instances of "${c}" type are not supported.`)}const{$ref:M,$recursiveRef:Ie,$recursiveAnchor:T,type:I,const:R,enum:z,required:re,not:te,anyOf:D,allOf:H,oneOf:de,if:fe,then:oe,else:ne,format:A,properties:Y,patternProperties:G,additionalProperties:se,unevaluatedProperties:ie,minProperties:W,maxProperties:B,propertyNames:ue,dependentRequired:X,dependentSchemas:Z,dependencies:Q,prefixItems:C,items:E,additionalItems:ae,unevaluatedItems:le,contains:$e,minContains:x,maxContains:V,minItems:L,maxItems:ee,uniqueItems:be,minimum:O,maximum:v,exclusiveMinimum:S,exclusiveMaximum:N,multipleOf:q,minLength:F,maxLength:U,pattern:me,__absolute_ref__:J,__absolute_recursive_ref__:xe}=d,i=[];if(T===!0&&a===null&&(a=d),Ie==="#"){const $=a===null?o[xe]:a,l=`${n}/$recursiveRef`,y=w(e,a===null?d:a,t,o,s,$,r,l,h);y.valid||i.push({instanceLocation:r,keyword:"$recursiveRef",keywordLocation:l,error:"A subschema had errors."},...y.errors)}if(M!==void 0){const l=o[J||M];if(l===void 0){let f=`Unresolved $ref "${M}".`;throw J&&J!==M&&(f+=`  Absolute URI "${J}".`),f+=`
Known schemas:
- ${Object.keys(o).join(`
- `)}`,new Error(f)}const y=`${n}/$ref`,u=w(e,l,t,o,s,a,r,y,h);if(u.valid||i.push({instanceLocation:r,keyword:"$ref",keywordLocation:y,error:"A subschema had errors."},...u.errors),t==="4"||t==="7")return{valid:i.length===0,errors:i}}if(Array.isArray(I)){let $=I.length,l=!1;for(let y=0;y<$;y++)if(k===I[y]||I[y]==="integer"&&k==="number"&&e%1===0&&e===e){l=!0;break}l||i.push({instanceLocation:r,keyword:"type",keywordLocation:`${n}/type`,error:`Instance type "${k}" is invalid. Expected "${I.join('", "')}".`})}else I==="integer"?(k!=="number"||e%1||e!==e)&&i.push({instanceLocation:r,keyword:"type",keywordLocation:`${n}/type`,error:`Instance type "${k}" is invalid. Expected "${I}".`}):I!==void 0&&k!==I&&i.push({instanceLocation:r,keyword:"type",keywordLocation:`${n}/type`,error:`Instance type "${k}" is invalid. Expected "${I}".`});if(R!==void 0&&(k==="object"||k==="array"?j(e,R)||i.push({instanceLocation:r,keyword:"const",keywordLocation:`${n}/const`,error:`Instance does not match ${JSON.stringify(R)}.`}):e!==R&&i.push({instanceLocation:r,keyword:"const",keywordLocation:`${n}/const`,error:`Instance does not match ${JSON.stringify(R)}.`})),z!==void 0&&(k==="object"||k==="array"?z.some($=>j(e,$))||i.push({instanceLocation:r,keyword:"enum",keywordLocation:`${n}/enum`,error:`Instance does not match any of ${JSON.stringify(z)}.`}):z.some($=>e===$)||i.push({instanceLocation:r,keyword:"enum",keywordLocation:`${n}/enum`,error:`Instance does not match any of ${JSON.stringify(z)}.`})),te!==void 0){const $=`${n}/not`;w(e,te,t,o,s,a,r,$).valid&&i.push({instanceLocation:r,keyword:"not",keywordLocation:$,error:'Instance matched "not" schema.'})}let K=[];if(D!==void 0){const $=`${n}/anyOf`,l=i.length;let y=!1;for(let u=0;u<D.length;u++){const f=D[u],p=Object.create(h),m=w(e,f,t,o,s,T===!0?a:null,r,`${$}/${u}`,p);i.push(...m.errors),y=y||m.valid,m.valid&&K.push(p)}y?i.length=l:i.splice(l,0,{instanceLocation:r,keyword:"anyOf",keywordLocation:$,error:"Instance does not match any subschemas."})}if(H!==void 0){const $=`${n}/allOf`,l=i.length;let y=!0;for(let u=0;u<H.length;u++){const f=H[u],p=Object.create(h),m=w(e,f,t,o,s,T===!0?a:null,r,`${$}/${u}`,p);i.push(...m.errors),y=y&&m.valid,m.valid&&K.push(p)}y?i.length=l:i.splice(l,0,{instanceLocation:r,keyword:"allOf",keywordLocation:$,error:"Instance does not match every subschema."})}if(de!==void 0){const $=`${n}/oneOf`,l=i.length,y=de.filter((u,f)=>{const p=Object.create(h),m=w(e,u,t,o,s,T===!0?a:null,r,`${$}/${f}`,p);return i.push(...m.errors),m.valid&&K.push(p),m.valid}).length;y===1?i.length=l:i.splice(l,0,{instanceLocation:r,keyword:"oneOf",keywordLocation:$,error:`Instance does not match exactly one subschema (${y} matches).`})}if((k==="object"||k==="array")&&Object.assign(h,...K),fe!==void 0){const $=`${n}/if`;if(w(e,fe,t,o,s,a,r,$,h).valid){if(oe!==void 0){const y=w(e,oe,t,o,s,a,r,`${n}/then`,h);y.valid||i.push({instanceLocation:r,keyword:"if",keywordLocation:$,error:'Instance does not match "then" schema.'},...y.errors)}}else if(ne!==void 0){const y=w(e,ne,t,o,s,a,r,`${n}/else`,h);y.valid||i.push({instanceLocation:r,keyword:"if",keywordLocation:$,error:'Instance does not match "else" schema.'},...y.errors)}}if(k==="object"){if(re!==void 0)for(const u of re)u in e||i.push({instanceLocation:r,keyword:"required",keywordLocation:`${n}/required`,error:`Instance does not have required property "${u}".`});const $=Object.keys(e);if(W!==void 0&&$.length<W&&i.push({instanceLocation:r,keyword:"minProperties",keywordLocation:`${n}/minProperties`,error:`Instance does not have at least ${W} properties.`}),B!==void 0&&$.length>B&&i.push({instanceLocation:r,keyword:"maxProperties",keywordLocation:`${n}/maxProperties`,error:`Instance does not have at least ${B} properties.`}),ue!==void 0){const u=`${n}/propertyNames`;for(const f in e){const p=`${r}/${_(f)}`,m=w(f,ue,t,o,s,a,p,u);m.valid||i.push({instanceLocation:r,keyword:"propertyNames",keywordLocation:u,error:`Property name "${f}" does not match schema.`},...m.errors)}}if(X!==void 0){const u=`${n}/dependantRequired`;for(const f in X)if(f in e){const p=X[f];for(const m of p)m in e||i.push({instanceLocation:r,keyword:"dependentRequired",keywordLocation:u,error:`Instance has "${f}" but does not have "${m}".`})}}if(Z!==void 0)for(const u in Z){const f=`${n}/dependentSchemas`;if(u in e){const p=w(e,Z[u],t,o,s,a,r,`${f}/${_(u)}`,h);p.valid||i.push({instanceLocation:r,keyword:"dependentSchemas",keywordLocation:f,error:`Instance has "${u}" but does not match dependant schema.`},...p.errors)}}if(Q!==void 0){const u=`${n}/dependencies`;for(const f in Q)if(f in e){const p=Q[f];if(Array.isArray(p))for(const m of p)m in e||i.push({instanceLocation:r,keyword:"dependencies",keywordLocation:u,error:`Instance has "${f}" but does not have "${m}".`});else{const m=w(e,p,t,o,s,a,r,`${u}/${_(f)}`);m.valid||i.push({instanceLocation:r,keyword:"dependencies",keywordLocation:u,error:`Instance has "${f}" but does not match dependant schema.`},...m.errors)}}}const l=Object.create(null);let y=!1;if(Y!==void 0){const u=`${n}/properties`;for(const f in Y){if(!(f in e))continue;const p=`${r}/${_(f)}`,m=w(e[f],Y[f],t,o,s,a,p,`${u}/${_(f)}`);if(m.valid)h[f]=l[f]=!0;else if(y=s,i.push({instanceLocation:r,keyword:"properties",keywordLocation:u,error:`Property "${f}" does not match schema.`},...m.errors),y)break}}if(!y&&G!==void 0){const u=`${n}/patternProperties`;for(const f in G){const p=new RegExp(f,"u"),m=G[f];for(const g in e){if(!p.test(g))continue;const pe=`${r}/${_(g)}`,ye=w(e[g],m,t,o,s,a,pe,`${u}/${_(f)}`);ye.valid?h[g]=l[g]=!0:(y=s,i.push({instanceLocation:r,keyword:"patternProperties",keywordLocation:u,error:`Property "${g}" matches pattern "${f}" but does not match associated schema.`},...ye.errors))}}}if(!y&&se!==void 0){const u=`${n}/additionalProperties`;for(const f in e){if(l[f])continue;const p=`${r}/${_(f)}`,m=w(e[f],se,t,o,s,a,p,u);m.valid?h[f]=!0:(y=s,i.push({instanceLocation:r,keyword:"additionalProperties",keywordLocation:u,error:`Property "${f}" does not match additional properties schema.`},...m.errors))}}else if(!y&&ie!==void 0){const u=`${n}/unevaluatedProperties`;for(const f in e)if(!h[f]){const p=`${r}/${_(f)}`,m=w(e[f],ie,t,o,s,a,p,u);m.valid?h[f]=!0:i.push({instanceLocation:r,keyword:"unevaluatedProperties",keywordLocation:u,error:`Property "${f}" does not match unevaluated properties schema.`},...m.errors)}}}else if(k==="array"){ee!==void 0&&e.length>ee&&i.push({instanceLocation:r,keyword:"maxItems",keywordLocation:`${n}/maxItems`,error:`Array has too many items (${e.length} > ${ee}).`}),L!==void 0&&e.length<L&&i.push({instanceLocation:r,keyword:"minItems",keywordLocation:`${n}/minItems`,error:`Array has too few items (${e.length} < ${L}).`});const $=e.length;let l=0,y=!1;if(C!==void 0){const u=`${n}/prefixItems`,f=Math.min(C.length,$);for(;l<f;l++){const p=w(e[l],C[l],t,o,s,a,`${r}/${l}`,`${u}/${l}`);if(h[l]=!0,!p.valid&&(y=s,i.push({instanceLocation:r,keyword:"prefixItems",keywordLocation:u,error:"Items did not match schema."},...p.errors),y))break}}if(E!==void 0){const u=`${n}/items`;if(Array.isArray(E)){const f=Math.min(E.length,$);for(;l<f;l++){const p=w(e[l],E[l],t,o,s,a,`${r}/${l}`,`${u}/${l}`);if(h[l]=!0,!p.valid&&(y=s,i.push({instanceLocation:r,keyword:"items",keywordLocation:u,error:"Items did not match schema."},...p.errors),y))break}}else for(;l<$;l++){const f=w(e[l],E,t,o,s,a,`${r}/${l}`,u);if(h[l]=!0,!f.valid&&(y=s,i.push({instanceLocation:r,keyword:"items",keywordLocation:u,error:"Items did not match schema."},...f.errors),y))break}if(!y&&ae!==void 0){const f=`${n}/additionalItems`;for(;l<$;l++){const p=w(e[l],ae,t,o,s,a,`${r}/${l}`,f);h[l]=!0,p.valid||(y=s,i.push({instanceLocation:r,keyword:"additionalItems",keywordLocation:f,error:"Items did not match additional items schema."},...p.errors))}}}if($e!==void 0)if($===0&&x===void 0)i.push({instanceLocation:r,keyword:"contains",keywordLocation:`${n}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(x!==void 0&&$<x)i.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${n}/minContains`,error:`Array has less items (${$}) than minContains (${x}).`});else{const u=`${n}/contains`,f=i.length;let p=0;for(let m=0;m<$;m++){const g=w(e[m],$e,t,o,s,a,`${r}/${m}`,u);g.valid?(h[m]=!0,p++):i.push(...g.errors)}p>=(x||0)&&(i.length=f),x===void 0&&V===void 0&&p===0?i.splice(f,0,{instanceLocation:r,keyword:"contains",keywordLocation:u,error:"Array does not contain item matching schema."}):x!==void 0&&p<x?i.push({instanceLocation:r,keyword:"minContains",keywordLocation:`${n}/minContains`,error:`Array must contain at least ${x} items matching schema. Only ${p} items were found.`}):V!==void 0&&p>V&&i.push({instanceLocation:r,keyword:"maxContains",keywordLocation:`${n}/maxContains`,error:`Array may contain at most ${V} items matching schema. ${p} items were found.`})}if(!y&&le!==void 0){const u=`${n}/unevaluatedItems`;for(l;l<$;l++){if(h[l])continue;const f=w(e[l],le,t,o,s,a,`${r}/${l}`,u);h[l]=!0,f.valid||i.push({instanceLocation:r,keyword:"unevaluatedItems",keywordLocation:u,error:"Items did not match unevaluated items schema."},...f.errors)}}if(be)for(let u=0;u<$;u++){const f=e[u],p=typeof f=="object"&&f!==null;for(let m=0;m<$;m++){if(u===m)continue;const g=e[m];(f===g||p&&(typeof g=="object"&&g!==null)&&j(f,g))&&(i.push({instanceLocation:r,keyword:"uniqueItems",keywordLocation:`${n}/uniqueItems`,error:`Duplicate items at indexes ${u} and ${m}.`}),u=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER)}}}else if(k==="number"){if(t==="4"?(O!==void 0&&(S===!0&&e<=O||e<O)&&i.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${n}/minimum`,error:`${e} is less than ${S?"or equal to ":""} ${O}.`}),v!==void 0&&(N===!0&&e>=v||e>v)&&i.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${n}/maximum`,error:`${e} is greater than ${N?"or equal to ":""} ${v}.`})):(O!==void 0&&e<O&&i.push({instanceLocation:r,keyword:"minimum",keywordLocation:`${n}/minimum`,error:`${e} is less than ${O}.`}),v!==void 0&&e>v&&i.push({instanceLocation:r,keyword:"maximum",keywordLocation:`${n}/maximum`,error:`${e} is greater than ${v}.`}),S!==void 0&&e<=S&&i.push({instanceLocation:r,keyword:"exclusiveMinimum",keywordLocation:`${n}/exclusiveMinimum`,error:`${e} is less than ${S}.`}),N!==void 0&&e>=N&&i.push({instanceLocation:r,keyword:"exclusiveMaximum",keywordLocation:`${n}/exclusiveMaximum`,error:`${e} is greater than or equal to ${N}.`})),q!==void 0){const $=e%q;Math.abs(0-$)>=11920929e-14&&Math.abs(q-$)>=11920929e-14&&i.push({instanceLocation:r,keyword:"multipleOf",keywordLocation:`${n}/multipleOf`,error:`${e} is not a multiple of ${q}.`})}}else if(k==="string"){const $=F===void 0&&U===void 0?0:cr(e);F!==void 0&&$<F&&i.push({instanceLocation:r,keyword:"minLength",keywordLocation:`${n}/minLength`,error:`String is too short (${$} < ${F}).`}),U!==void 0&&$>U&&i.push({instanceLocation:r,keyword:"maxLength",keywordLocation:`${n}/maxLength`,error:`String is too long (${$} > ${U}).`}),me!==void 0&&!new RegExp(me,"u").test(e)&&i.push({instanceLocation:r,keyword:"pattern",keywordLocation:`${n}/pattern`,error:"String does not match pattern."}),A!==void 0&&we[A]&&!we[A](e)&&i.push({instanceLocation:r,keyword:"format",keywordLocation:`${n}/format`,error:`String does not match format "${A}".`})}return{valid:i.length===0,errors:i}}class Or{schema;draft;shortCircuit;lookup;constructor(d,t="2019-09",o=!0){this.schema=d,this.draft=t,this.shortCircuit=o,this.lookup=P(d)}validate(d){return w(d,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(d,t){t&&(d={...d,$id:t}),P(d,this.lookup)}}const vr=e=>new Or(e,"7",!1);function Pr(e,d=new WeakMap){let t="",o=!1,s=new WeakRef({});const a=Ae(d,r=>{const n=he(r);return e(o?Ye(n,t):n)});return(r,n)=>{t=n[Te]??Me,o=r!==n;const h=a(r);return o&&s.deref()!==n&&(s=new WeakRef(n),h.addSchema(he(n),t)),h}}function Rr(e){const t=Ve(new WeakMap,e);return o=>t(o.schema)}function zr({createSchemaValidator:e,valueToJSON:d}){return{isValid(t,o,s){return typeof t=="boolean"?t:e(t,o).validate(d(s)).valid}}}function Er(e){return{validateFormValue(d,t){const o=e.createSchemaValidator(d,d),{valid:s,errors:a}=o.validate(e.valueToJSON(t));return s?{value:t}:{value:t,errors:a.map(r=>({path:He(r.instanceLocation,t),message:r.error}))}}}}function _e(e){return e.instanceLocation==="#"}function Sr(e){return _e(e)&&e.keyword!=="type"}function Nr({createFieldSchemaValidator:e,valueToJSON:d}){return{validateFieldValue(t,o){return e(t).validate(d(o)).errors.filter(t.required?_e:Sr).map(r=>r.error)}}}function jr({factory:e=vr,validatorsCache:d,createSchemaValidator:t=Pr(e,d),createFieldSchemaValidator:o=Rr(e),valueToJSON:s=r=>r==null?null:typeof r=="object"?JSON.parse(JSON.stringify(r)):r,...a}={}){const r={...a,valueToJSON:s,createSchemaValidator:t,createFieldSchemaValidator:o};return Object.assign(zr(r),Er(r),Nr(r))}var Mr=Se("<!> <pre> </pre>",1);function Qr(e,d){ce(d,!0);const t=Ke({...Ge,schema:Xe,uiSchema:Be,validator:jr,fieldsValidationMode:Fe|Ue|Je,initialValue:We});var o=Mr(),s=Oe(o);De(s,{get form(){return t},novalidate:!0});var a=ze(s,2),r=Ne(a,!0);je(a),ve(n=>Ee(r,n),[()=>JSON.stringify(qe(t),null,2)]),Pe(e,o),Re()}export{Qr as default};
