import{p as I,j as k,M as C,X as D,k as m,N as L,l as p,Q as R,R as W}from"./definitions.DhQsISar.js";import"./_commonjsHelpers.B6s2aKwq.js";import{p as b,l as y,e as v,b as h,a as j,g as o,u,ar as q}from"./render.C2f5VKUu.js";import{a as B,b as H}from"./file-include.CAVyYWvO.js";import{c as M}from"./validator.BPZpg7GR.js";function N(F,r){b(r,!0);let i=I(r,"value",15);const a=k(),_=u(()=>p(a,"fieldTemplate",r.config)),l="fileWidget",A=u(()=>p(a,l,r.config)),O=C(a,()=>L(a,r.config,i())),s=B({initialOutput:void 0,getInput:()=>i(),setInput:e=>i(e),isEqual:(e,t)=>e===void 0&&t===void 0||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((n,c)=>n===t[c]),async toOutput(e,t){const n=new DataTransfer;return t!==void 0&&await H(a,e,n,t),n.files},async toInput(e,t){return t&&Promise.all(Array.from(t).map(n=>D(e,n)))}}),g=u(()=>R(a,r.config.id));var d=y(),T=v(d);m(T,()=>o(_),(e,t)=>{t(e,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return r.uiOption},widgetType:l,get value(){return i()},get config(){return r.config},get errors(){return o(g)},children:(n,c)=>{var f=y(),w=v(f);m(w,()=>o(A),(P,x)=>{x(P,{type:"widget",get processing(){return s.inputProcessing},get loading(){return s.outputProcessing},get uiOption(){return r.uiOption},get handlers(){return O},get errors(){return o(g)},get config(){return r.config},multiple:!0,get value(){return s.current},set value(E){s.current=E}})}),h(n,f)},$$slots:{default:!0}})}),h(F,d),j()}W.filesField=N;q();M();export{N as F};
