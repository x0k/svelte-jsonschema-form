import"./_commonjsHelpers.BzMcPD46.js";import{p as A,l as y,a as b,b as p,c as I,g as e,u as i,f as k,e as B,s as E,X as N,r as U}from"./render.ioaXADLG.js";import{c as D,f as G,g as H}from"./en.RehLlS_N.js";import{s as K,i as M,n as X,m as z,E as J,G as Q,o as V,u as W,q as Y,H as Z,t as $,d as ee}from"./definitions.B3QdxsEi.js";import{s as te}from"./snippet.SvdxwXcX.js";import{g as F}from"./path.B67Qsnh-.js";import{d as re}from"./form-defaults.Dbf0crwY.js";import"./function.BfuHTiS3.js";import"./file-include.CP7i8mO1.js";import"./textarea-include.DpoQi6DY.js";import"./validator.dwLAcooG.js";function P(v,o){A(o,!0);const r=o.form.context,n=i(()=>o.name===""?[]:o.name.split(".")),u=i(()=>ee(e(n),r)),m=i(()=>{if(e(n).length===0)return r;let t=r.value,a=-1;const s=e(n).length-1;for(;J(t)&&++a<s;)t=t[e(n)[a]];if(a!==s)throw console.error("Current form state",Q(r.value)),new Error(`Path "${o.name}" is not populated or invalid, check current form state`);const c=e(n)[s];return{get value(){return t[c]},set value(l){t[c]=l}}}),h=i(()=>{if(e(n).length<2)return r.schema;const a=F(r.schema,r.schema,e(n).slice(0,-1));return a===void 0||typeof a=="boolean"?{}:a}),f=i(()=>{if(e(n).length===0)return r.schema;const t=F(r.schema,e(h),e(n).slice(-1));return t===void 0||typeof t=="boolean"?{}:t}),g=i(()=>$(r,e(f),e(m).value)),S=i(()=>o.uiSchema??Z(r.uiSchemaRoot,r.uiSchema,e(n))??{}),O=i(()=>{if(o.required!==void 0)return o.required;if(e(n).length===0)return!1;const t=e(n)[e(n).length-1],{required:a,items:s,minItems:c}=e(h);if(Array.isArray(a))return a.includes(t);const l=Number(t);if(Number.isInteger(l)&&l>=0){if(c!==void 0)return l<c;if(Array.isArray(s))return l<s.length}return!1}),d=i(()=>({id:e(u),title:W(r,e(S))??e(g).title??"",schema:e(g),uiSchema:e(S),required:e(O)})),_=i(()=>V(r,e(d))),x=t=>X(r,e(d),t),w=i(()=>o.render??o.children);K(r);var q=y(),C=b(q);{var L=t=>{var a=y(),s=b(a);te(s,()=>e(w),()=>({type:"field",config:e(d),translate:e(_),uiOption:x,valueRef:e(m)})),p(t,a)},R=t=>{var a=y();const s=i(()=>Y(r,e(d)));var c=b(a);z(c,()=>e(s),(l,T)=>{T(l,{type:"field",get config(){return e(d)},uiOption:x,get translate(){return e(_)},get value(){return e(m).value},set value(j){e(m).value=j}})}),p(t,a)};M(C,t=>{e(w)?t(L):t(R,!1)})}p(v,q),I()}var ne=k('<form novalidate="" style="display: flex; flex-direction: column; gap: 1rem;"><!> <!> <button type="submit">Submit</button></form>');function ge(v,o){A(o,!0);const n=D({...re,schema:{type:"object",properties:{login:{title:"Login",type:"string",minLength:3},password:{title:"Password",type:"string",minLength:6}},required:["login","password"],additionalProperties:!1},onSubmit(f){console.log(f)}});var u=ne(),m=B(u);P(m,{get form(){return n},name:"login"});var h=E(m,2);P(h,{get form(){return n},name:"password",uiSchema:{"ui:options":{text:{type:"password"}}}}),N(2),U(u),G(u,(f,g)=>H?.(f,g),()=>n.context),p(v,u),I()}export{ge as default};
