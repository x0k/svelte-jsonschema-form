import"./_commonjsHelpers.DNRlJwnI.js";import{p as G,f as Y,d as Q,t as X,b as ee,a as te,s as ne,e as ae,c as re,r as ie}from"./render.Du_FJbqY.js";import{t as se,v as oe,$ as w,ar as ue,O as le,a as pe,b as ce}from"./definitions.eEj4mA_r.js";import{c as de}from"./index.5UQRV8c5.js";import{B as fe}from"./basic-form.Cz4yyuTH.js";import{g as me}from"./model.C74rthmq.js";import{B as ye,D as ge,E as he,I as be,N as ve,O as Oe,P as Pe,Z,a as $e,b as Ze,d as Ae,f as Te,g as ke,h as _e,i as ze,j as je,k as Se,l as z,m as Ne,n as Me,o as l,p as xe,q as we,r as De,s as Ie,t as Ee,u as Fe,v as Le,w as Re,x as Ve,y as Ce,z as Je,A as Ue,C as Be,F as D,G as qe,H as Ke,J as We,K as He,L as Ge,M as Ye,Q as Qe,R as Xe,S as et,T as tt,U as nt,V as at,W as rt,X as it,Y as st,_ as k,$ as ot,a0 as I,a1 as ut,c as lt,a2 as pt,a3 as ct,a4 as dt,a5 as ft,a6 as j,e as E,a7 as mt,a8 as yt,a9 as gt,aa as ht,ab as bt,ac as vt,ad as Ot,ae as Pt,af as $t,ag as Zt,ah as At,ai as Tt,aj as kt,ak as _t,al as zt,am as jt,an as St,ao as Nt,ap as Mt,aq as xt,ar as F,as as wt,at as Dt,au as It,av as Et,aw as Ft,ax as Lt,ay as Rt,az as Vt,aA as Ct,aB as Jt,aC as Ut,aD as Bt,aE as qt,aF as _,aG as Kt,aH as Wt,aI as Ht,aJ as Gt,aK as Yt,aL as Qt,aM as Xt}from"./types.CFgIrY05.js";import{d as en}from"./form-defaults.aGioJRlS.js";import{i as tn,u as S}from"./index.BPQVTpeN.js";import"./function.CbZTDZ7J.js";import"./snippet.-1rPG3Sv.js";import"./form.SMCdV1zO.js";import"./content.C1opV1Vb.js";import"./submit-button.kijV43gy.js";import"./path.Cp02l8e_.js";import"./file-include.DO9acDP0.js";import"./textarea-include.CvbUPEJf.js";import"./validator.CALPKy-P.js";const nn=Object.freeze(Object.defineProperty({__proto__:null,BRAND:ye,DIRTY:ge,EMPTY_PATH:he,INVALID:be,NEVER:ve,OK:Oe,ParseStatus:Pe,Schema:Z,ZodAny:$e,ZodArray:Ze,ZodBigInt:Ae,ZodBoolean:Te,ZodBranded:ke,ZodCatch:_e,ZodDate:ze,ZodDefault:je,ZodDiscriminatedUnion:Se,ZodEffects:z,ZodEnum:Ne,ZodError:Me,get ZodFirstPartyTypeKind(){return l},ZodFunction:xe,ZodIntersection:we,ZodIssueCode:De,ZodLazy:Ie,ZodLiteral:Ee,ZodMap:Fe,ZodNaN:Le,ZodNativeEnum:Re,ZodNever:Ve,ZodNull:Ce,ZodNullable:Je,ZodNumber:Ue,ZodObject:Be,ZodOptional:D,ZodParsedType:qe,ZodPipeline:Ke,ZodPromise:We,ZodReadonly:He,ZodRecord:Ge,ZodSchema:Z,ZodSet:Ye,ZodString:Qe,ZodSymbol:Xe,ZodTransformer:z,ZodTuple:et,ZodType:Z,ZodUndefined:tt,ZodUnion:nt,ZodUnknown:at,ZodVoid:rt,addIssueToContext:it,any:st,array:k,bigint:ot,boolean:I,coerce:ut,custom:lt,date:pt,datetimeRegex:ct,defaultErrorMap:dt,discriminatedUnion:ft,effect:j,enum:E,function:mt,getErrorMap:yt,getParsedType:gt,instanceof:ht,intersection:bt,isAborted:vt,isAsync:Ot,isDirty:Pt,isValid:$t,late:Zt,lazy:At,literal:Tt,makeIssue:kt,map:_t,nan:zt,nativeEnum:jt,never:St,null:Nt,nullable:Mt,number:xt,object:F,get objectUtil(){return wt},oboolean:Dt,onumber:It,optional:Et,ostring:Ft,pipeline:Lt,preprocess:Rt,promise:Vt,quotelessJson:Ct,record:Jt,set:Ut,setErrorMap:Bt,strictObject:qt,string:_,symbol:Kt,transformer:j,tuple:Wt,undefined:Ht,union:Gt,unknown:Yt,get util(){return Qt},void:Xt},Symbol.toStringTag,{value:"Module"})),L=(e,t)=>e.anyOf.length?e.anyOf.length===1?m(e.anyOf[0],{...t,path:[...t.path,"anyOf",0]}):`z.union([${e.anyOf.map((a,n)=>m(a,{...t,path:[...t.path,"anyOf",n]})).join(", ")}])`:"z.any()",an=e=>"z.boolean()",rn=e=>"z.any()",sn=(e,t)=>`z.union([${e.type.map(a=>m({...e,type:a},{...t,withoutDefaults:!0})).join(", ")}])`,on=(e,t)=>`z.any().refine((value) => !${m(e.not,{...t,path:[...t.path,"not"]})}.safeParse(value).success, "Invalid input: Should NOT be valid against schema")`,un=e=>"z.null()",ln=e=>[e.slice(0,e.length/2),e.slice(e.length/2)],O=Symbol("Original index"),pn=e=>{let t=[];for(let a=0;a<e.length;a++){const n=e[a];if(typeof n=="boolean")t.push(n?{[O]:a}:{[O]:a,not:{}});else{if(O in n)return e;t.push({...n,[O]:a})}}return t};function P(e,t){if(e.allOf.length===0)return"z.never()";if(e.allOf.length===1){const a=e.allOf[0];return m(a,{...t,path:[...t.path,"allOf",a[O]]})}else{const[a,n]=ln(pn(e.allOf));return`z.intersection(${P({allOf:a},t)}, ${P({allOf:n},t)})`}}function f(e,t,a){const n=e[t];let r="";if(n!==void 0){const s=a({value:n,json:JSON.stringify(n)});if(s){const i=s[0],o=s.length===3?s[1]:"",u=s.length===3?s[2]:s[1];r+=i,e.errorMessage?.[t]!==void 0&&(r+=o+JSON.stringify(e.errorMessage[t])),r+=u}}return r}const cn=(e,t)=>{if(Array.isArray(e.items))return`z.tuple([${e.items.map((n,r)=>m(n,{...t,path:[...t.path,"items",r]}))}])`;let a=e.items?`z.array(${m(e.items,{...t,path:[...t.path,"items"]})})`:"z.array(z.any())";return a+=f(e,"minItems",({json:n})=>[`.min(${n}`,", ",")"]),a+=f(e,"maxItems",({json:n})=>[`.max(${n}`,", ",")"]),a},dn=e=>`z.literal(${JSON.stringify(e.const)})`,fn=e=>e.enum.length===0?"z.never()":e.enum.length===1?`z.literal(${JSON.stringify(e.enum[0])})`:e.enum.every(t=>typeof t=="string")?`z.enum([${e.enum.map(t=>JSON.stringify(t))}])`:`z.union([${e.enum.map(t=>`z.literal(${JSON.stringify(t)})`).join(", ")}])`,mn=(e,t)=>{const a=m(e.if,{...t,path:[...t.path,"if"]}),n=m(e.then,{...t,path:[...t.path,"then"]}),r=m(e.else,{...t,path:[...t.path,"else"]});return`z.union([${n}, ${r}]).superRefine((value,ctx) => {
  const result = ${a}.safeParse(value).success
    ? ${n}.safeParse(value)
    : ${r}.safeParse(value);
  if (!result.success) {
    result.error.errors.forEach((error) => ctx.addIssue(error))
  }
})`},yn=e=>{let t="z.number()";return e.type==="integer"?t+=f(e,"type",()=>[".int(",")"]):t+=f(e,"format",({value:a})=>{if(a==="int64")return[".int(",")"]}),t+=f(e,"multipleOf",({value:a,json:n})=>a===1?t.startsWith("z.number().int(")?void 0:[".int(",")"]:[`.multipleOf(${n}`,", ",")"]),typeof e.minimum=="number"?e.exclusiveMinimum===!0?t+=f(e,"minimum",({json:a})=>[`.gt(${a}`,", ",")"]):t+=f(e,"minimum",({json:a})=>[`.gte(${a}`,", ",")"]):typeof e.exclusiveMinimum=="number"&&(t+=f(e,"exclusiveMinimum",({json:a})=>[`.gt(${a}`,", ",")"])),typeof e.maximum=="number"?e.exclusiveMaximum===!0?t+=f(e,"maximum",({json:a})=>[`.lt(${a}`,", ",")"]):t+=f(e,"maximum",({json:a})=>[`.lte(${a}`,", ",")"]):typeof e.exclusiveMaximum=="number"&&(t+=f(e,"exclusiveMaximum",({json:a})=>[`.lt(${a}`,", ",")"])),t},R=(e,t)=>e.oneOf.length?e.oneOf.length===1?m(e.oneOf[0],{...t,path:[...t.path,"oneOf",0]}):`z.any().superRefine((x, ctx) => {
    const schemas = [${e.oneOf.map((a,n)=>m(a,{...t,path:[...t.path,"oneOf",n]})).join(", ")}];
    const errors = schemas.reduce<z.ZodError[]>(
      (errors, schema) =>
        ((result) =>
          result.error ? [...errors, result.error] : errors)(
          schema.safeParse(x),
        ),
      [],
    );
    if (schemas.length - errors.length !== 1) {
      ctx.addIssue({
        path: ctx.path,
        code: "invalid_union",
        unionErrors: errors,
        message: "Invalid input: Should pass single schema",
      });
    }
  })`:"z.any()",V=e=>{const t=e.split(`
`);return`/**${t.length===1?t[0]:`
${t.map(n=>`* ${n}`).join(`
`)}
`}*/
`},gn=(e,t)=>{const a=e.description;return a?`
${V(a)}${t}`:t};function hn(e,t){let a;e.properties&&(Object.keys(e.properties).length?(a="z.object({ ",a+=Object.keys(e.properties).map(i=>{const o=e.properties[i];let u=`${JSON.stringify(i)}: ${m(o,{...t,path:[...t.path,"properties",i]})}`;t.withJsdocs&&typeof o=="object"&&(u=gn(o,u));const b=typeof o=="object"&&o.default!==void 0,v=Array.isArray(e.required)?e.required.includes(i):typeof o=="object"&&o.required===!0;return!b&&!v?`${u}.optional()`:u}).join(", "),a+=" })"):a="z.object({})");const n=e.additionalProperties!==void 0?m(e.additionalProperties,{...t,path:[...t.path,"additionalProperties"]}):void 0;let r;if(e.patternProperties){const i=Object.fromEntries(Object.entries(e.patternProperties).map(([o,u])=>[o,m(u,{...t,path:[...t.path,"patternProperties",o]})],{}));r="",a?n?r+=`.catchall(z.union([${[...Object.values(i),n].join(", ")}]))`:Object.keys(i).length>1?r+=`.catchall(z.union([${Object.values(i).join(", ")}]))`:r+=`.catchall(${Object.values(i)})`:n?r+=`z.record(z.union([${[...Object.values(i),n].join(", ")}]))`:Object.keys(i).length>1?r+=`z.record(z.union([${Object.values(i).join(", ")}]))`:r+=`z.record(${Object.values(i)})`,r+=`.superRefine((value, ctx) => {
`,r+=`for (const key in value) {
`,n&&(e.properties?r+=`let evaluated = [${Object.keys(e.properties).map(o=>JSON.stringify(o)).join(", ")}].includes(key)
`:r+=`let evaluated = false
`);for(const o in e.patternProperties)r+="if (key.match(new RegExp("+JSON.stringify(o)+`))) {
`,n&&(r+=`evaluated = true
`),r+="const result = "+i[o]+`.safeParse(value[key])
`,r+=`if (!result.success) {
`,r+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: Key matching regex /\${key}/ must match schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,r+=`}
`,r+=`}
`;n&&(r+=`if (!evaluated) {
`,r+="const result = "+n+`.safeParse(value[key])
`,r+=`if (!result.success) {
`,r+=`ctx.addIssue({
          path: [...ctx.path, key],
          code: 'custom',
          message: \`Invalid input: must match catchall schema\`,
          params: {
            issues: result.error.issues
          }
        })
`,r+=`}
`,r+=`}
`),r+=`}
`,r+="})"}let s=a?r?a+r:n?n==="z.never()"?a+".strict()":a+`.catchall(${n})`:a:r||(n?`z.record(${n})`:"z.record(z.any())");return d.an.anyOf(e)&&(s+=`.and(${L({...e,anyOf:e.anyOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?{...i,type:"object"}:i)},t)})`),d.a.oneOf(e)&&(s+=`.and(${R({...e,oneOf:e.oneOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?{...i,type:"object"}:i)},t)})`),d.an.allOf(e)&&(s+=`.and(${P({...e,allOf:e.allOf.map(i=>typeof i=="object"&&!i.type&&(i.properties||i.additionalProperties||i.patternProperties)?{...i,type:"object"}:i)},t)})`),s}const bn=e=>{let t="z.string()";t+=f(e,"format",({value:n})=>{switch(n){case"email":return[".email(",")"];case"ip":return[".ip(",")"];case"ipv4":return['.ip({ version: "v4"',", message: "," })"];case"ipv6":return['.ip({ version: "v6"',", message: "," })"];case"uri":return[".url(",")"];case"uuid":return[".uuid(",")"];case"date-time":return[".datetime({ offset: true",", message: "," })"];case"time":return[".time(",")"];case"date":return[".date(",")"];case"binary":return[".base64(",")"];case"duration":return[".duration(",")"]}}),t+=f(e,"pattern",({json:n})=>[`.regex(new RegExp(${n})`,", ",")"]),t+=f(e,"minLength",({json:n})=>[`.min(${n}`,", ",")"]),t+=f(e,"maxLength",({json:n})=>[`.max(${n}`,", ",")"]),t+=f(e,"contentEncoding",({value:n})=>{if(n==="base64")return[".base64(",")"]});const a=f(e,"contentMediaType",({value:n})=>{if(n==="application/json")return['.transform((str, ctx) => { try { return JSON.parse(str); } catch (err) { ctx.addIssue({ code: "custom", message: "Invalid JSON" }); }}',", ",")"]});return a!=""&&(t+=a,t+=f(e,"contentSchema",({value:n})=>{if(n&&n instanceof Object)return[`.pipe(${m(n)}`,", ",")"]})),t},vn=(e,...t)=>Object.keys(e).reduce((a,n)=>(t.includes(n)||(a[n]=e[n]),a),{}),On=(e,t)=>`${m(vn(e,"nullable"),t,!0)}.nullable()`,m=(e,t={seen:new Map,path:[]},a)=>{if(typeof e!="object")return e?"z.any()":"z.never()";if(t.parserOverride){const s=t.parserOverride(e,t);if(typeof s=="string")return s}let n=t.seen.get(e);if(n){if(n.r!==void 0)return n.r;if(t.depth===void 0||n.n>=t.depth)return"z.any()";n.n+=1}else n={r:void 0,n:0},t.seen.set(e,n);let r=An(e,t);return a||(t.withoutDescribes||(r=Pn(e,r)),t.withoutDefaults||(r=$n(e,r)),r=Zn(e,r)),n.r=r,r},Pn=(e,t)=>(e.description&&(t+=`.describe(${JSON.stringify(e.description)})`),t),$n=(e,t)=>(e.default!==void 0&&(t+=`.default(${JSON.stringify(e.default)})`),t),Zn=(e,t)=>(e.readOnly&&(t+=".readonly()"),t),An=(e,t)=>d.a.nullable(e)?On(e,t):d.an.object(e)?hn(e,t):d.an.array(e)?cn(e,t):d.an.anyOf(e)?L(e,t):d.an.allOf(e)?P(e,t):d.a.oneOf(e)?R(e,t):d.a.not(e)?on(e,t):d.an.enum(e)?fn(e):d.a.const(e)?dn(e):d.a.multipleType(e)?sn(e,t):d.a.primitive(e,"string")?bn(e):d.a.primitive(e,"number")||d.a.primitive(e,"integer")?yn(e):d.a.primitive(e,"boolean")?an():d.a.primitive(e,"null")?un():d.a.conditional(e)?mn(e,t):rn(),d={an:{object:e=>e.type==="object",array:e=>e.type==="array",anyOf:e=>e.anyOf!==void 0,allOf:e=>e.allOf!==void 0,enum:e=>e.enum!==void 0},a:{nullable:e=>e.nullable===!0,multipleType:e=>Array.isArray(e.type),not:e=>e.not!==void 0,const:e=>e.const!==void 0,primitive:(e,t)=>e.type===t,conditional:e=>!!("if"in e&&e.if&&"then"in e&&"else"in e&&e.then&&e.else),oneOf:e=>e.oneOf!==void 0}},Tn=(e,{module:t,name:a,type:n,noImport:r,...s}={})=>{if(n&&(!a||t!=="esm"))throw new Error("Option `type` requires `name` to be set and `module` to be `esm`");let i=m(e,{module:t,name:a,path:[],seen:new Map,...s});const o=s.withJsdocs&&typeof e!="boolean"&&e.description?V(e.description):"";if(t==="cjs"?(i=`${o}module.exports = ${a?`{ ${JSON.stringify(a)}: ${i} }`:i}
`,r||(i=`${o}const { z } = require("zod")

${i}`)):t==="esm"?(i=`${o}export ${a?`const ${a} =`:"default"} ${i}
`,r||(i=`import { z } from "zod"

${i}`)):a&&(i=`${o}const ${a} = ${i}`),n&&a){let u=typeof n=="string"?n:`${a[0].toUpperCase()}${a.substring(1)}`;i+=`export type ${u} = z.infer<typeof ${a}>
`}return i};function C(e){return(t,a)=>t.success?[]:t.error.issues.map(n=>{const r=se(n.path,e),s=oe(e.uiSchema??{},n.path)??me(a,n.path)??n.path[n.path.length-1]??r;return{instanceId:r,propertyTitle:String(s),message:n.message,error:n}})}function kn(e){return e.code!=="invalid_type"}function J(e,t){if(t.success)return[];const{issues:a}=t.error;return(e.required?a:a.filter(kn)).map(n=>({instanceId:e.id,propertyTitle:e.title,message:n.message,error:n}))}function U(e){return new Function("z",`return ${Tn(e)}`)(nn)}function _n(){const e=new WeakMap;let t;const a=w(e,n=>U(ue(n,t)));return(n,r)=>(t!==r&&(t=r,e.delete(n)),a(n))}function zn(){const t=w(new WeakMap,U);return a=>t(a.schema)}function jn({createZodSchema:e}){return{isValid(t,a,n){return typeof t=="boolean"?t:e(t,a).safeParse(n).success}}}function Sn(e){const t=C(e);return{validateFormValue(a,n){return t(e.zodSchema.safeParse(n),a)}}}function Nn(e){const t=C(e);return{async validateFormValueAsync(a,n,r){const s=await e.zodSchema.safeParseAsync(r);return t(s,n)}}}function Mn({createFieldZodSchema:e}){return{validateFieldValue(t,a){const r=e(t).safeParse(a);return J(t,r)}}}function xn({createFieldZodSchema:e}){return{async validateFieldValueAsync(t,a,n){const s=await e(a).safeParseAsync(n);return J(a,s)}}}function wn(e,{async:t,createZodSchema:a=_n(),createFieldZodSchema:n=zn(),...r}={}){const s={...r,zodSchema:e,createZodSchema:a,createFieldZodSchema:n},i=jn(s);return t?Object.assign(i,Nn(s),xn(s)):Object.assign(i,Sn(s),Mn(s))}const Dn=Symbol("Let zodToJsonSchema decide on which parser to use"),N={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},In=e=>typeof e=="string"?{...N,name:e}:{...N,...e},En=e=>{const t=In(e),a=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,r])=>[r._def,{def:r._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function B(e,t,a,n){n?.errorMessages&&a&&(e.errorMessage={...e.errorMessage,[t]:a})}function c(e,t,a,n,r){e[t]=a,B(e,t,n,r)}function Fn(){return{}}function Ln(e,t){const a={type:"array"};return e.type?._def&&e.type?._def?.typeName!==l.ZodAny&&(a.items=p(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&c(a,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&c(a,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(c(a,"minItems",e.exactLength.value,e.exactLength.message,t),c(a,"maxItems",e.exactLength.value,e.exactLength.message,t)),a}function Rn(e,t){const a={type:"integer",format:"int64"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?c(a,"minimum",n.value,n.message,t):c(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),c(a,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?c(a,"maximum",n.value,n.message,t):c(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),c(a,"maximum",n.value,n.message,t));break;case"multipleOf":c(a,"multipleOf",n.value,n.message,t);break}return a}function Vn(){return{type:"boolean"}}function q(e,t){return p(e.type._def,t)}const Cn=(e,t)=>p(e.innerType._def,t);function K(e,t,a){const n=a??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((r,s)=>K(e,t,r))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return Jn(e,t)}}const Jn=(e,t)=>{const a={type:"integer",format:"unix-time"};if(t.target==="openApi3")return a;for(const n of e.checks)switch(n.kind){case"min":c(a,"minimum",n.value,n.message,t);break;case"max":c(a,"maximum",n.value,n.message,t);break}return a};function Un(e,t){return{...p(e.innerType._def,t),default:e.defaultValue()}}function Bn(e,t){return t.effectStrategy==="input"?p(e.schema._def,t):{}}function qn(e){return{type:"string",enum:Array.from(e.values)}}const Kn=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Wn(e,t){const a=[p(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),p(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(s=>!!s);let n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const r=[];return a.forEach(s=>{if(Kn(s))r.push(...s.allOf),s.unevaluatedProperties===void 0&&(n=void 0);else{let i=s;if("additionalProperties"in s&&s.additionalProperties===!1){const{additionalProperties:o,...u}=s;i=u}else n=void 0;r.push(i)}}),r.length?{allOf:r,...n}:void 0}function Hn(e,t){const a=typeof e.value;return a!=="bigint"&&a!=="number"&&a!=="boolean"&&a!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:a==="bigint"?"integer":a,enum:[e.value]}:{type:a==="bigint"?"integer":a,const:e.value}}let A;const g={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(A===void 0&&(A=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),A),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function W(e,t){const a={type:"string"};if(e.checks)for(const n of e.checks)switch(n.kind){case"min":c(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,t);break;case"max":c(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":h(a,"email",n.message,t);break;case"format:idn-email":h(a,"idn-email",n.message,t);break;case"pattern:zod":y(a,g.email,n.message,t);break}break;case"url":h(a,"uri",n.message,t);break;case"uuid":h(a,"uuid",n.message,t);break;case"regex":y(a,n.regex,n.message,t);break;case"cuid":y(a,g.cuid,n.message,t);break;case"cuid2":y(a,g.cuid2,n.message,t);break;case"startsWith":y(a,RegExp(`^${T(n.value,t)}`),n.message,t);break;case"endsWith":y(a,RegExp(`${T(n.value,t)}$`),n.message,t);break;case"datetime":h(a,"date-time",n.message,t);break;case"date":h(a,"date",n.message,t);break;case"time":h(a,"time",n.message,t);break;case"duration":h(a,"duration",n.message,t);break;case"length":c(a,"minLength",typeof a.minLength=="number"?Math.max(a.minLength,n.value):n.value,n.message,t),c(a,"maxLength",typeof a.maxLength=="number"?Math.min(a.maxLength,n.value):n.value,n.message,t);break;case"includes":{y(a,RegExp(T(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&h(a,"ipv4",n.message,t),n.version!=="v4"&&h(a,"ipv6",n.message,t);break}case"base64url":y(a,g.base64url,n.message,t);break;case"jwt":y(a,g.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&y(a,g.ipv4Cidr,n.message,t),n.version!=="v4"&&y(a,g.ipv6Cidr,n.message,t);break}case"emoji":y(a,g.emoji(),n.message,t);break;case"ulid":{y(a,g.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{h(a,"binary",n.message,t);break}case"contentEncoding:base64":{c(a,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{y(a,g.base64,n.message,t);break}}break}case"nanoid":y(a,g.nanoid,n.message,t)}return a}function T(e,t){return t.patternStrategy==="escape"?Yn(e):e}const Gn=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Yn(e){let t="";for(let a=0;a<e.length;a++)Gn.has(e[a])||(t+="\\"),t+=e[a];return t}function h(e,t,a,n){e.format||e.anyOf?.some(r=>r.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...a&&n.errorMessages&&{errorMessage:{format:a}}})):c(e,"format",t,a,n)}function y(e,t,a,n){e.pattern||e.allOf?.some(r=>r.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:M(t,n),...a&&n.errorMessages&&{errorMessage:{pattern:a}}})):c(e,"pattern",M(t,n),a,n)}function M(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const a={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=a.i?e.source.toLowerCase():e.source;let r="",s=!1,i=!1,o=!1;for(let u=0;u<n.length;u++){if(s){r+=n[u],s=!1;continue}if(a.i){if(i){if(n[u].match(/[a-z]/)){o?(r+=n[u],r+=`${n[u-2]}-${n[u]}`.toUpperCase(),o=!1):n[u+1]==="-"&&n[u+2]?.match(/[a-z]/)?(r+=n[u],o=!0):r+=`${n[u]}${n[u].toUpperCase()}`;continue}}else if(n[u].match(/[a-z]/)){r+=`[${n[u]}${n[u].toUpperCase()}]`;continue}}if(a.m){if(n[u]==="^"){r+=`(^|(?<=[\r
]))`;continue}else if(n[u]==="$"){r+=`($|(?=[\r
]))`;continue}}if(a.s&&n[u]==="."){r+=i?`${n[u]}\r
`:`[${n[u]}\r
]`;continue}r+=n[u],n[u]==="\\"?s=!0:i&&n[u]==="]"?i=!1:!i&&n[u]==="["&&(i=!0)}try{new RegExp(r)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return r}function H(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===l.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((n,r)=>({...n,[r]:p(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}}),{}),additionalProperties:t.rejectedAdditionalProperties};const a={type:"object",additionalProperties:p(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return a;if(e.keyType?._def.typeName===l.ZodString&&e.keyType._def.checks?.length){const{type:n,...r}=W(e.keyType._def,t);return{...a,propertyNames:r}}else{if(e.keyType?._def.typeName===l.ZodEnum)return{...a,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===l.ZodBranded&&e.keyType._def.type._def.typeName===l.ZodString&&e.keyType._def.type._def.checks?.length){const{type:n,...r}=q(e.keyType._def,t);return{...a,propertyNames:r}}}return a}function Qn(e,t){if(t.mapStrategy==="record")return H(e,t);const a=p(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=p(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[a,n],minItems:2,maxItems:2}}}function Xn(e){const t=e.values,n=Object.keys(e.values).filter(s=>typeof t[t[s]]!="number").map(s=>t[s]),r=Array.from(new Set(n.map(s=>typeof s)));return{type:r.length===1?r[0]==="string"?"string":"number":["string","number"],enum:n}}function ea(){return{not:{}}}function ta(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const $={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function na(e,t){if(t.target==="openApi3")return x(e,t);const a=e.options instanceof Map?Array.from(e.options.values()):e.options;if(a.every(n=>n._def.typeName in $&&(!n._def.checks||!n._def.checks.length))){const n=a.reduce((r,s)=>{const i=$[s._def.typeName];return i&&!r.includes(i)?[...r,i]:r},[]);return{type:n.length>1?n:n[0]}}else if(a.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=a.reduce((r,s)=>{const i=typeof s._def.value;switch(i){case"string":case"number":case"boolean":return[...r,i];case"bigint":return[...r,"integer"];case"object":if(s._def.value===null)return[...r,"null"];case"symbol":case"undefined":case"function":default:return r}},[]);if(n.length===a.length){const r=n.filter((s,i,o)=>o.indexOf(s)===i);return{type:r.length>1?r:r[0],enum:a.reduce((s,i)=>s.includes(i._def.value)?s:[...s,i._def.value],[])}}}else if(a.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:a.reduce((n,r)=>[...n,...r._def.values.filter(s=>!n.includes(s))],[])};return x(e,t)}const x=(e,t)=>{const a=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,r)=>p(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${r}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return a.length?{anyOf:a}:void 0};function aa(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:$[e.innerType._def.typeName],nullable:!0}:{type:[$[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const n=p(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const a=p(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}function ra(e,t){const a={type:"number"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"int":a.type="integer",B(a,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?c(a,"minimum",n.value,n.message,t):c(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),c(a,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?c(a,"maximum",n.value,n.message,t):c(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),c(a,"maximum",n.value,n.message,t));break;case"multipleOf":c(a,"multipleOf",n.value,n.message,t);break}return a}function ia(e,t){const a=t.target==="openAi",n={type:"object",properties:{}},r=[],s=e.shape();for(const o in s){let u=s[o];if(u===void 0||u._def===void 0)continue;let b=oa(u);b&&a&&(u instanceof D&&(u=u._def.innerType),u.isNullable()||(u=u.nullable()),b=!1);const v=p(u._def,{...t,currentPath:[...t.currentPath,"properties",o],propertyPath:[...t.currentPath,"properties",o]});v!==void 0&&(n.properties[o]=v,b||r.push(o))}r.length&&(n.required=r);const i=sa(e,t);return i!==void 0&&(n.additionalProperties=i),n}function sa(e,t){if(e.catchall._def.typeName!=="ZodNever")return p(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function oa(e){try{return e.isOptional()}catch{return!0}}const ua=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return p(e.innerType._def,t);const a=p(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}},la=(e,t)=>{if(t.pipeStrategy==="input")return p(e.in._def,t);if(t.pipeStrategy==="output")return p(e.out._def,t);const a=p(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=p(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]});return{allOf:[a,n].filter(r=>r!==void 0)}};function pa(e,t){return p(e.type._def,t)}function ca(e,t){const n={type:"array",uniqueItems:!0,items:p(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&c(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&c(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function da(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((a,n)=>p(a._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[]),additionalItems:p(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((a,n)=>p(a._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((a,n)=>n===void 0?a:[...a,n],[])}}function fa(){return{not:{}}}function ma(){return{}}const ya=(e,t)=>p(e.innerType._def,t),ga=(e,t,a)=>{switch(t){case l.ZodString:return W(e,a);case l.ZodNumber:return ra(e,a);case l.ZodObject:return ia(e,a);case l.ZodBigInt:return Rn(e,a);case l.ZodBoolean:return Vn();case l.ZodDate:return K(e,a);case l.ZodUndefined:return fa();case l.ZodNull:return ta(a);case l.ZodArray:return Ln(e,a);case l.ZodUnion:case l.ZodDiscriminatedUnion:return na(e,a);case l.ZodIntersection:return Wn(e,a);case l.ZodTuple:return da(e,a);case l.ZodRecord:return H(e,a);case l.ZodLiteral:return Hn(e,a);case l.ZodEnum:return qn(e);case l.ZodNativeEnum:return Xn(e);case l.ZodNullable:return aa(e,a);case l.ZodOptional:return ua(e,a);case l.ZodMap:return Qn(e,a);case l.ZodSet:return ca(e,a);case l.ZodLazy:return()=>e.getter()._def;case l.ZodPromise:return pa(e,a);case l.ZodNaN:case l.ZodNever:return ea();case l.ZodEffects:return Bn(e,a);case l.ZodAny:return Fn();case l.ZodUnknown:return ma();case l.ZodDefault:return Un(e,a);case l.ZodBranded:return q(e,a);case l.ZodReadonly:return ya(e,a);case l.ZodCatch:return Cn(e,a);case l.ZodPipeline:return la(e,a);case l.ZodFunction:case l.ZodVoid:case l.ZodSymbol:return;default:return(n=>{})()}};function p(e,t,a=!1){const n=t.seen.get(e);if(t.override){const o=t.override?.(e,t,n,a);if(o!==Dn)return o}if(n&&!a){const o=ha(n,t);if(o!==void 0)return o}const r={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,r);const s=ga(e,e.typeName,t),i=typeof s=="function"?p(s(),t):s;if(i&&va(e,t,i),t.postProcess){const o=t.postProcess(i,e,t);return r.jsonSchema=i,o}return r.jsonSchema=i,i}const ha=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:ba(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((a,n)=>t.currentPath[n]===a)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},ba=(e,t)=>{let a=0;for(;a<e.length&&a<t.length&&e[a]===t[a];a++);return[(e.length-a).toString(),...t.slice(a)].join("/")},va=(e,t,a)=>(e.description&&(a.description=e.description,t.markdownDescription&&(a.markdownDescription=e.description)),a),Oa=(e,t)=>{const a=En(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[b,v])=>({...u,[b]:p(v._def,{...a,currentPath:[...a.basePath,a.definitionPath,b]},!0)??{}}),{}):void 0,r=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=p(e._def,r===void 0?a:{...a,currentPath:[...a.basePath,a.definitionPath,r]},!1)??{},i=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;i!==void 0&&(s.title=i);const o=r===void 0?n?{...s,[a.definitionPath]:n}:s:{$ref:[...a.$refStrategy==="relative"?[]:a.basePath,a.definitionPath,r].join("/"),[a.definitionPath]:{...n,[r]:s}};return a.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(a.target==="jsonSchema2019-09"||a.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),a.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};var Pa=Y("<!> <pre> </pre>",1);function Va(e,t){G(t,!0);const a=F({id:_().regex(new RegExp("^\\d+$"),"Must be a number").min(8).optional(),active:I().optional(),skills:k(_().min(5)).min(4).optional(),multipleChoicesList:k(E(["foo","bar","fuzz"])).max(2).optional()}),n=wn(a,{uiSchema:S}),r=de({...en,schema:Oa(a,{errorMessages:!0}),uiSchema:S,validator:n,fieldsValidationMode:le|pe|ce,initialValue:tn});var s=Pa(),i=Q(s);fe(i,{get form(){return r},novalidate:!0});var o=ne(i,2),u=re(o,!0);ie(o),X(b=>ae(u,b),[()=>JSON.stringify(r.value,null,2)]),ee(e,s),te()}export{Va as default};
