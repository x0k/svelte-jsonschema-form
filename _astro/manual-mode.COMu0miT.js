import"./each.CqbIHp8v.js";import{p as x,m as R,f as b,b as v,a as I,g as e,u as l,e as j,s as F,c as B,ac as N,r as V}from"./render.1yt6JMB_.js";import{a as k}from"./file.DyaNAHxC.js";import{p as D,a as G,i as K,q as J,B as Q,A as _,H as z,I as W,C as X,E as Y,G as Z,J as $,K as ee,L as te,t as re,M as ne,N as ae,w as d,P as M,Q as E,R as se}from"./definitions.BNjN-h6I.js";import{c as ie,H as oe,h as ue}from"./en.BX6IuKl9.js";import{s as ce}from"./snippet.DyeK7AWP.js";import{g as w}from"./checkboxes-include.DuF7q_l6.js";import{d as le}from"./defaults.BxhRkIQk.js";import"./_commonjsHelpers.DaWZu8wl.js";import"./assert.-3jE6KWO.js";import"./file-include.CYhYecKH.js";function P(y,c){x(c,!0);const r=D(c,"form",7),n=l(()=>$(r()[ee],c.path)),o=l(()=>{if(e(n).length===0)return{get current(){return r()[_]},set current(i){r()[_]=i}};let t=r()[_],a=-1;const s=e(n).length-1;for(;z(t)&&++a<s;)t=t[e(n)[a]];if(a!==s)throw console.error("Current form state",W(r()[_])),new Error(`Path "[${e(n).join(", ")}]" is not populated or invalid, check current form state`);const u=e(n)[s];return{get current(){return t[u]},set current(i){t[u]=i}}}),m=l(()=>{if(e(n).length<2)return r()[d];const a=w(r()[E],r()[M],r()[d],r()[d],e(n).slice(0,-1),e(o).current);return a===void 0||typeof a=="boolean"?{}:a}),p=l(()=>{if(e(n).length===0)return r()[d];let t=e(o).current;const a=e(n).slice(0,-1);for(let u=0;u<a.length&&t!==void 0;u++){const i=a[u];typeof i=="number"?t=Array.isArray(t)?t[i]:void 0:t=se(t)?t[i]:void 0}const s=w(r()[E],r()[M],r()[d],e(m),e(n).slice(-1),t);return s===void 0||typeof s=="boolean"?{}:s}),h=l(()=>ae(r(),e(p),e(o).current)),g=l(()=>c.uiSchema??te(r()[ne],r()[re],e(n))??{}),q=l(()=>{if(c.required!==void 0)return c.required;if(e(n).length===0)return!1;const t=e(n)[e(n).length-1],{required:a,items:s,minItems:u}=e(m);if(Array.isArray(a))return a.includes(t);const i=Number(t);if(Number.isInteger(i)&&i>=0){if(u!==void 0)return i<u;if(Array.isArray(s))return i<s.length}return!1}),f=l(()=>({path:e(n),title:Y(r(),e(g))??e(h).title??"",schema:e(h),uiSchema:e(g),required:e(q)})),S=l(()=>X(r(),e(f))),O=t=>Q(r(),e(f),t);G(r());var A=R(),C=b(A);{var H=t=>{var a=R(),s=b(a);ce(s,()=>c.render,()=>({type:"field",config:e(f),translate:e(S),uiOption:O,valueRef:e(o)})),v(t,a)},L=t=>{const a=l(()=>Z(r(),e(f)));var s=R(),u=b(s);J(u,()=>e(a),(i,T)=>{T(i,{type:"field",get config(){return e(f)},uiOption:O,get translate(){return e(S)},get value(){return e(o).current},set value(U){e(o).current=U}})}),v(t,s)};K(C,t=>{c.render?t(H):t(L,!1)})}v(y,A),I()}var me=B('<form novalidate="" style="display: flex; flex-direction: column; gap: 1rem;"><!> <!> <!> <button type="submit">Submit</button></form>');function Oe(y,c){x(c,!0);const n=ie({...le,schema:{type:"object",properties:{login:{title:"Login",type:"string",minLength:3},password:{title:"Password",type:"string",minLength:6}},required:["login","password"],additionalProperties:!1},onSubmit(g){console.log(g)}});var o=me(),m=j(o);oe(m,{get form(){return n}});var p=F(m,2);P(p,{get form(){return n},path:["login"]});var h=F(p,2);P(h,{get form(){return n},path:["password"],uiSchema:{"ui:options":{text:{type:"password"}}}}),N(2),V(o),k(o,()=>ue(n)),v(y,o),I()}export{Oe as default};
