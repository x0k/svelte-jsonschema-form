import{I as L,aJ as z,z as M,aK as $,aL as q,$ as x,l as B,aM as K,aN as P,R as j,o as h,aO as S}from"./render.D5KaOs_C.js";const G=()=>performance.now(),u={tick:r=>requestAnimationFrame(r),now:()=>G(),tasks:new Set};function I(){const r=u.now();u.tasks.forEach(t=>{t.c(r)||(u.tasks.delete(t),t.f())}),u.tasks.size!==0&&u.tick(I)}function J(r){let t;return u.tasks.size===0&&u.tick(I),{promise:new Promise(i=>{u.tasks.add(t={c:r,f:i})}),abort(){u.tasks.delete(t)}}}function y(r,t){S(()=>{r.dispatchEvent(new CustomEvent(t))})}function U(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function R(r){const t={},i=r.split(";");for(const e of i){const[n,o]=e.split(":");if(!n||o===void 0)break;const s=U(n.trim());t[s]=o.trim()}return t}const W=r=>r;function Q(r,t,i,e){var n=(r&K)!==0,o="both",s,w=t.inert,E=t.style.overflow,f,c;function p(){return S(()=>s??=i()(t,e?.()??{},{direction:o}))}var l={is_global:n,in(){t.inert=w,f=g(t,p(),c,1,()=>{y(t,"introend"),f?.abort(),f=s=void 0,t.style.overflow=E})},out(d){t.inert=!0,c=g(t,p(),f,0,()=>{y(t,"outroend"),d?.()})},stop:()=>{f?.abort(),c?.abort()}},_=L;if((_.nodes.t??=[]).push(l),z){var v=n;if(!v){for(var a=_.parent;a&&(a.f&M)!==0;)for(;(a=a.parent)&&(a.f&$)===0;);v=!a||(a.f&q)!==0}v&&x(()=>{B(()=>l.in())})}}function g(r,t,i,e,n){var o=e===1;if(P(t)){var s,w=!1;return j(()=>{if(!w){var d=t({direction:o?"in":"out"});s=g(r,d,i,e,n)}}),{abort:()=>{w=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(i?.deactivate(),!t?.duration&&!t?.delay)return y(r,o?"introstart":"outrostart"),n(),{abort:h,deactivate:h,reset:h,t:()=>e};const{delay:E=0,css:f,tick:c,easing:p=W}=t;var l=[];if(o&&i===void 0&&(c&&c(0,1),f)){var _=R(f(0,1));l.push(_,_)}var v=()=>1-e,a=r.animate(l,{duration:E,fill:"forwards"});return a.onfinish=()=>{a.cancel(),y(r,o?"introstart":"outrostart");var d=i?.t()??1-e;i?.abort();var T=e-d,k=t.duration*Math.abs(T),A=[];if(k>0){var C=!1;if(f)for(var N=Math.ceil(k/16.666666666666668),b=0;b<=N;b+=1){var F=d+T*p(b/N),O=R(f(F,1-F));A.push(O),C||=O.overflow==="hidden"}C&&(r.style.overflow="hidden"),v=()=>{var m=a.currentTime;return d+T*p(m/k)},c&&J(()=>{if(a.playState!=="running")return!1;var m=v();return c(m,1-m),!0})}a=r.animate(A,{duration:k,fill:"forwards"}),a.onfinish=()=>{v=()=>e,c?.(e,1-e),n()}},{abort:()=>{a&&(a.cancel(),a.effect=null,a.onfinish=h)},deactivate:()=>{n=h},reset:()=>{e===0&&c?.(1,0)},t:()=>v()}}const D=r=>r;function V(r,{delay:t=0,duration:i=400,easing:e=D}={}){const n=+getComputedStyle(r).opacity;return{delay:t,duration:i,easing:e,css:o=>`opacity: ${o*n}`}}export{V as f,Q as t};
