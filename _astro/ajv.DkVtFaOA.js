import{g as an}from"./_commonjsHelpers.CfDrMh7n.js";var ke={exports:{}},bt={},he={},ge={},Et={},Pt={},St={},Vt;function ht(){return Vt||(Vt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class a{}e._CodeOrName=a,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class w extends a{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=w;class d extends a{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((n,c)=>`${n}${c}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((n,c)=>(c instanceof w&&(n[c.str]=(n[c.str]||0)+1),n),{})}}e._Code=d,e.nil=new d("");function $(s,...t){const n=[s[0]];let c=0;for(;c<t.length;)u(n,t[c]),n.push(s[++c]);return new d(n)}e._=$;const o=new d("+");function h(s,...t){const n=[S(s[0])];let c=0;for(;c<t.length;)n.push(o),u(n,t[c]),n.push(o,S(s[++c]));return m(n),new d(n)}e.str=h;function u(s,t){t instanceof d?s.push(...t._items):t instanceof w?s.push(t):s.push(E(t))}e.addCodeArg=u;function m(s){let t=1;for(;t<s.length-1;){if(s[t]===o){const n=v(s[t-1],s[t+1]);if(n!==void 0){s.splice(t-1,3,n);continue}s[t++]="+"}t++}}function v(s,t){if(t==='""')return s;if(s==='""')return t;if(typeof s=="string")return t instanceof w||s[s.length-1]!=='"'?void 0:typeof t!="string"?`${s.slice(0,-1)}${t}"`:t[0]==='"'?s.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(s instanceof w))return`"${s}${t.slice(1)}`}function y(s,t){return t.emptyStr()?s:s.emptyStr()?t:h`${s}${t}`}e.strConcat=y;function E(s){return typeof s=="number"||typeof s=="boolean"||s===null?s:S(Array.isArray(s)?s.join(","):s)}function N(s){return new d(S(s))}e.stringify=N;function S(s){return JSON.stringify(s).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=S;function f(s){return typeof s=="string"&&e.IDENTIFIER.test(s)?new d(`.${s}`):$`[${s}]`}e.getProperty=f;function b(s){if(typeof s=="string"&&e.IDENTIFIER.test(s))return new d(`${s}`);throw new Error(`CodeGen: invalid export name: ${s}, use explicit $id name mapping`)}e.getEsmExportName=b;function r(s){return new d(s.toString())}e.regexpCode=r}(St)),St}var Nt={},Ut;function zt(){return Ut||(Ut=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const a=ht();class w extends Error{constructor(v){super(`CodeGen: "code" for ${v} not defined`),this.value=v.value}}var d;(function(m){m[m.Started=0]="Started",m[m.Completed=1]="Completed"})(d||(e.UsedValueState=d={})),e.varKinds={const:new a.Name("const"),let:new a.Name("let"),var:new a.Name("var")};class ${constructor({prefixes:v,parent:y}={}){this._names={},this._prefixes=v,this._parent=y}toName(v){return v instanceof a.Name?v:this.name(v)}name(v){return new a.Name(this._newName(v))}_newName(v){const y=this._names[v]||this._nameGroup(v);return`${v}${y.index++}`}_nameGroup(v){var y,E;if(!((E=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||E===void 0)&&E.has(v)||this._prefixes&&!this._prefixes.has(v))throw new Error(`CodeGen: prefix "${v}" is not allowed in this scope`);return this._names[v]={prefix:v,index:0}}}e.Scope=$;class o extends a.Name{constructor(v,y){super(y),this.prefix=v}setValue(v,{property:y,itemIndex:E}){this.value=v,this.scopePath=(0,a._)`.${new a.Name(y)}[${E}]`}}e.ValueScopeName=o;const h=(0,a._)`\n`;class u extends ${constructor(v){super(v),this._values={},this._scope=v.scope,this.opts={...v,_n:v.lines?h:a.nil}}get(){return this._scope}name(v){return new o(v,this._newName(v))}value(v,y){var E;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const N=this.toName(v),{prefix:S}=N,f=(E=y.key)!==null&&E!==void 0?E:y.ref;let b=this._values[S];if(b){const t=b.get(f);if(t)return t}else b=this._values[S]=new Map;b.set(f,N);const r=this._scope[S]||(this._scope[S]=[]),s=r.length;return r[s]=y.ref,N.setValue(y,{property:S,itemIndex:s}),N}getValue(v,y){const E=this._values[v];if(E)return E.get(y)}scopeRefs(v,y=this._values){return this._reduceValues(y,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,a._)`${v}${E.scopePath}`})}scopeCode(v=this._values,y,E){return this._reduceValues(v,N=>{if(N.value===void 0)throw new Error(`CodeGen: name "${N}" has no value`);return N.value.code},y,E)}_reduceValues(v,y,E={},N){let S=a.nil;for(const f in v){const b=v[f];if(!b)continue;const r=E[f]=E[f]||new Map;b.forEach(s=>{if(r.has(s))return;r.set(s,d.Started);let t=y(s);if(t){const n=this.opts.es5?e.varKinds.var:e.varKinds.const;S=(0,a._)`${S}${n} ${s} = ${t};${this.opts._n}`}else if(t=N?.(s))S=(0,a._)`${S}${t}${this.opts._n}`;else throw new w(s);r.set(s,d.Completed)})}return S}}e.ValueScope=u}(Nt)),Nt}var Ft;function J(){return Ft||(Ft=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const a=ht(),w=zt();var d=ht();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return d.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return d.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return d.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}});var $=zt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return $.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return $.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return $.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return $.varKinds}}),e.operators={GT:new a._Code(">"),GTE:new a._Code(">="),LT:new a._Code("<"),LTE:new a._Code("<="),EQ:new a._Code("==="),NEQ:new a._Code("!=="),NOT:new a._Code("!"),OR:new a._Code("||"),AND:new a._Code("&&"),ADD:new a._Code("+")};class o{optimizeNodes(){return this}optimizeNames(i,g){return this}}class h extends o{constructor(i,g,I){super(),this.varKind=i,this.name=g,this.rhs=I}render({es5:i,_n:g}){const I=i?w.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${V};`+g}optimizeNames(i,g){if(i[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,i,g)),this}get names(){return this.rhs instanceof a._CodeOrName?this.rhs.names:{}}}class u extends o{constructor(i,g,I){super(),this.lhs=i,this.rhs=g,this.sideEffects=I}render({_n:i}){return`${this.lhs} = ${this.rhs};`+i}optimizeNames(i,g){if(!(this.lhs instanceof a.Name&&!i[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,i,g),this}get names(){const i=this.lhs instanceof a.Name?{}:{...this.lhs.names};return K(i,this.rhs)}}class m extends u{constructor(i,g,I,V){super(i,I,V),this.op=g}render({_n:i}){return`${this.lhs} ${this.op}= ${this.rhs};`+i}}class v extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`${this.label}:`+i}}class y extends o{constructor(i){super(),this.label=i,this.names={}}render({_n:i}){return`break${this.label?` ${this.label}`:""};`+i}}class E extends o{constructor(i){super(),this.error=i}render({_n:i}){return`throw ${this.error};`+i}get names(){return this.error.names}}class N extends o{constructor(i){super(),this.code=i}render({_n:i}){return`${this.code};`+i}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(i,g){return this.code=B(this.code,i,g),this}get names(){return this.code instanceof a._CodeOrName?this.code.names:{}}}class S extends o{constructor(i=[]){super(),this.nodes=i}render(i){return this.nodes.reduce((g,I)=>g+I.render(i),"")}optimizeNodes(){const{nodes:i}=this;let g=i.length;for(;g--;){const I=i[g].optimizeNodes();Array.isArray(I)?i.splice(g,1,...I):I?i[g]=I:i.splice(g,1)}return i.length>0?this:void 0}optimizeNames(i,g){const{nodes:I}=this;let V=I.length;for(;V--;){const F=I[V];F.optimizeNames(i,g)||(x(i,F.names),I.splice(V,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((i,g)=>L(i,g.names),{})}}class f extends S{render(i){return"{"+i._n+super.render(i)+"}"+i._n}}class b extends S{}class r extends f{}r.kind="else";class s extends f{constructor(i,g){super(g),this.condition=i}render(i){let g=`if(${this.condition})`+super.render(i);return this.else&&(g+="else "+this.else.render(i)),g}optimizeNodes(){super.optimizeNodes();const i=this.condition;if(i===!0)return this.nodes;let g=this.else;if(g){const I=g.optimizeNodes();g=this.else=Array.isArray(I)?new r(I):I}if(g)return i===!1?g instanceof s?g:g.nodes:this.nodes.length?this:new s(de(i),g instanceof s?[g]:g.nodes);if(!(i===!1||!this.nodes.length))return this}optimizeNames(i,g){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(i,g),!!(super.optimizeNames(i,g)||this.else))return this.condition=B(this.condition,i,g),this}get names(){const i=super.names;return K(i,this.condition),this.else&&L(i,this.else.names),i}}s.kind="if";class t extends f{}t.kind="for";class n extends t{constructor(i){super(),this.iteration=i}render(i){return`for(${this.iteration})`+super.render(i)}optimizeNames(i,g){if(super.optimizeNames(i,g))return this.iteration=B(this.iteration,i,g),this}get names(){return L(super.names,this.iteration.names)}}class c extends t{constructor(i,g,I,V){super(),this.varKind=i,this.name=g,this.from=I,this.to=V}render(i){const g=i.es5?w.varKinds.var:this.varKind,{name:I,from:V,to:F}=this;return`for(${g} ${I}=${V}; ${I}<${F}; ${I}++)`+super.render(i)}get names(){const i=K(super.names,this.from);return K(i,this.to)}}class p extends t{constructor(i,g,I,V){super(),this.loop=i,this.varKind=g,this.name=I,this.iterable=V}render(i){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(i)}optimizeNames(i,g){if(super.optimizeNames(i,g))return this.iterable=B(this.iterable,i,g),this}get names(){return L(super.names,this.iterable.names)}}class l extends f{constructor(i,g,I){super(),this.name=i,this.args=g,this.async=I}render(i){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(i)}}l.kind="func";class _ extends S{render(i){return"return "+super.render(i)}}_.kind="return";class j extends f{render(i){let g="try"+super.render(i);return this.catch&&(g+=this.catch.render(i)),this.finally&&(g+=this.finally.render(i)),g}optimizeNodes(){var i,g;return super.optimizeNodes(),(i=this.catch)===null||i===void 0||i.optimizeNodes(),(g=this.finally)===null||g===void 0||g.optimizeNodes(),this}optimizeNames(i,g){var I,V;return super.optimizeNames(i,g),(I=this.catch)===null||I===void 0||I.optimizeNames(i,g),(V=this.finally)===null||V===void 0||V.optimizeNames(i,g),this}get names(){const i=super.names;return this.catch&&L(i,this.catch.names),this.finally&&L(i,this.finally.names),i}}class C extends f{constructor(i){super(),this.error=i}render(i){return`catch(${this.error})`+super.render(i)}}C.kind="catch";class D extends f{render(i){return"finally"+super.render(i)}}D.kind="finally";class U{constructor(i,g={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...g,_n:g.lines?`
`:""},this._extScope=i,this._scope=new w.Scope({parent:i}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(i){return this._scope.name(i)}scopeName(i){return this._extScope.name(i)}scopeValue(i,g){const I=this._extScope.value(i,g);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(i,g){return this._extScope.getValue(i,g)}scopeRefs(i){return this._extScope.scopeRefs(i,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(i,g,I,V){const F=this._scope.toName(g);return I!==void 0&&V&&(this._constants[F.str]=I),this._leafNode(new h(i,F,I)),F}const(i,g,I){return this._def(w.varKinds.const,i,g,I)}let(i,g,I){return this._def(w.varKinds.let,i,g,I)}var(i,g,I){return this._def(w.varKinds.var,i,g,I)}assign(i,g,I){return this._leafNode(new u(i,g,I))}add(i,g){return this._leafNode(new m(i,e.operators.ADD,g))}code(i){return typeof i=="function"?i():i!==a.nil&&this._leafNode(new N(i)),this}object(...i){const g=["{"];for(const[I,V]of i)g.length>1&&g.push(","),g.push(I),(I!==V||this.opts.es5)&&(g.push(":"),(0,a.addCodeArg)(g,V));return g.push("}"),new a._Code(g)}if(i,g,I){if(this._blockNode(new s(i)),g&&I)this.code(g).else().code(I).endIf();else if(g)this.code(g).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(i){return this._elseNode(new s(i))}else(){return this._elseNode(new r)}endIf(){return this._endBlockNode(s,r)}_for(i,g){return this._blockNode(i),g&&this.code(g).endFor(),this}for(i,g){return this._for(new n(i),g)}forRange(i,g,I,V,F=this.opts.es5?w.varKinds.var:w.varKinds.let){const Q=this._scope.toName(i);return this._for(new c(F,Q,g,I),()=>V(Q))}forOf(i,g,I,V=w.varKinds.const){const F=this._scope.toName(i);if(this.opts.es5){const Q=g instanceof a.Name?g:this.var("_arr",g);return this.forRange("_i",0,(0,a._)`${Q}.length`,W=>{this.var(F,(0,a._)`${Q}[${W}]`),I(F)})}return this._for(new p("of",V,F,g),()=>I(F))}forIn(i,g,I,V=this.opts.es5?w.varKinds.var:w.varKinds.const){if(this.opts.ownProperties)return this.forOf(i,(0,a._)`Object.keys(${g})`,I);const F=this._scope.toName(i);return this._for(new p("in",V,F,g),()=>I(F))}endFor(){return this._endBlockNode(t)}label(i){return this._leafNode(new v(i))}break(i){return this._leafNode(new y(i))}return(i){const g=new _;if(this._blockNode(g),this.code(i),g.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(_)}try(i,g,I){if(!g&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new j;if(this._blockNode(V),this.code(i),g){const F=this.name("e");this._currNode=V.catch=new C(F),g(F)}return I&&(this._currNode=V.finally=new D,this.code(I)),this._endBlockNode(C,D)}throw(i){return this._leafNode(new E(i))}block(i,g){return this._blockStarts.push(this._nodes.length),i&&this.code(i).endBlock(g),this}endBlock(i){const g=this._blockStarts.pop();if(g===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-g;if(I<0||i!==void 0&&I!==i)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${i} expected`);return this._nodes.length=g,this}func(i,g=a.nil,I,V){return this._blockNode(new l(i,g,I)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(i=1){for(;i-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(i){return this._currNode.nodes.push(i),this}_blockNode(i){this._currNode.nodes.push(i),this._nodes.push(i)}_endBlockNode(i,g){const I=this._currNode;if(I instanceof i||g&&I instanceof g)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${g?`${i.kind}/${g.kind}`:i.kind}"`)}_elseNode(i){const g=this._currNode;if(!(g instanceof s))throw new Error('CodeGen: "else" without "if"');return this._currNode=g.else=i,this}get _root(){return this._nodes[0]}get _currNode(){const i=this._nodes;return i[i.length-1]}set _currNode(i){const g=this._nodes;g[g.length-1]=i}}e.CodeGen=U;function L(k,i){for(const g in i)k[g]=(k[g]||0)+(i[g]||0);return k}function K(k,i){return i instanceof a._CodeOrName?L(k,i.names):k}function B(k,i,g){if(k instanceof a.Name)return I(k);if(!V(k))return k;return new a._Code(k._items.reduce((F,Q)=>(Q instanceof a.Name&&(Q=I(Q)),Q instanceof a._Code?F.push(...Q._items):F.push(Q),F),[]));function I(F){const Q=g[F.str];return Q===void 0||i[F.str]!==1?F:(delete i[F.str],Q)}function V(F){return F instanceof a._Code&&F._items.some(Q=>Q instanceof a.Name&&i[Q.str]===1&&g[Q.str]!==void 0)}}function x(k,i){for(const g in i)k[g]=(k[g]||0)-(i[g]||0)}function de(k){return typeof k=="boolean"||typeof k=="number"||k===null?!k:(0,a._)`!${T(k)}`}e.not=de;const fe=R(e.operators.AND);function Z(...k){return k.reduce(fe)}e.and=Z;const ye=R(e.operators.OR);function A(...k){return k.reduce(ye)}e.or=A;function R(k){return(i,g)=>i===a.nil?g:g===a.nil?i:(0,a._)`${T(i)} ${k} ${T(g)}`}function T(k){return k instanceof a.Name?k:(0,a._)`(${k})`}}(Pt)),Pt}var H={},Kt;function X(){if(Kt)return H;Kt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=J(),a=ht();function w(p){const l={};for(const _ of p)l[_]=!0;return l}H.toHash=w;function d(p,l){return typeof l=="boolean"?l:Object.keys(l).length===0?!0:($(p,l),!o(l,p.self.RULES.all))}H.alwaysValidSchema=d;function $(p,l=p.schema){const{opts:_,self:j}=p;if(!_.strictSchema||typeof l=="boolean")return;const C=j.RULES.keywords;for(const D in l)C[D]||c(p,`unknown keyword: "${D}"`)}H.checkUnknownRules=$;function o(p,l){if(typeof p=="boolean")return!p;for(const _ in p)if(l[_])return!0;return!1}H.schemaHasRules=o;function h(p,l){if(typeof p=="boolean")return!p;for(const _ in p)if(_!=="$ref"&&l.all[_])return!0;return!1}H.schemaHasRulesButRef=h;function u({topSchemaRef:p,schemaPath:l},_,j,C){if(!C){if(typeof _=="number"||typeof _=="boolean")return _;if(typeof _=="string")return(0,e._)`${_}`}return(0,e._)`${p}${l}${(0,e.getProperty)(j)}`}H.schemaRefOrVal=u;function m(p){return E(decodeURIComponent(p))}H.unescapeFragment=m;function v(p){return encodeURIComponent(y(p))}H.escapeFragment=v;function y(p){return typeof p=="number"?`${p}`:p.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=y;function E(p){return p.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=E;function N(p,l){if(Array.isArray(p))for(const _ of p)l(_);else l(p)}H.eachItem=N;function S({mergeNames:p,mergeToName:l,mergeValues:_,resultToName:j}){return(C,D,U,L)=>{const K=U===void 0?D:U instanceof e.Name?(D instanceof e.Name?p(C,D,U):l(C,D,U),U):D instanceof e.Name?(l(C,U,D),D):_(D,U);return L===e.Name&&!(K instanceof e.Name)?j(C,K):K}}H.mergeEvaluated={props:S({mergeNames:(p,l,_)=>p.if((0,e._)`${_} !== true && ${l} !== undefined`,()=>{p.if((0,e._)`${l} === true`,()=>p.assign(_,!0),()=>p.assign(_,(0,e._)`${_} || {}`).code((0,e._)`Object.assign(${_}, ${l})`))}),mergeToName:(p,l,_)=>p.if((0,e._)`${_} !== true`,()=>{l===!0?p.assign(_,!0):(p.assign(_,(0,e._)`${_} || {}`),b(p,_,l))}),mergeValues:(p,l)=>p===!0?!0:{...p,...l},resultToName:f}),items:S({mergeNames:(p,l,_)=>p.if((0,e._)`${_} !== true && ${l} !== undefined`,()=>p.assign(_,(0,e._)`${l} === true ? true : ${_} > ${l} ? ${_} : ${l}`)),mergeToName:(p,l,_)=>p.if((0,e._)`${_} !== true`,()=>p.assign(_,l===!0?!0:(0,e._)`${_} > ${l} ? ${_} : ${l}`)),mergeValues:(p,l)=>p===!0?!0:Math.max(p,l),resultToName:(p,l)=>p.var("items",l)})};function f(p,l){if(l===!0)return p.var("props",!0);const _=p.var("props",(0,e._)`{}`);return l!==void 0&&b(p,_,l),_}H.evaluatedPropsToName=f;function b(p,l,_){Object.keys(_).forEach(j=>p.assign((0,e._)`${l}${(0,e.getProperty)(j)}`,!0))}H.setEvaluated=b;const r={};function s(p,l){return p.scopeValue("func",{ref:l,code:r[l.code]||(r[l.code]=new a._Code(l.code))})}H.useFunc=s;var t;(function(p){p[p.Num=0]="Num",p[p.Str=1]="Str"})(t||(H.Type=t={}));function n(p,l,_){if(p instanceof e.Name){const j=l===t.Num;return _?j?(0,e._)`"[" + ${p} + "]"`:(0,e._)`"['" + ${p} + "']"`:j?(0,e._)`"/" + ${p}`:(0,e._)`"/" + ${p}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return _?(0,e.getProperty)(p).toString():"/"+y(p)}H.getErrorPath=n;function c(p,l,_=p.opts.strictSchema){if(_){if(l=`strict mode: ${l}`,_===!0)throw new Error(l);p.self.logger.warn(l)}}return H.checkStrictMode=c,H}var je={},Lt;function ve(){if(Lt)return je;Lt=1,Object.defineProperty(je,"__esModule",{value:!0});const e=J(),a={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return je.default=a,je}var Ht;function pt(){return Ht||(Ht=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const a=J(),w=X(),d=ve();e.keywordError={message:({keyword:r})=>(0,a.str)`must pass "${r}" keyword validation`},e.keyword$DataError={message:({keyword:r,schemaType:s})=>s?(0,a.str)`"${r}" keyword must be ${s} ($data)`:(0,a.str)`"${r}" keyword is invalid ($data)`};function $(r,s=e.keywordError,t,n){const{it:c}=r,{gen:p,compositeRule:l,allErrors:_}=c,j=E(r,s,t);n??(l||_)?m(p,j):v(c,(0,a._)`[${j}]`)}e.reportError=$;function o(r,s=e.keywordError,t){const{it:n}=r,{gen:c,compositeRule:p,allErrors:l}=n,_=E(r,s,t);m(c,_),p||l||v(n,d.default.vErrors)}e.reportExtraError=o;function h(r,s){r.assign(d.default.errors,s),r.if((0,a._)`${d.default.vErrors} !== null`,()=>r.if(s,()=>r.assign((0,a._)`${d.default.vErrors}.length`,s),()=>r.assign(d.default.vErrors,null)))}e.resetErrorsCount=h;function u({gen:r,keyword:s,schemaValue:t,data:n,errsCount:c,it:p}){if(c===void 0)throw new Error("ajv implementation error");const l=r.name("err");r.forRange("i",c,d.default.errors,_=>{r.const(l,(0,a._)`${d.default.vErrors}[${_}]`),r.if((0,a._)`${l}.instancePath === undefined`,()=>r.assign((0,a._)`${l}.instancePath`,(0,a.strConcat)(d.default.instancePath,p.errorPath))),r.assign((0,a._)`${l}.schemaPath`,(0,a.str)`${p.errSchemaPath}/${s}`),p.opts.verbose&&(r.assign((0,a._)`${l}.schema`,t),r.assign((0,a._)`${l}.data`,n))})}e.extendErrors=u;function m(r,s){const t=r.const("err",s);r.if((0,a._)`${d.default.vErrors} === null`,()=>r.assign(d.default.vErrors,(0,a._)`[${t}]`),(0,a._)`${d.default.vErrors}.push(${t})`),r.code((0,a._)`${d.default.errors}++`)}function v(r,s){const{gen:t,validateName:n,schemaEnv:c}=r;c.$async?t.throw((0,a._)`new ${r.ValidationError}(${s})`):(t.assign((0,a._)`${n}.errors`,s),t.return(!1))}const y={keyword:new a.Name("keyword"),schemaPath:new a.Name("schemaPath"),params:new a.Name("params"),propertyName:new a.Name("propertyName"),message:new a.Name("message"),schema:new a.Name("schema"),parentSchema:new a.Name("parentSchema")};function E(r,s,t){const{createErrors:n}=r.it;return n===!1?(0,a._)`{}`:N(r,s,t)}function N(r,s,t={}){const{gen:n,it:c}=r,p=[S(c,t),f(r,t)];return b(r,s,p),n.object(...p)}function S({errorPath:r},{instancePath:s}){const t=s?(0,a.str)`${r}${(0,w.getErrorPath)(s,w.Type.Str)}`:r;return[d.default.instancePath,(0,a.strConcat)(d.default.instancePath,t)]}function f({keyword:r,it:{errSchemaPath:s}},{schemaPath:t,parentSchema:n}){let c=n?s:(0,a.str)`${s}/${r}`;return t&&(c=(0,a.str)`${c}${(0,w.getErrorPath)(t,w.Type.Str)}`),[y.schemaPath,c]}function b(r,{params:s,message:t},n){const{keyword:c,data:p,schemaValue:l,it:_}=r,{opts:j,propertyName:C,topSchemaRef:D,schemaPath:U}=_;n.push([y.keyword,c],[y.params,typeof s=="function"?s(r):s||(0,a._)`{}`]),j.messages&&n.push([y.message,typeof t=="function"?t(r):t]),j.verbose&&n.push([y.schema,l],[y.parentSchema,(0,a._)`${D}${U}`],[d.default.data,p]),C&&n.push([y.propertyName,C])}}(Et)),Et}var Gt;function on(){if(Gt)return ge;Gt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.boolOrEmptySchema=ge.topBoolOrEmptySchema=void 0;const e=pt(),a=J(),w=ve(),d={message:"boolean schema is false"};function $(u){const{gen:m,schema:v,validateName:y}=u;v===!1?h(u,!1):typeof v=="object"&&v.$async===!0?m.return(w.default.data):(m.assign((0,a._)`${y}.errors`,null),m.return(!0))}ge.topBoolOrEmptySchema=$;function o(u,m){const{gen:v,schema:y}=u;y===!1?(v.var(m,!1),h(u)):v.var(m,!0)}ge.boolOrEmptySchema=o;function h(u,m){const{gen:v,data:y}=u,E={gen:v,keyword:"false schema",data:y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(E,d,void 0,m)}return ge}var re={},$e={},Jt;function Zr(){if(Jt)return $e;Jt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.getRules=$e.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],a=new Set(e);function w($){return typeof $=="string"&&a.has($)}$e.isJSONType=w;function d(){const $={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...$,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},$.number,$.string,$.array,$.object],post:{rules:[]},all:{},keywords:{}}}return $e.getRules=d,$e}var me={},Wt;function xr(){if(Wt)return me;Wt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:d,self:$},o){const h=$.RULES.types[o];return h&&h!==!0&&a(d,h)}me.schemaHasRulesForType=e;function a(d,$){return $.rules.some(o=>w(d,o))}me.shouldUseGroup=a;function w(d,$){var o;return d[$.keyword]!==void 0||((o=$.definition.implements)===null||o===void 0?void 0:o.some(h=>d[h]!==void 0))}return me.shouldUseRule=w,me}var Bt;function mt(){if(Bt)return re;Bt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=Zr(),a=xr(),w=pt(),d=J(),$=X();var o;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(o||(re.DataType=o={}));function h(t){const n=u(t.type);if(n.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!n.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&n.push("null")}return n}re.getSchemaTypes=h;function u(t){const n=Array.isArray(t)?t:t?[t]:[];if(n.every(e.isJSONType))return n;throw new Error("type must be JSONType or JSONType[]: "+n.join(","))}re.getJSONTypes=u;function m(t,n){const{gen:c,data:p,opts:l}=t,_=y(n,l.coerceTypes),j=n.length>0&&!(_.length===0&&n.length===1&&(0,a.schemaHasRulesForType)(t,n[0]));if(j){const C=f(n,p,l.strictNumbers,o.Wrong);c.if(C,()=>{_.length?E(t,n,_):r(t)})}return j}re.coerceAndCheckDataType=m;const v=new Set(["string","number","integer","boolean","null"]);function y(t,n){return n?t.filter(c=>v.has(c)||n==="array"&&c==="array"):[]}function E(t,n,c){const{gen:p,data:l,opts:_}=t,j=p.let("dataType",(0,d._)`typeof ${l}`),C=p.let("coerced",(0,d._)`undefined`);_.coerceTypes==="array"&&p.if((0,d._)`${j} == 'object' && Array.isArray(${l}) && ${l}.length == 1`,()=>p.assign(l,(0,d._)`${l}[0]`).assign(j,(0,d._)`typeof ${l}`).if(f(n,l,_.strictNumbers),()=>p.assign(C,l))),p.if((0,d._)`${C} !== undefined`);for(const U of c)(v.has(U)||U==="array"&&_.coerceTypes==="array")&&D(U);p.else(),r(t),p.endIf(),p.if((0,d._)`${C} !== undefined`,()=>{p.assign(l,C),N(t,C)});function D(U){switch(U){case"string":p.elseIf((0,d._)`${j} == "number" || ${j} == "boolean"`).assign(C,(0,d._)`"" + ${l}`).elseIf((0,d._)`${l} === null`).assign(C,(0,d._)`""`);return;case"number":p.elseIf((0,d._)`${j} == "boolean" || ${l} === null
              || (${j} == "string" && ${l} && ${l} == +${l})`).assign(C,(0,d._)`+${l}`);return;case"integer":p.elseIf((0,d._)`${j} === "boolean" || ${l} === null
              || (${j} === "string" && ${l} && ${l} == +${l} && !(${l} % 1))`).assign(C,(0,d._)`+${l}`);return;case"boolean":p.elseIf((0,d._)`${l} === "false" || ${l} === 0 || ${l} === null`).assign(C,!1).elseIf((0,d._)`${l} === "true" || ${l} === 1`).assign(C,!0);return;case"null":p.elseIf((0,d._)`${l} === "" || ${l} === 0 || ${l} === false`),p.assign(C,null);return;case"array":p.elseIf((0,d._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${l} === null`).assign(C,(0,d._)`[${l}]`)}}}function N({gen:t,parentData:n,parentDataProperty:c},p){t.if((0,d._)`${n} !== undefined`,()=>t.assign((0,d._)`${n}[${c}]`,p))}function S(t,n,c,p=o.Correct){const l=p===o.Correct?d.operators.EQ:d.operators.NEQ;let _;switch(t){case"null":return(0,d._)`${n} ${l} null`;case"array":_=(0,d._)`Array.isArray(${n})`;break;case"object":_=(0,d._)`${n} && typeof ${n} == "object" && !Array.isArray(${n})`;break;case"integer":_=j((0,d._)`!(${n} % 1) && !isNaN(${n})`);break;case"number":_=j();break;default:return(0,d._)`typeof ${n} ${l} ${t}`}return p===o.Correct?_:(0,d.not)(_);function j(C=d.nil){return(0,d.and)((0,d._)`typeof ${n} == "number"`,C,c?(0,d._)`isFinite(${n})`:d.nil)}}re.checkDataType=S;function f(t,n,c,p){if(t.length===1)return S(t[0],n,c,p);let l;const _=(0,$.toHash)(t);if(_.array&&_.object){const j=(0,d._)`typeof ${n} != "object"`;l=_.null?j:(0,d._)`!${n} || ${j}`,delete _.null,delete _.array,delete _.object}else l=d.nil;_.number&&delete _.integer;for(const j in _)l=(0,d.and)(l,S(j,n,c,p));return l}re.checkDataTypes=f;const b={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:n})=>typeof t=="string"?(0,d._)`{type: ${t}}`:(0,d._)`{type: ${n}}`};function r(t){const n=s(t);(0,w.reportError)(n,b)}re.reportTypeError=r;function s(t){const{gen:n,data:c,schema:p}=t,l=(0,$.schemaRefOrVal)(t,p,"type");return{gen:n,keyword:"type",data:c,schema:p.type,schemaCode:l,schemaValue:l,parentSchema:p,params:{},it:t}}return re}var Ne={},Xt;function un(){if(Xt)return Ne;Xt=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.assignDefaults=void 0;const e=J(),a=X();function w($,o){const{properties:h,items:u}=$.schema;if(o==="object"&&h)for(const m in h)d($,m,h[m].default);else o==="array"&&Array.isArray(u)&&u.forEach((m,v)=>d($,v,m.default))}Ne.assignDefaults=w;function d($,o,h){const{gen:u,compositeRule:m,data:v,opts:y}=$;if(h===void 0)return;const E=(0,e._)`${v}${(0,e.getProperty)(o)}`;if(m){(0,a.checkStrictMode)($,`default is ignored for: ${E}`);return}let N=(0,e._)`${E} === undefined`;y.useDefaults==="empty"&&(N=(0,e._)`${N} || ${E} === null || ${E} === ""`),u.if(N,(0,e._)`${E} = ${(0,e.stringify)(h)}`)}return Ne}var ce={},Y={},Qt;function le(){if(Qt)return Y;Qt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=J(),a=X(),w=ve(),d=X();function $(t,n){const{gen:c,data:p,it:l}=t;c.if(y(c,p,n,l.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${n}`},!0),t.error()})}Y.checkReportMissingProp=$;function o({gen:t,data:n,it:{opts:c}},p,l){return(0,e.or)(...p.map(_=>(0,e.and)(y(t,n,_,c.ownProperties),(0,e._)`${l} = ${_}`)))}Y.checkMissingProp=o;function h(t,n){t.setParams({missingProperty:n},!0),t.error()}Y.reportMissingProp=h;function u(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=u;function m(t,n,c){return(0,e._)`${u(t)}.call(${n}, ${c})`}Y.isOwnProperty=m;function v(t,n,c,p){const l=(0,e._)`${n}${(0,e.getProperty)(c)} !== undefined`;return p?(0,e._)`${l} && ${m(t,n,c)}`:l}Y.propertyInData=v;function y(t,n,c,p){const l=(0,e._)`${n}${(0,e.getProperty)(c)} === undefined`;return p?(0,e.or)(l,(0,e.not)(m(t,n,c))):l}Y.noPropertyInData=y;function E(t){return t?Object.keys(t).filter(n=>n!=="__proto__"):[]}Y.allSchemaProperties=E;function N(t,n){return E(n).filter(c=>!(0,a.alwaysValidSchema)(t,n[c]))}Y.schemaProperties=N;function S({schemaCode:t,data:n,it:{gen:c,topSchemaRef:p,schemaPath:l,errorPath:_},it:j},C,D,U){const L=U?(0,e._)`${t}, ${n}, ${p}${l}`:n,K=[[w.default.instancePath,(0,e.strConcat)(w.default.instancePath,_)],[w.default.parentData,j.parentData],[w.default.parentDataProperty,j.parentDataProperty],[w.default.rootData,w.default.rootData]];j.opts.dynamicRef&&K.push([w.default.dynamicAnchors,w.default.dynamicAnchors]);const B=(0,e._)`${L}, ${c.object(...K)}`;return D!==e.nil?(0,e._)`${C}.call(${D}, ${B})`:(0,e._)`${C}(${B})`}Y.callValidateCode=S;const f=(0,e._)`new RegExp`;function b({gen:t,it:{opts:n}},c){const p=n.unicodeRegExp?"u":"",{regExp:l}=n.code,_=l(c,p);return t.scopeValue("pattern",{key:_.toString(),ref:_,code:(0,e._)`${l.code==="new RegExp"?f:(0,d.useFunc)(t,l)}(${c}, ${p})`})}Y.usePattern=b;function r(t){const{gen:n,data:c,keyword:p,it:l}=t,_=n.name("valid");if(l.allErrors){const C=n.let("valid",!0);return j(()=>n.assign(C,!1)),C}return n.var(_,!0),j(()=>n.break()),_;function j(C){const D=n.const("len",(0,e._)`${c}.length`);n.forRange("i",0,D,U=>{t.subschema({keyword:p,dataProp:U,dataPropType:a.Type.Num},_),n.if((0,e.not)(_),C)})}}Y.validateArray=r;function s(t){const{gen:n,schema:c,keyword:p,it:l}=t;if(!Array.isArray(c))throw new Error("ajv implementation error");if(c.some(D=>(0,a.alwaysValidSchema)(l,D))&&!l.opts.unevaluated)return;const j=n.let("valid",!1),C=n.name("_valid");n.block(()=>c.forEach((D,U)=>{const L=t.subschema({keyword:p,schemaProp:U,compositeRule:!0},C);n.assign(j,(0,e._)`${j} || ${C}`),t.mergeValidEvaluated(L,C)||n.if((0,e.not)(j))})),t.result(j,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=s,Y}var Yt;function cn(){if(Yt)return ce;Yt=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.validateKeywordUsage=ce.validSchemaType=ce.funcKeywordCode=ce.macroKeywordCode=void 0;const e=J(),a=ve(),w=le(),d=pt();function $(N,S){const{gen:f,keyword:b,schema:r,parentSchema:s,it:t}=N,n=S.macro.call(t.self,r,s,t),c=v(f,b,n);t.opts.validateSchema!==!1&&t.self.validateSchema(n,!0);const p=f.name("valid");N.subschema({schema:n,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${b}`,topSchemaRef:c,compositeRule:!0},p),N.pass(p,()=>N.error(!0))}ce.macroKeywordCode=$;function o(N,S){var f;const{gen:b,keyword:r,schema:s,parentSchema:t,$data:n,it:c}=N;m(c,S);const p=!n&&S.compile?S.compile.call(c.self,s,t,c):S.validate,l=v(b,r,p),_=b.let("valid");N.block$data(_,j),N.ok((f=S.valid)!==null&&f!==void 0?f:_);function j(){if(S.errors===!1)U(),S.modifying&&h(N),L(()=>N.error());else{const K=S.async?C():D();S.modifying&&h(N),L(()=>u(N,K))}}function C(){const K=b.let("ruleErrs",null);return b.try(()=>U((0,e._)`await `),B=>b.assign(_,!1).if((0,e._)`${B} instanceof ${c.ValidationError}`,()=>b.assign(K,(0,e._)`${B}.errors`),()=>b.throw(B))),K}function D(){const K=(0,e._)`${l}.errors`;return b.assign(K,null),U(e.nil),K}function U(K=S.async?(0,e._)`await `:e.nil){const B=c.opts.passContext?a.default.this:a.default.self,x=!("compile"in S&&!n||S.schema===!1);b.assign(_,(0,e._)`${K}${(0,w.callValidateCode)(N,l,B,x)}`,S.modifying)}function L(K){var B;b.if((0,e.not)((B=S.valid)!==null&&B!==void 0?B:_),K)}}ce.funcKeywordCode=o;function h(N){const{gen:S,data:f,it:b}=N;S.if(b.parentData,()=>S.assign(f,(0,e._)`${b.parentData}[${b.parentDataProperty}]`))}function u(N,S){const{gen:f}=N;f.if((0,e._)`Array.isArray(${S})`,()=>{f.assign(a.default.vErrors,(0,e._)`${a.default.vErrors} === null ? ${S} : ${a.default.vErrors}.concat(${S})`).assign(a.default.errors,(0,e._)`${a.default.vErrors}.length`),(0,d.extendErrors)(N)},()=>N.error())}function m({schemaEnv:N},S){if(S.async&&!N.$async)throw new Error("async keyword in sync schema")}function v(N,S,f){if(f===void 0)throw new Error(`keyword "${S}" failed to compile`);return N.scopeValue("keyword",typeof f=="function"?{ref:f}:{ref:f,code:(0,e.stringify)(f)})}function y(N,S,f=!1){return!S.length||S.some(b=>b==="array"?Array.isArray(N):b==="object"?N&&typeof N=="object"&&!Array.isArray(N):typeof N==b||f&&typeof N>"u")}ce.validSchemaType=y;function E({schema:N,opts:S,self:f,errSchemaPath:b},r,s){if(Array.isArray(r.keyword)?!r.keyword.includes(s):r.keyword!==s)throw new Error("ajv implementation error");const t=r.dependencies;if(t?.some(n=>!Object.prototype.hasOwnProperty.call(N,n)))throw new Error(`parent schema must have dependencies of ${s}: ${t.join(",")}`);if(r.validateSchema&&!r.validateSchema(N[s])){const c=`keyword "${s}" value is invalid at path "${b}": `+f.errorsText(r.validateSchema.errors);if(S.validateSchema==="log")f.logger.error(c);else throw new Error(c)}}return ce.validateKeywordUsage=E,ce}var pe={},Zt;function ln(){if(Zt)return pe;Zt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=J(),a=X();function w(o,{keyword:h,schemaProp:u,schema:m,schemaPath:v,errSchemaPath:y,topSchemaRef:E}){if(h!==void 0&&m!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(h!==void 0){const N=o.schema[h];return u===void 0?{schema:N,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(h)}`,errSchemaPath:`${o.errSchemaPath}/${h}`}:{schema:N[u],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(h)}${(0,e.getProperty)(u)}`,errSchemaPath:`${o.errSchemaPath}/${h}/${(0,a.escapeFragment)(u)}`}}if(m!==void 0){if(v===void 0||y===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:m,schemaPath:v,topSchemaRef:E,errSchemaPath:y}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=w;function d(o,h,{dataProp:u,dataPropType:m,data:v,dataTypes:y,propertyName:E}){if(v!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:N}=h;if(u!==void 0){const{errorPath:f,dataPathArr:b,opts:r}=h,s=N.let("data",(0,e._)`${h.data}${(0,e.getProperty)(u)}`,!0);S(s),o.errorPath=(0,e.str)`${f}${(0,a.getErrorPath)(u,m,r.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${u}`,o.dataPathArr=[...b,o.parentDataProperty]}if(v!==void 0){const f=v instanceof e.Name?v:N.let("data",v,!0);S(f),E!==void 0&&(o.propertyName=E)}y&&(o.dataTypes=y);function S(f){o.data=f,o.dataLevel=h.dataLevel+1,o.dataTypes=[],h.definedProperties=new Set,o.parentData=h.data,o.dataNames=[...h.dataNames,f]}}pe.extendSubschemaData=d;function $(o,{jtdDiscriminator:h,jtdMetadata:u,compositeRule:m,createErrors:v,allErrors:y}){m!==void 0&&(o.compositeRule=m),v!==void 0&&(o.createErrors=v),y!==void 0&&(o.allErrors=y),o.jtdDiscriminator=h,o.jtdMetadata=u}return pe.extendSubschemaMode=$,pe}var ne={},Rt,xt;function en(){return xt||(xt=1,Rt=function e(a,w){if(a===w)return!0;if(a&&w&&typeof a=="object"&&typeof w=="object"){if(a.constructor!==w.constructor)return!1;var d,$,o;if(Array.isArray(a)){if(d=a.length,d!=w.length)return!1;for($=d;$--!==0;)if(!e(a[$],w[$]))return!1;return!0}if(a.constructor===RegExp)return a.source===w.source&&a.flags===w.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===w.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===w.toString();if(o=Object.keys(a),d=o.length,d!==Object.keys(w).length)return!1;for($=d;$--!==0;)if(!Object.prototype.hasOwnProperty.call(w,o[$]))return!1;for($=d;$--!==0;){var h=o[$];if(!e(a[h],w[h]))return!1}return!0}return a!==a&&w!==w}),Rt}var Ot={exports:{}},er;function dn(){if(er)return Ot.exports;er=1;var e=Ot.exports=function(d,$,o){typeof $=="function"&&(o=$,$={}),o=$.cb||o;var h=typeof o=="function"?o:o.pre||function(){},u=o.post||function(){};a($,h,u,d,"",d)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(d,$,o,h,u,m,v,y,E,N){if(h&&typeof h=="object"&&!Array.isArray(h)){$(h,u,m,v,y,E,N);for(var S in h){var f=h[S];if(Array.isArray(f)){if(S in e.arrayKeywords)for(var b=0;b<f.length;b++)a(d,$,o,f[b],u+"/"+S+"/"+b,m,u,S,h,b)}else if(S in e.propsKeywords){if(f&&typeof f=="object")for(var r in f)a(d,$,o,f[r],u+"/"+S+"/"+w(r),m,u,S,h,r)}else(S in e.keywords||d.allKeys&&!(S in e.skipKeywords))&&a(d,$,o,f,u+"/"+S,m,u,S,h)}o(h,u,m,v,y,E,N)}}function w(d){return d.replace(/~/g,"~0").replace(/\//g,"~1")}return Ot.exports}var tr;function yt(){if(tr)return ne;tr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=X(),a=en(),w=dn(),d=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $(b,r=!0){return typeof b=="boolean"?!0:r===!0?!h(b):r?u(b)<=r:!1}ne.inlineRef=$;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function h(b){for(const r in b){if(o.has(r))return!0;const s=b[r];if(Array.isArray(s)&&s.some(h)||typeof s=="object"&&h(s))return!0}return!1}function u(b){let r=0;for(const s in b){if(s==="$ref")return 1/0;if(r++,!d.has(s)&&(typeof b[s]=="object"&&(0,e.eachItem)(b[s],t=>r+=u(t)),r===1/0))return 1/0}return r}function m(b,r="",s){s!==!1&&(r=E(r));const t=b.parse(r);return v(b,t)}ne.getFullPath=m;function v(b,r){return b.serialize(r).split("#")[0]+"#"}ne._getFullPath=v;const y=/#\/?$/;function E(b){return b?b.replace(y,""):""}ne.normalizeId=E;function N(b,r,s){return s=E(s),b.resolve(r,s)}ne.resolveUrl=N;const S=/^[a-z_][-a-z0-9._]*$/i;function f(b,r){if(typeof b=="boolean")return{};const{schemaId:s,uriResolver:t}=this.opts,n=E(b[s]||r),c={"":n},p=m(t,n,!1),l={},_=new Set;return w(b,{allKeys:!0},(D,U,L,K)=>{if(K===void 0)return;const B=p+U;let x=c[K];typeof D[s]=="string"&&(x=de.call(this,D[s])),fe.call(this,D.$anchor),fe.call(this,D.$dynamicAnchor),c[U]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=E(x?ye(x,Z):Z),_.has(Z))throw C(Z);_.add(Z);let A=this.refs[Z];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?j(D,A.schema,Z):Z!==E(B)&&(Z[0]==="#"?(j(D,l[Z],Z),l[Z]=D):this.refs[Z]=B),Z}function fe(Z){if(typeof Z=="string"){if(!S.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),l;function j(D,U,L){if(U!==void 0&&!a(D,U))throw C(L)}function C(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=f,ne}var rr;function _t(){if(rr)return he;rr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=on(),a=mt(),w=xr(),d=mt(),$=un(),o=cn(),h=ln(),u=J(),m=ve(),v=yt(),y=X(),E=pt();function N(P){if(p(P)&&(_(P),c(P))){r(P);return}S(P,()=>(0,e.topBoolOrEmptySchema)(P))}he.validateFunctionCode=N;function S({gen:P,validateName:O,schema:q,schemaEnv:M,opts:z},G){z.code.es5?P.func(O,(0,u._)`${m.default.data}, ${m.default.valCxt}`,M.$async,()=>{P.code((0,u._)`"use strict"; ${t(q,z)}`),b(P,z),P.code(G)}):P.func(O,(0,u._)`${m.default.data}, ${f(z)}`,M.$async,()=>P.code(t(q,z)).code(G))}function f(P){return(0,u._)`{${m.default.instancePath}="", ${m.default.parentData}, ${m.default.parentDataProperty}, ${m.default.rootData}=${m.default.data}${P.dynamicRef?(0,u._)`, ${m.default.dynamicAnchors}={}`:u.nil}}={}`}function b(P,O){P.if(m.default.valCxt,()=>{P.var(m.default.instancePath,(0,u._)`${m.default.valCxt}.${m.default.instancePath}`),P.var(m.default.parentData,(0,u._)`${m.default.valCxt}.${m.default.parentData}`),P.var(m.default.parentDataProperty,(0,u._)`${m.default.valCxt}.${m.default.parentDataProperty}`),P.var(m.default.rootData,(0,u._)`${m.default.valCxt}.${m.default.rootData}`),O.dynamicRef&&P.var(m.default.dynamicAnchors,(0,u._)`${m.default.valCxt}.${m.default.dynamicAnchors}`)},()=>{P.var(m.default.instancePath,(0,u._)`""`),P.var(m.default.parentData,(0,u._)`undefined`),P.var(m.default.parentDataProperty,(0,u._)`undefined`),P.var(m.default.rootData,m.default.data),O.dynamicRef&&P.var(m.default.dynamicAnchors,(0,u._)`{}`)})}function r(P){const{schema:O,opts:q,gen:M}=P;S(P,()=>{q.$comment&&O.$comment&&K(P),D(P),M.let(m.default.vErrors,null),M.let(m.default.errors,0),q.unevaluated&&s(P),j(P),B(P)})}function s(P){const{gen:O,validateName:q}=P;P.evaluated=O.const("evaluated",(0,u._)`${q}.evaluated`),O.if((0,u._)`${P.evaluated}.dynamicProps`,()=>O.assign((0,u._)`${P.evaluated}.props`,(0,u._)`undefined`)),O.if((0,u._)`${P.evaluated}.dynamicItems`,()=>O.assign((0,u._)`${P.evaluated}.items`,(0,u._)`undefined`))}function t(P,O){const q=typeof P=="object"&&P[O.schemaId];return q&&(O.code.source||O.code.process)?(0,u._)`/*# sourceURL=${q} */`:u.nil}function n(P,O){if(p(P)&&(_(P),c(P))){l(P,O);return}(0,e.boolOrEmptySchema)(P,O)}function c({schema:P,self:O}){if(typeof P=="boolean")return!P;for(const q in P)if(O.RULES.all[q])return!0;return!1}function p(P){return typeof P.schema!="boolean"}function l(P,O){const{schema:q,gen:M,opts:z}=P;z.$comment&&q.$comment&&K(P),U(P),L(P);const G=M.const("_errs",m.default.errors);j(P,G),M.var(O,(0,u._)`${G} === ${m.default.errors}`)}function _(P){(0,y.checkUnknownRules)(P),C(P)}function j(P,O){if(P.opts.jtd)return de(P,[],!1,O);const q=(0,a.getSchemaTypes)(P.schema),M=(0,a.coerceAndCheckDataType)(P,q);de(P,q,!M,O)}function C(P){const{schema:O,errSchemaPath:q,opts:M,self:z}=P;O.$ref&&M.ignoreKeywordsWithRef&&(0,y.schemaHasRulesButRef)(O,z.RULES)&&z.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function D(P){const{schema:O,opts:q}=P;O.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,y.checkStrictMode)(P,"default is ignored in the schema root")}function U(P){const O=P.schema[P.opts.schemaId];O&&(P.baseId=(0,v.resolveUrl)(P.opts.uriResolver,P.baseId,O))}function L(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:P,schemaEnv:O,schema:q,errSchemaPath:M,opts:z}){const G=q.$comment;if(z.$comment===!0)P.code((0,u._)`${m.default.self}.logger.log(${G})`);else if(typeof z.$comment=="function"){const ee=(0,u.str)`${M}/$comment`,ue=P.scopeValue("root",{ref:O.root});P.code((0,u._)`${m.default.self}.opts.$comment(${G}, ${ee}, ${ue}.schema)`)}}function B(P){const{gen:O,schemaEnv:q,validateName:M,ValidationError:z,opts:G}=P;q.$async?O.if((0,u._)`${m.default.errors} === 0`,()=>O.return(m.default.data),()=>O.throw((0,u._)`new ${z}(${m.default.vErrors})`)):(O.assign((0,u._)`${M}.errors`,m.default.vErrors),G.unevaluated&&x(P),O.return((0,u._)`${m.default.errors} === 0`))}function x({gen:P,evaluated:O,props:q,items:M}){q instanceof u.Name&&P.assign((0,u._)`${O}.props`,q),M instanceof u.Name&&P.assign((0,u._)`${O}.items`,M)}function de(P,O,q,M){const{gen:z,schema:G,data:ee,allErrors:ue,opts:se,self:ae}=P,{RULES:te}=ae;if(G.$ref&&(se.ignoreKeywordsWithRef||!(0,y.schemaHasRulesButRef)(G,te))){z.block(()=>V(P,"$ref",te.all.$ref.definition));return}se.jtd||Z(P,O),z.block(()=>{for(const ie of te.rules)be(ie);be(te.post)});function be(ie){(0,w.shouldUseGroup)(G,ie)&&(ie.type?(z.if((0,d.checkDataType)(ie.type,ee,se.strictNumbers)),fe(P,ie),O.length===1&&O[0]===ie.type&&q&&(z.else(),(0,d.reportTypeError)(P)),z.endIf()):fe(P,ie),ue||z.if((0,u._)`${m.default.errors} === ${M||0}`))}}function fe(P,O){const{gen:q,schema:M,opts:{useDefaults:z}}=P;z&&(0,$.assignDefaults)(P,O.type),q.block(()=>{for(const G of O.rules)(0,w.shouldUseRule)(M,G)&&V(P,G.keyword,G.definition,O.type)})}function Z(P,O){P.schemaEnv.meta||!P.opts.strictTypes||(ye(P,O),P.opts.allowUnionTypes||A(P,O),R(P,P.dataTypes))}function ye(P,O){if(O.length){if(!P.dataTypes.length){P.dataTypes=O;return}O.forEach(q=>{k(P.dataTypes,q)||g(P,`type "${q}" not allowed by context "${P.dataTypes.join(",")}"`)}),i(P,O)}}function A(P,O){O.length>1&&!(O.length===2&&O.includes("null"))&&g(P,"use allowUnionTypes to allow union type keyword")}function R(P,O){const q=P.self.RULES.all;for(const M in q){const z=q[M];if(typeof z=="object"&&(0,w.shouldUseRule)(P.schema,z)){const{type:G}=z.definition;G.length&&!G.some(ee=>T(O,ee))&&g(P,`missing type "${G.join(",")}" for keyword "${M}"`)}}}function T(P,O){return P.includes(O)||O==="number"&&P.includes("integer")}function k(P,O){return P.includes(O)||O==="integer"&&P.includes("number")}function i(P,O){const q=[];for(const M of P.dataTypes)k(O,M)?q.push(M):O.includes("integer")&&M==="number"&&q.push("integer");P.dataTypes=q}function g(P,O){const q=P.schemaEnv.baseId+P.errSchemaPath;O+=` at "${q}" (strictTypes)`,(0,y.checkStrictMode)(P,O,P.opts.strictTypes)}class I{constructor(O,q,M){if((0,o.validateKeywordUsage)(O,q,M),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=M,this.data=O.data,this.schema=O.schema[M],this.$data=q.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,y.schemaRefOrVal)(O,this.schema,M,this.$data),this.schemaType=q.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=q,this.$data)this.schemaCode=O.gen.const("vSchema",W(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=O.gen.const("_errs",m.default.errors))}result(O,q,M){this.failResult((0,u.not)(O),q,M)}failResult(O,q,M){this.gen.if(O),M?M():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,q){this.failResult((0,u.not)(O),void 0,q)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:q}=this;this.fail((0,u._)`${q} !== undefined && (${(0,u.or)(this.invalid$data(),O)})`)}error(O,q,M){if(q){this.setParams(q),this._error(O,M),this.setParams({});return}this._error(O,M)}_error(O,q){(O?E.reportExtraError:E.reportError)(this,this.def.error,q)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,q){q?Object.assign(this.params,O):this.params=O}block$data(O,q,M=u.nil){this.gen.block(()=>{this.check$data(O,M),q()})}check$data(O=u.nil,q=u.nil){if(!this.$data)return;const{gen:M,schemaCode:z,schemaType:G,def:ee}=this;M.if((0,u.or)((0,u._)`${z} === undefined`,q)),O!==u.nil&&M.assign(O,!0),(G.length||ee.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),O!==u.nil&&M.assign(O,!1)),M.else()}invalid$data(){const{gen:O,schemaCode:q,schemaType:M,def:z,it:G}=this;return(0,u.or)(ee(),ue());function ee(){if(M.length){if(!(q instanceof u.Name))throw new Error("ajv implementation error");const se=Array.isArray(M)?M:[M];return(0,u._)`${(0,d.checkDataTypes)(se,q,G.opts.strictNumbers,d.DataType.Wrong)}`}return u.nil}function ue(){if(z.validateSchema){const se=O.scopeValue("validate$data",{ref:z.validateSchema});return(0,u._)`!${se}(${q})`}return u.nil}}subschema(O,q){const M=(0,h.getSubschema)(this.it,O);(0,h.extendSubschemaData)(M,this.it,O),(0,h.extendSubschemaMode)(M,O);const z={...this.it,...M,items:void 0,props:void 0};return n(z,q),z}mergeEvaluated(O,q){const{it:M,gen:z}=this;M.opts.unevaluated&&(M.props!==!0&&O.props!==void 0&&(M.props=y.mergeEvaluated.props(z,O.props,M.props,q)),M.items!==!0&&O.items!==void 0&&(M.items=y.mergeEvaluated.items(z,O.items,M.items,q)))}mergeValidEvaluated(O,q){const{it:M,gen:z}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return z.if(q,()=>this.mergeEvaluated(O,u.Name)),!0}}he.KeywordCxt=I;function V(P,O,q,M){const z=new I(P,q,O);"code"in q?q.code(z,M):z.$data&&q.validate?(0,o.funcKeywordCode)(z,q):"macro"in q?(0,o.macroKeywordCode)(z,q):(q.compile||q.validate)&&(0,o.funcKeywordCode)(z,q)}const F=/^\/(?:[^~]|~0|~1)*$/,Q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(P,{dataLevel:O,dataNames:q,dataPathArr:M}){let z,G;if(P==="")return m.default.rootData;if(P[0]==="/"){if(!F.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);z=P,G=m.default.rootData}else{const ae=Q.exec(P);if(!ae)throw new Error(`Invalid JSON-pointer: ${P}`);const te=+ae[1];if(z=ae[2],z==="#"){if(te>=O)throw new Error(se("property/index",te));return M[O-te]}if(te>O)throw new Error(se("data",te));if(G=q[O-te],!z)return G}let ee=G;const ue=z.split("/");for(const ae of ue)ae&&(G=(0,u._)`${G}${(0,u.getProperty)((0,y.unescapeJsonPointer)(ae))}`,ee=(0,u._)`${ee} && ${G}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${O}`}}return he.getData=W,he}var Ie={},nr;function Tt(){if(nr)return Ie;nr=1,Object.defineProperty(Ie,"__esModule",{value:!0});class e extends Error{constructor(w){super("validation failed"),this.errors=w,this.ajv=this.validation=!0}}return Ie.default=e,Ie}var qe={},sr;function vt(){if(sr)return qe;sr=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=yt();class a extends Error{constructor(d,$,o,h){super(h||`can't resolve reference ${o} from id ${$}`),this.missingRef=(0,e.resolveUrl)(d,$,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(d,this.missingRef))}}return qe.default=a,qe}var oe={},ar;function Ct(){if(ar)return oe;ar=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=J(),a=Tt(),w=ve(),d=yt(),$=X(),o=_t();class h{constructor(s){var t;this.refs={},this.dynamicAnchors={};let n;typeof s.schema=="object"&&(n=s.schema),this.schema=s.schema,this.schemaId=s.schemaId,this.root=s.root||this,this.baseId=(t=s.baseId)!==null&&t!==void 0?t:(0,d.normalizeId)(n?.[s.schemaId||"$id"]),this.schemaPath=s.schemaPath,this.localRefs=s.localRefs,this.meta=s.meta,this.$async=n?.$async,this.refs={}}}oe.SchemaEnv=h;function u(r){const s=y.call(this,r);if(s)return s;const t=(0,d.getFullPath)(this.opts.uriResolver,r.root.baseId),{es5:n,lines:c}=this.opts.code,{ownProperties:p}=this.opts,l=new e.CodeGen(this.scope,{es5:n,lines:c,ownProperties:p});let _;r.$async&&(_=l.scopeValue("Error",{ref:a.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=l.scopeName("validate");r.validateName=j;const C={gen:l,allErrors:this.opts.allErrors,data:w.default.data,parentData:w.default.parentData,parentDataProperty:w.default.parentDataProperty,dataNames:[w.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:r.schema,code:(0,e.stringify)(r.schema)}:{ref:r.schema}),validateName:j,ValidationError:_,schema:r.schema,schemaEnv:r,rootId:t,baseId:r.baseId||t,schemaPath:e.nil,errSchemaPath:r.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(r),(0,o.validateFunctionCode)(C),l.optimize(this.opts.code.optimize);const U=l.toString();D=`${l.scopeRefs(w.default.scope)}return ${U}`,this.opts.code.process&&(D=this.opts.code.process(D,r));const K=new Function(`${w.default.self}`,`${w.default.scope}`,D)(this,this.scope.get());if(this.scope.value(j,{ref:K}),K.errors=null,K.schema=r.schema,K.schemaEnv=r,r.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:j,validateCode:U,scopeValues:l._values}),this.opts.unevaluated){const{props:B,items:x}=C;K.evaluated={props:B instanceof e.Name?void 0:B,items:x instanceof e.Name?void 0:x,dynamicProps:B instanceof e.Name,dynamicItems:x instanceof e.Name},K.source&&(K.source.evaluated=(0,e.stringify)(K.evaluated))}return r.validate=K,r}catch(U){throw delete r.validate,delete r.validateName,D&&this.logger.error("Error compiling schema, function code:",D),U}finally{this._compilations.delete(r)}}oe.compileSchema=u;function m(r,s,t){var n;t=(0,d.resolveUrl)(this.opts.uriResolver,s,t);const c=r.refs[t];if(c)return c;let p=N.call(this,r,t);if(p===void 0){const l=(n=r.localRefs)===null||n===void 0?void 0:n[t],{schemaId:_}=this.opts;l&&(p=new h({schema:l,schemaId:_,root:r,baseId:s}))}if(p!==void 0)return r.refs[t]=v.call(this,p)}oe.resolveRef=m;function v(r){return(0,d.inlineRef)(r.schema,this.opts.inlineRefs)?r.schema:r.validate?r:u.call(this,r)}function y(r){for(const s of this._compilations)if(E(s,r))return s}oe.getCompilingSchema=y;function E(r,s){return r.schema===s.schema&&r.root===s.root&&r.baseId===s.baseId}function N(r,s){let t;for(;typeof(t=this.refs[s])=="string";)s=t;return t||this.schemas[s]||S.call(this,r,s)}function S(r,s){const t=this.opts.uriResolver.parse(s),n=(0,d._getFullPath)(this.opts.uriResolver,t);let c=(0,d.getFullPath)(this.opts.uriResolver,r.baseId,void 0);if(Object.keys(r.schema).length>0&&n===c)return b.call(this,t,r);const p=(0,d.normalizeId)(n),l=this.refs[p]||this.schemas[p];if(typeof l=="string"){const _=S.call(this,r,l);return typeof _?.schema!="object"?void 0:b.call(this,t,_)}if(typeof l?.schema=="object"){if(l.validate||u.call(this,l),p===(0,d.normalizeId)(s)){const{schema:_}=l,{schemaId:j}=this.opts,C=_[j];return C&&(c=(0,d.resolveUrl)(this.opts.uriResolver,c,C)),new h({schema:_,schemaId:j,root:r,baseId:c})}return b.call(this,t,l)}}oe.resolveSchema=S;const f=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(r,{baseId:s,schema:t,root:n}){var c;if(((c=r.fragment)===null||c===void 0?void 0:c[0])!=="/")return;for(const _ of r.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const j=t[(0,$.unescapeFragment)(_)];if(j===void 0)return;t=j;const C=typeof t=="object"&&t[this.opts.schemaId];!f.has(_)&&C&&(s=(0,d.resolveUrl)(this.opts.uriResolver,s,C))}let p;if(typeof t!="boolean"&&t.$ref&&!(0,$.schemaHasRulesButRef)(t,this.RULES)){const _=(0,d.resolveUrl)(this.opts.uriResolver,s,t.$ref);p=S.call(this,n,_)}const{schemaId:l}=this.opts;if(p=p||new h({schema:t,schemaId:l,root:n,baseId:s}),p.schema!==p.root.schema)return p}return oe}const fn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",hn="Meta-schema for $data reference (JSON AnySchema extension proposal)",mn="object",pn=["$data"],yn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},_n=!1,vn={$id:fn,description:hn,type:mn,required:pn,properties:yn,additionalProperties:_n};var Te={},Re={exports:{}},kt,or;function gn(){return or||(or=1,kt={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),kt}var jt,ir;function $n(){if(ir)return jt;ir=1;const{HEX:e}=gn();function a(f){if(h(f,".")<3)return{host:f,isIPV4:!1};const b=f.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[r]=b;return r?{host:o(r,"."),isIPV4:!0}:{host:f,isIPV4:!1}}function w(f,b=!1){let r="",s=!0;for(const t of f){if(e[t]===void 0)return;t!=="0"&&s===!0&&(s=!1),s||(r+=t)}return b&&r.length===0&&(r="0"),r}function d(f){let b=0;const r={error:!1,address:"",zone:""},s=[],t=[];let n=!1,c=!1,p=!1;function l(){if(t.length){if(n===!1){const _=w(t);if(_!==void 0)s.push(_);else return r.error=!0,!1}t.length=0}return!0}for(let _=0;_<f.length;_++){const j=f[_];if(!(j==="["||j==="]"))if(j===":"){if(c===!0&&(p=!0),!l())break;if(b++,s.push(":"),b>7){r.error=!0;break}_-1>=0&&f[_-1]===":"&&(c=!0);continue}else if(j==="%"){if(!l())break;n=!0}else{t.push(j);continue}}return t.length&&(n?r.zone=t.join(""):p?s.push(t.join("")):s.push(w(t))),r.address=s.join(""),r}function $(f,b={}){if(h(f,":")<2)return{host:f,isIPV6:!1};const r=d(f);if(r.error)return{host:f,isIPV6:!1};{let s=r.address,t=r.address;return r.zone&&(s+="%"+r.zone,t+="%25"+r.zone),{host:s,escapedHost:t,isIPV6:!0}}}function o(f,b){let r="",s=!0;const t=f.length;for(let n=0;n<t;n++){const c=f[n];c==="0"&&s?(n+1<=t&&f[n+1]===b||n+1===t)&&(r+=c,s=!1):(c===b?s=!0:s=!1,r+=c)}return r}function h(f,b){let r=0;for(let s=0;s<f.length;s++)f[s]===b&&r++;return r}const u=/^\.\.?\//u,m=/^\/\.(?:\/|$)/u,v=/^\/\.\.(?:\/|$)/u,y=/^\/?(?:.|\n)*?(?=\/|$)/u;function E(f){const b=[];for(;f.length;)if(f.match(u))f=f.replace(u,"");else if(f.match(m))f=f.replace(m,"/");else if(f.match(v))f=f.replace(v,"/"),b.pop();else if(f==="."||f==="..")f="";else{const r=f.match(y);if(r){const s=r[0];f=f.slice(s.length),b.push(s)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function N(f,b){const r=b!==!0?escape:unescape;return f.scheme!==void 0&&(f.scheme=r(f.scheme)),f.userinfo!==void 0&&(f.userinfo=r(f.userinfo)),f.host!==void 0&&(f.host=r(f.host)),f.path!==void 0&&(f.path=r(f.path)),f.query!==void 0&&(f.query=r(f.query)),f.fragment!==void 0&&(f.fragment=r(f.fragment)),f}function S(f,b){const r=[];if(f.userinfo!==void 0&&(r.push(f.userinfo),r.push("@")),f.host!==void 0){let s=unescape(f.host);const t=a(s);if(t.isIPV4)s=t.host;else{const n=$(t.host,{});n.isIPV6===!0?s=`[${n.escapedHost}]`:s=f.host}r.push(s)}return(typeof f.port=="number"||typeof f.port=="string")&&(r.push(":"),r.push(String(f.port))),r.length?r.join(""):void 0}return jt={recomposeAuthority:S,normalizeComponentEncoding:N,removeDotSegments:E,normalizeIPv4:a,normalizeIPv6:$,stringArrayToHexStripped:w},jt}var It,ur;function wn(){if(ur)return It;ur=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,a=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function w(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function d(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function $(t){const n=String(t.scheme).toLowerCase()==="https";return(t.port===(n?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function o(t){return t.secure=w(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function h(t){if((t.port===(w(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[n,c]=t.resourceName.split("?");t.path=n&&n!=="/"?n:void 0,t.query=c,t.resourceName=void 0}return t.fragment=void 0,t}function u(t,n){if(!t.path)return t.error="URN can not be parsed",t;const c=t.path.match(a);if(c){const p=n.scheme||t.scheme||"urn";t.nid=c[1].toLowerCase(),t.nss=c[2];const l=`${p}:${n.nid||t.nid}`,_=s[l];t.path=void 0,_&&(t=_.parse(t,n))}else t.error=t.error||"URN can not be parsed.";return t}function m(t,n){const c=n.scheme||t.scheme||"urn",p=t.nid.toLowerCase(),l=`${c}:${n.nid||p}`,_=s[l];_&&(t=_.serialize(t,n));const j=t,C=t.nss;return j.path=`${p||n.nid}:${C}`,n.skipEscape=!0,j}function v(t,n){const c=t;return c.uuid=c.nss,c.nss=void 0,!n.tolerant&&(!c.uuid||!e.test(c.uuid))&&(c.error=c.error||"UUID is not valid."),c}function y(t){const n=t;return n.nss=(t.uuid||"").toLowerCase(),n}const E={scheme:"http",domainHost:!0,parse:d,serialize:$},N={scheme:"https",domainHost:E.domainHost,parse:d,serialize:$},S={scheme:"ws",domainHost:!0,parse:o,serialize:h},f={scheme:"wss",domainHost:S.domainHost,parse:S.parse,serialize:S.serialize},s={http:E,https:N,ws:S,wss:f,urn:{scheme:"urn",parse:u,serialize:m,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:v,serialize:y,skipNormalize:!0}};return It=s,It}var cr;function bn(){if(cr)return Re.exports;cr=1;const{normalizeIPv6:e,normalizeIPv4:a,removeDotSegments:w,recomposeAuthority:d,normalizeComponentEncoding:$}=$n(),o=wn();function h(r,s){return typeof r=="string"?r=y(f(r,s),s):typeof r=="object"&&(r=f(y(r,s),s)),r}function u(r,s,t){const n=Object.assign({scheme:"null"},t),c=m(f(r,n),f(s,n),n,!0);return y(c,{...n,skipEscape:!0})}function m(r,s,t,n){const c={};return n||(r=f(y(r,t),t),s=f(y(s,t),t)),t=t||{},!t.tolerant&&s.scheme?(c.scheme=s.scheme,c.userinfo=s.userinfo,c.host=s.host,c.port=s.port,c.path=w(s.path||""),c.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(c.userinfo=s.userinfo,c.host=s.host,c.port=s.port,c.path=w(s.path||""),c.query=s.query):(s.path?(s.path.charAt(0)==="/"?c.path=w(s.path):((r.userinfo!==void 0||r.host!==void 0||r.port!==void 0)&&!r.path?c.path="/"+s.path:r.path?c.path=r.path.slice(0,r.path.lastIndexOf("/")+1)+s.path:c.path=s.path,c.path=w(c.path)),c.query=s.query):(c.path=r.path,s.query!==void 0?c.query=s.query:c.query=r.query),c.userinfo=r.userinfo,c.host=r.host,c.port=r.port),c.scheme=r.scheme),c.fragment=s.fragment,c}function v(r,s,t){return typeof r=="string"?(r=unescape(r),r=y($(f(r,t),!0),{...t,skipEscape:!0})):typeof r=="object"&&(r=y($(r,!0),{...t,skipEscape:!0})),typeof s=="string"?(s=unescape(s),s=y($(f(s,t),!0),{...t,skipEscape:!0})):typeof s=="object"&&(s=y($(s,!0),{...t,skipEscape:!0})),r.toLowerCase()===s.toLowerCase()}function y(r,s){const t={host:r.host,scheme:r.scheme,userinfo:r.userinfo,port:r.port,path:r.path,query:r.query,nid:r.nid,nss:r.nss,uuid:r.uuid,fragment:r.fragment,reference:r.reference,resourceName:r.resourceName,secure:r.secure,error:""},n=Object.assign({},s),c=[],p=o[(n.scheme||t.scheme||"").toLowerCase()];p&&p.serialize&&p.serialize(t,n),t.path!==void 0&&(n.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),n.reference!=="suffix"&&t.scheme&&c.push(t.scheme,":");const l=d(t,n);if(l!==void 0&&(n.reference!=="suffix"&&c.push("//"),c.push(l),t.path&&t.path.charAt(0)!=="/"&&c.push("/")),t.path!==void 0){let _=t.path;!n.absolutePath&&(!p||!p.absolutePath)&&(_=w(_)),l===void 0&&(_=_.replace(/^\/\//u,"/%2F")),c.push(_)}return t.query!==void 0&&c.push("?",t.query),t.fragment!==void 0&&c.push("#",t.fragment),c.join("")}const E=Array.from({length:127},(r,s)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(s)));function N(r){let s=0;for(let t=0,n=r.length;t<n;++t)if(s=r.charCodeAt(t),s>126||E[s])return!0;return!1}const S=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function f(r,s){const t=Object.assign({},s),n={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},c=r.indexOf("%")!==-1;let p=!1;t.reference==="suffix"&&(r=(t.scheme?t.scheme+":":"")+"//"+r);const l=r.match(S);if(l){if(n.scheme=l[1],n.userinfo=l[3],n.host=l[4],n.port=parseInt(l[5],10),n.path=l[6]||"",n.query=l[7],n.fragment=l[8],isNaN(n.port)&&(n.port=l[5]),n.host){const j=a(n.host);if(j.isIPV4===!1){const C=e(j.host,{isIPV4:!1});n.host=C.host.toLowerCase(),p=C.isIPV6}else n.host=j.host,p=!0}n.scheme===void 0&&n.userinfo===void 0&&n.host===void 0&&n.port===void 0&&!n.path&&n.query===void 0?n.reference="same-document":n.scheme===void 0?n.reference="relative":n.fragment===void 0?n.reference="absolute":n.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");const _=o[(t.scheme||n.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!_||!_.unicodeSupport)&&n.host&&(t.domainHost||_&&_.domainHost)&&p===!1&&N(n.host))try{n.host=URL.domainToASCII(n.host.toLowerCase())}catch(j){n.error=n.error||"Host's domain name can not be converted to ASCII: "+j}(!_||_&&!_.skipNormalize)&&(c&&n.scheme!==void 0&&(n.scheme=unescape(n.scheme)),c&&n.host!==void 0&&(n.host=unescape(n.host)),n.path!==void 0&&n.path.length&&(n.path=escape(unescape(n.path))),n.fragment!==void 0&&n.fragment.length&&(n.fragment=encodeURI(decodeURIComponent(n.fragment)))),_&&_.parse&&_.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}const b={SCHEMES:o,normalize:h,resolve:u,resolveComponents:m,equal:v,serialize:y,parse:f};return Re.exports=b,Re.exports.default=b,Re.exports.fastUri=b,Re.exports}var lr;function En(){if(lr)return Te;lr=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=bn();return e.code='require("ajv/dist/runtime/uri").default',Te.default=e,Te}var dr;function Pn(){return dr||(dr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var a=_t();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return a.KeywordCxt}});var w=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return w._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return w.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return w.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return w.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return w.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return w.CodeGen}});const d=Tt(),$=vt(),o=Zr(),h=Ct(),u=J(),m=yt(),v=mt(),y=X(),E=vn,N=En(),S=(A,R)=>new RegExp(A,R);S.code="new RegExp";const f=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),r={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},s={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function n(A){var R,T,k,i,g,I,V,F,Q,W,P,O,q,M,z,G,ee,ue,se,ae,te,be,ie,gt,$t;const Se=A.strict,wt=(R=A.code)===null||R===void 0?void 0:R.optimize,Mt=wt===!0||wt===void 0?1:wt||0,Dt=(k=(T=A.code)===null||T===void 0?void 0:T.regExp)!==null&&k!==void 0?k:S,sn=(i=A.uriResolver)!==null&&i!==void 0?i:N.default;return{strictSchema:(I=(g=A.strictSchema)!==null&&g!==void 0?g:Se)!==null&&I!==void 0?I:!0,strictNumbers:(F=(V=A.strictNumbers)!==null&&V!==void 0?V:Se)!==null&&F!==void 0?F:!0,strictTypes:(W=(Q=A.strictTypes)!==null&&Q!==void 0?Q:Se)!==null&&W!==void 0?W:"log",strictTuples:(O=(P=A.strictTuples)!==null&&P!==void 0?P:Se)!==null&&O!==void 0?O:"log",strictRequired:(M=(q=A.strictRequired)!==null&&q!==void 0?q:Se)!==null&&M!==void 0?M:!1,code:A.code?{...A.code,optimize:Mt,regExp:Dt}:{optimize:Mt,regExp:Dt},loopRequired:(z=A.loopRequired)!==null&&z!==void 0?z:t,loopEnum:(G=A.loopEnum)!==null&&G!==void 0?G:t,meta:(ee=A.meta)!==null&&ee!==void 0?ee:!0,messages:(ue=A.messages)!==null&&ue!==void 0?ue:!0,inlineRefs:(se=A.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=A.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=A.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=A.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ie=A.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(gt=A.unicodeRegExp)!==null&&gt!==void 0?gt:!0,int32range:($t=A.int32range)!==null&&$t!==void 0?$t:!0,uriResolver:sn}}class c{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...n(R)};const{es5:T,lines:k}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:b,es5:T,lines:k}),this.logger=L(R.logger);const i=R.validateFormats;R.validateFormats=!1,this.RULES=(0,o.getRules)(),p.call(this,r,R,"NOT SUPPORTED"),p.call(this,s,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&C.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),_.call(this),R.validateFormats=i}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:T,schemaId:k}=this.opts;let i=E;k==="id"&&(i={...E},i.id=i.$id,delete i.$id),T&&R&&this.addMetaSchema(i,i[k],!1)}defaultMeta(){const{meta:R,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[T]||R:void 0}validate(R,T){let k;if(typeof R=="string"){if(k=this.getSchema(R),!k)throw new Error(`no schema with key or ref "${R}"`)}else k=this.compile(R);const i=k(T);return"$async"in k||(this.errors=k.errors),i}compile(R,T){const k=this._addSchema(R,T);return k.validate||this._compileSchemaEnv(k)}compileAsync(R,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:k}=this.opts;return i.call(this,R,T);async function i(W,P){await g.call(this,W.$schema);const O=this._addSchema(W,P);return O.validate||I.call(this,O)}async function g(W){W&&!this.getSchema(W)&&await i.call(this,{$ref:W},!0)}async function I(W){try{return this._compileSchemaEnv(W)}catch(P){if(!(P instanceof $.default))throw P;return V.call(this,P),await F.call(this,P.missingSchema),I.call(this,W)}}function V({missingSchema:W,missingRef:P}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${P} cannot be resolved`)}async function F(W){const P=await Q.call(this,W);this.refs[W]||await g.call(this,P.$schema),this.refs[W]||this.addSchema(P,W,T)}async function Q(W){const P=this._loading[W];if(P)return P;try{return await(this._loading[W]=k(W))}finally{delete this._loading[W]}}}addSchema(R,T,k,i=this.opts.validateSchema){if(Array.isArray(R)){for(const I of R)this.addSchema(I,void 0,k,i);return this}let g;if(typeof R=="object"){const{schemaId:I}=this.opts;if(g=R[I],g!==void 0&&typeof g!="string")throw new Error(`schema ${I} must be string`)}return T=(0,m.normalizeId)(T||g),this._checkUnique(T),this.schemas[T]=this._addSchema(R,k,T,i,!0),this}addMetaSchema(R,T,k=this.opts.validateSchema){return this.addSchema(R,T,!0,k),this}validateSchema(R,T){if(typeof R=="boolean")return!0;let k;if(k=R.$schema,k!==void 0&&typeof k!="string")throw new Error("$schema must be a string");if(k=k||this.opts.defaultMeta||this.defaultMeta(),!k)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const i=this.validate(k,R);if(!i&&T){const g="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(g);else throw new Error(g)}return i}getSchema(R){let T;for(;typeof(T=l.call(this,R))=="string";)R=T;if(T===void 0){const{schemaId:k}=this.opts,i=new h.SchemaEnv({schema:{},schemaId:k});if(T=h.resolveSchema.call(this,i,R),!T)return;this.refs[R]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=l.call(this,R);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const T=R;this._cache.delete(T);let k=R[this.opts.schemaId];return k&&(k=(0,m.normalizeId)(k),delete this.schemas[k],delete this.refs[k]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const T of R)this.addKeyword(T);return this}addKeyword(R,T){let k;if(typeof R=="string")k=R,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=k);else if(typeof R=="object"&&T===void 0){if(T=R,k=T.keyword,Array.isArray(k)&&!k.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,k,T),!T)return(0,y.eachItem)(k,g=>x.call(this,g)),this;fe.call(this,T);const i={...T,type:(0,v.getJSONTypes)(T.type),schemaType:(0,v.getJSONTypes)(T.schemaType)};return(0,y.eachItem)(k,i.type.length===0?g=>x.call(this,g,i):g=>i.type.forEach(I=>x.call(this,g,i,I))),this}getKeyword(R){const T=this.RULES.all[R];return typeof T=="object"?T.definition:!!T}removeKeyword(R){const{RULES:T}=this;delete T.keywords[R],delete T.all[R];for(const k of T.rules){const i=k.rules.findIndex(g=>g.keyword===R);i>=0&&k.rules.splice(i,1)}return this}addFormat(R,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[R]=T,this}errorsText(R=this.errors,{separator:T=", ",dataVar:k="data"}={}){return!R||R.length===0?"No errors":R.map(i=>`${k}${i.instancePath} ${i.message}`).reduce((i,g)=>i+T+g)}$dataMetaSchema(R,T){const k=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const i of T){const g=i.split("/").slice(1);let I=R;for(const V of g)I=I[V];for(const V in k){const F=k[V];if(typeof F!="object")continue;const{$data:Q}=F.definition,W=I[V];Q&&W&&(I[V]=ye(W))}}return R}_removeAllSchemas(R,T){for(const k in R){const i=R[k];(!T||T.test(k))&&(typeof i=="string"?delete R[k]:i&&!i.meta&&(this._cache.delete(i.schema),delete R[k]))}}_addSchema(R,T,k,i=this.opts.validateSchema,g=this.opts.addUsedSchema){let I;const{schemaId:V}=this.opts;if(typeof R=="object")I=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let F=this._cache.get(R);if(F!==void 0)return F;k=(0,m.normalizeId)(I||k);const Q=m.getSchemaRefs.call(this,R,k);return F=new h.SchemaEnv({schema:R,schemaId:V,meta:T,baseId:k,localRefs:Q}),this._cache.set(F.schema,F),g&&!k.startsWith("#")&&(k&&this._checkUnique(k),this.refs[k]=F),i&&this.validateSchema(R,!0),F}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):h.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const T=this.opts;this.opts=this._metaOpts;try{h.compileSchema.call(this,R)}finally{this.opts=T}}}c.ValidationError=d.default,c.MissingRefError=$.default,e.default=c;function p(A,R,T,k="error"){for(const i in A){const g=i;g in R&&this.logger[k](`${T}: option ${i}. ${A[g]}`)}}function l(A){return A=(0,m.normalizeId)(A),this.schemas[A]||this.refs[A]}function _(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function j(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function C(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const T=A[R];T.keyword||(T.keyword=R),this.addKeyword(T)}}function D(){const A={...this.opts};for(const R of f)delete A[R];return A}const U={log(){},warn(){},error(){}};function L(A){if(A===!1)return U;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function B(A,R){const{RULES:T}=this;if((0,y.eachItem)(A,k=>{if(T.keywords[k])throw new Error(`Keyword ${k} is already defined`);if(!K.test(k))throw new Error(`Keyword ${k} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(A,R,T){var k;const i=R?.post;if(T&&i)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:g}=this;let I=i?g.post:g.rules.find(({type:F})=>F===T);if(I||(I={type:T,rules:[]},g.rules.push(I)),g.keywords[A]=!0,!R)return;const V={keyword:A,definition:{...R,type:(0,v.getJSONTypes)(R.type),schemaType:(0,v.getJSONTypes)(R.schemaType)}};R.before?de.call(this,I,V,R.before):I.rules.push(V),g.all[A]=V,(k=R.implements)===null||k===void 0||k.forEach(F=>this.addKeyword(F))}function de(A,R,T){const k=A.rules.findIndex(i=>i.keyword===T);k>=0?A.rules.splice(k,0,R):(A.rules.push(R),this.logger.warn(`rule ${T} is not defined`))}function fe(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=ye(R)),A.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(A){return{anyOf:[A,Z]}}}(bt)),bt}var Ce={},Ae={},Me={},fr;function Sn(){if(fr)return Me;fr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Me.default=e,Me}var _e={},hr;function Nn(){if(hr)return _e;hr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=vt(),a=le(),w=J(),d=ve(),$=Ct(),o=X(),h={keyword:"$ref",schemaType:"string",code(v){const{gen:y,schema:E,it:N}=v,{baseId:S,schemaEnv:f,validateName:b,opts:r,self:s}=N,{root:t}=f;if((E==="#"||E==="#/")&&S===t.baseId)return c();const n=$.resolveRef.call(s,t,S,E);if(n===void 0)throw new e.default(N.opts.uriResolver,S,E);if(n instanceof $.SchemaEnv)return p(n);return l(n);function c(){if(f===t)return m(v,b,f,f.$async);const _=y.scopeValue("root",{ref:t});return m(v,(0,w._)`${_}.validate`,t,t.$async)}function p(_){const j=u(v,_);m(v,j,_,_.$async)}function l(_){const j=y.scopeValue("schema",r.code.source===!0?{ref:_,code:(0,w.stringify)(_)}:{ref:_}),C=y.name("valid"),D=v.subschema({schema:_,dataTypes:[],schemaPath:w.nil,topSchemaRef:j,errSchemaPath:E},C);v.mergeEvaluated(D),v.ok(C)}}};function u(v,y){const{gen:E}=v;return y.validate?E.scopeValue("validate",{ref:y.validate}):(0,w._)`${E.scopeValue("wrapper",{ref:y})}.validate`}_e.getValidate=u;function m(v,y,E,N){const{gen:S,it:f}=v,{allErrors:b,schemaEnv:r,opts:s}=f,t=s.passContext?d.default.this:w.nil;N?n():c();function n(){if(!r.$async)throw new Error("async schema referenced by sync schema");const _=S.let("valid");S.try(()=>{S.code((0,w._)`await ${(0,a.callValidateCode)(v,y,t)}`),l(y),b||S.assign(_,!0)},j=>{S.if((0,w._)`!(${j} instanceof ${f.ValidationError})`,()=>S.throw(j)),p(j),b||S.assign(_,!1)}),v.ok(_)}function c(){v.result((0,a.callValidateCode)(v,y,t),()=>l(y),()=>p(y))}function p(_){const j=(0,w._)`${_}.errors`;S.assign(d.default.vErrors,(0,w._)`${d.default.vErrors} === null ? ${j} : ${d.default.vErrors}.concat(${j})`),S.assign(d.default.errors,(0,w._)`${d.default.vErrors}.length`)}function l(_){var j;if(!f.opts.unevaluated)return;const C=(j=E?.validate)===null||j===void 0?void 0:j.evaluated;if(f.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(f.props=o.mergeEvaluated.props(S,C.props,f.props));else{const D=S.var("props",(0,w._)`${_}.evaluated.props`);f.props=o.mergeEvaluated.props(S,D,f.props,w.Name)}if(f.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(f.items=o.mergeEvaluated.items(S,C.items,f.items));else{const D=S.var("items",(0,w._)`${_}.evaluated.items`);f.items=o.mergeEvaluated.items(S,D,f.items,w.Name)}}}return _e.callRef=m,_e.default=h,_e}var mr;function Rn(){if(mr)return Ae;mr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=Sn(),a=Nn(),w=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,a.default];return Ae.default=w,Ae}var De={},Ve={},pr;function On(){if(pr)return Ve;pr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=J(),a=e.operators,w={maximum:{okStr:"<=",ok:a.LTE,fail:a.GT},minimum:{okStr:">=",ok:a.GTE,fail:a.LT},exclusiveMaximum:{okStr:"<",ok:a.LT,fail:a.GTE},exclusiveMinimum:{okStr:">",ok:a.GT,fail:a.LTE}},d={message:({keyword:o,schemaCode:h})=>(0,e.str)`must be ${w[o].okStr} ${h}`,params:({keyword:o,schemaCode:h})=>(0,e._)`{comparison: ${w[o].okStr}, limit: ${h}}`},$={keyword:Object.keys(w),type:"number",schemaType:"number",$data:!0,error:d,code(o){const{keyword:h,data:u,schemaCode:m}=o;o.fail$data((0,e._)`${u} ${w[h].fail} ${m} || isNaN(${u})`)}};return Ve.default=$,Ve}var Ue={},yr;function kn(){if(yr)return Ue;yr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=J(),w={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must be multiple of ${d}`,params:({schemaCode:d})=>(0,e._)`{multipleOf: ${d}}`},code(d){const{gen:$,data:o,schemaCode:h,it:u}=d,m=u.opts.multipleOfPrecision,v=$.let("res"),y=m?(0,e._)`Math.abs(Math.round(${v}) - ${v}) > 1e-${m}`:(0,e._)`${v} !== parseInt(${v})`;d.fail$data((0,e._)`(${h} === 0 || (${v} = ${o}/${h}, ${y}))`)}};return Ue.default=w,Ue}var ze={},Fe={},_r;function jn(){if(_r)return Fe;_r=1,Object.defineProperty(Fe,"__esModule",{value:!0});function e(a){const w=a.length;let d=0,$=0,o;for(;$<w;)d++,o=a.charCodeAt($++),o>=55296&&o<=56319&&$<w&&(o=a.charCodeAt($),(o&64512)===56320&&$++);return d}return Fe.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Fe}var vr;function In(){if(vr)return ze;vr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=J(),a=X(),w=jn(),$={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:h}){const u=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${h} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:h,data:u,schemaCode:m,it:v}=o,y=h==="maxLength"?e.operators.GT:e.operators.LT,E=v.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,a.useFunc)(o.gen,w.default)}(${u})`;o.fail$data((0,e._)`${E} ${y} ${m}`)}};return ze.default=$,ze}var Ke={},gr;function qn(){if(gr)return Ke;gr=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=le(),a=J(),d={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:$})=>(0,a.str)`must match pattern "${$}"`,params:({schemaCode:$})=>(0,a._)`{pattern: ${$}}`},code($){const{data:o,$data:h,schema:u,schemaCode:m,it:v}=$,y=v.opts.unicodeRegExp?"u":"",E=h?(0,a._)`(new RegExp(${m}, ${y}))`:(0,e.usePattern)($,u);$.fail$data((0,a._)`!${E}.test(${o})`)}};return Ke.default=d,Ke}var Le={},$r;function Tn(){if($r)return Le;$r=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),w={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:$}){const o=d==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${$} properties`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:$,data:o,schemaCode:h}=d,u=$==="maxProperties"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`Object.keys(${o}).length ${u} ${h}`)}};return Le.default=w,Le}var He={},wr;function Cn(){if(wr)return He;wr=1,Object.defineProperty(He,"__esModule",{value:!0});const e=le(),a=J(),w=X(),$={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,a.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,a._)`{missingProperty: ${o}}`},code(o){const{gen:h,schema:u,schemaCode:m,data:v,$data:y,it:E}=o,{opts:N}=E;if(!y&&u.length===0)return;const S=u.length>=N.loopRequired;if(E.allErrors?f():b(),N.strictRequired){const t=o.parentSchema.properties,{definedProperties:n}=o.it;for(const c of u)if(t?.[c]===void 0&&!n.has(c)){const p=E.schemaEnv.baseId+E.errSchemaPath,l=`required property "${c}" is not defined at "${p}" (strictRequired)`;(0,w.checkStrictMode)(E,l,E.opts.strictRequired)}}function f(){if(S||y)o.block$data(a.nil,r);else for(const t of u)(0,e.checkReportMissingProp)(o,t)}function b(){const t=h.let("missing");if(S||y){const n=h.let("valid",!0);o.block$data(n,()=>s(t,n)),o.ok(n)}else h.if((0,e.checkMissingProp)(o,u,t)),(0,e.reportMissingProp)(o,t),h.else()}function r(){h.forOf("prop",m,t=>{o.setParams({missingProperty:t}),h.if((0,e.noPropertyInData)(h,v,t,N.ownProperties),()=>o.error())})}function s(t,n){o.setParams({missingProperty:t}),h.forOf(t,m,()=>{h.assign(n,(0,e.propertyInData)(h,v,t,N.ownProperties)),h.if((0,a.not)(n),()=>{o.error(),h.break()})},a.nil)}}};return He.default=$,He}var Ge={},br;function An(){if(br)return Ge;br=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),w={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:$}){const o=d==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${$} items`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:$,data:o,schemaCode:h}=d,u=$==="maxItems"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`${o}.length ${u} ${h}`)}};return Ge.default=w,Ge}var Je={},We={},Er;function At(){if(Er)return We;Er=1,Object.defineProperty(We,"__esModule",{value:!0});const e=en();return e.code='require("ajv/dist/runtime/equal").default',We.default=e,We}var Pr;function Mn(){if(Pr)return Je;Pr=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=mt(),a=J(),w=X(),d=At(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:h,j:u}})=>(0,a.str)`must NOT have duplicate items (items ## ${u} and ${h} are identical)`,params:({params:{i:h,j:u}})=>(0,a._)`{i: ${h}, j: ${u}}`},code(h){const{gen:u,data:m,$data:v,schema:y,parentSchema:E,schemaCode:N,it:S}=h;if(!v&&!y)return;const f=u.let("valid"),b=E.items?(0,e.getSchemaTypes)(E.items):[];h.block$data(f,r,(0,a._)`${N} === false`),h.ok(f);function r(){const c=u.let("i",(0,a._)`${m}.length`),p=u.let("j");h.setParams({i:c,j:p}),u.assign(f,!0),u.if((0,a._)`${c} > 1`,()=>(s()?t:n)(c,p))}function s(){return b.length>0&&!b.some(c=>c==="object"||c==="array")}function t(c,p){const l=u.name("item"),_=(0,e.checkDataTypes)(b,l,S.opts.strictNumbers,e.DataType.Wrong),j=u.const("indices",(0,a._)`{}`);u.for((0,a._)`;${c}--;`,()=>{u.let(l,(0,a._)`${m}[${c}]`),u.if(_,(0,a._)`continue`),b.length>1&&u.if((0,a._)`typeof ${l} == "string"`,(0,a._)`${l} += "_"`),u.if((0,a._)`typeof ${j}[${l}] == "number"`,()=>{u.assign(p,(0,a._)`${j}[${l}]`),h.error(),u.assign(f,!1).break()}).code((0,a._)`${j}[${l}] = ${c}`)})}function n(c,p){const l=(0,w.useFunc)(u,d.default),_=u.name("outer");u.label(_).for((0,a._)`;${c}--;`,()=>u.for((0,a._)`${p} = ${c}; ${p}--;`,()=>u.if((0,a._)`${l}(${m}[${c}], ${m}[${p}])`,()=>{h.error(),u.assign(f,!1).break(_)})))}}};return Je.default=o,Je}var Be={},Sr;function Dn(){if(Sr)return Be;Sr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),a=X(),w=At(),$={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:h,data:u,$data:m,schemaCode:v,schema:y}=o;m||y&&typeof y=="object"?o.fail$data((0,e._)`!${(0,a.useFunc)(h,w.default)}(${u}, ${v})`):o.fail((0,e._)`${y} !== ${u}`)}};return Be.default=$,Be}var Xe={},Nr;function Vn(){if(Nr)return Xe;Nr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=J(),a=X(),w=At(),$={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:h,data:u,$data:m,schema:v,schemaCode:y,it:E}=o;if(!m&&v.length===0)throw new Error("enum must have non-empty array");const N=v.length>=E.opts.loopEnum;let S;const f=()=>S??(S=(0,a.useFunc)(h,w.default));let b;if(N||m)b=h.let("valid"),o.block$data(b,r);else{if(!Array.isArray(v))throw new Error("ajv implementation error");const t=h.const("vSchema",y);b=(0,e.or)(...v.map((n,c)=>s(t,c)))}o.pass(b);function r(){h.assign(b,!1),h.forOf("v",y,t=>h.if((0,e._)`${f()}(${u}, ${t})`,()=>h.assign(b,!0).break()))}function s(t,n){const c=v[n];return typeof c=="object"&&c!==null?(0,e._)`${f()}(${u}, ${t}[${n}])`:(0,e._)`${u} === ${c}`}}};return Xe.default=$,Xe}var Rr;function Un(){if(Rr)return De;Rr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=On(),a=kn(),w=In(),d=qn(),$=Tn(),o=Cn(),h=An(),u=Mn(),m=Dn(),v=Vn(),y=[e.default,a.default,w.default,d.default,$.default,o.default,h.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},m.default,v.default];return De.default=y,De}var Qe={},Ee={},Or;function tn(){if(Or)return Ee;Or=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=J(),a=X(),d={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:h,it:u}=o,{items:m}=h;if(!Array.isArray(m)){(0,a.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}$(o,m)}};function $(o,h){const{gen:u,schema:m,data:v,keyword:y,it:E}=o;E.items=!0;const N=u.const("len",(0,e._)`${v}.length`);if(m===!1)o.setParams({len:h.length}),o.pass((0,e._)`${N} <= ${h.length}`);else if(typeof m=="object"&&!(0,a.alwaysValidSchema)(E,m)){const f=u.var("valid",(0,e._)`${N} <= ${h.length}`);u.if((0,e.not)(f),()=>S(f)),o.ok(f)}function S(f){u.forRange("i",h.length,N,b=>{o.subschema({keyword:y,dataProp:b,dataPropType:a.Type.Num},f),E.allErrors||u.if((0,e.not)(f),()=>u.break())})}}return Ee.validateAdditionalItems=$,Ee.default=d,Ee}var Ye={},Pe={},kr;function rn(){if(kr)return Pe;kr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=J(),a=X(),w=le(),d={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:h,it:u}=o;if(Array.isArray(h))return $(o,"additionalItems",h);u.items=!0,!(0,a.alwaysValidSchema)(u,h)&&o.ok((0,w.validateArray)(o))}};function $(o,h,u=o.schema){const{gen:m,parentSchema:v,data:y,keyword:E,it:N}=o;b(v),N.opts.unevaluated&&u.length&&N.items!==!0&&(N.items=a.mergeEvaluated.items(m,u.length,N.items));const S=m.name("valid"),f=m.const("len",(0,e._)`${y}.length`);u.forEach((r,s)=>{(0,a.alwaysValidSchema)(N,r)||(m.if((0,e._)`${f} > ${s}`,()=>o.subschema({keyword:E,schemaProp:s,dataProp:s},S)),o.ok(S))});function b(r){const{opts:s,errSchemaPath:t}=N,n=u.length,c=n===r.minItems&&(n===r.maxItems||r[h]===!1);if(s.strictTuples&&!c){const p=`"${E}" is ${n}-tuple, but minItems or maxItems/${h} are not specified or different at path "${t}"`;(0,a.checkStrictMode)(N,p,s.strictTuples)}}}return Pe.validateTuple=$,Pe.default=d,Pe}var jr;function zn(){if(jr)return Ye;jr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=rn(),a={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:w=>(0,e.validateTuple)(w,"items")};return Ye.default=a,Ye}var Ze={},Ir;function Fn(){if(Ir)return Ze;Ir=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=J(),a=X(),w=le(),d=tn(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:h}})=>(0,e.str)`must NOT have more than ${h} items`,params:({params:{len:h}})=>(0,e._)`{limit: ${h}}`},code(h){const{schema:u,parentSchema:m,it:v}=h,{prefixItems:y}=m;v.items=!0,!(0,a.alwaysValidSchema)(v,u)&&(y?(0,d.validateAdditionalItems)(h,y):h.ok((0,w.validateArray)(h)))}};return Ze.default=o,Ze}var xe={},qr;function Kn(){if(qr)return xe;qr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),a=X(),d={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:$,max:o}})=>o===void 0?(0,e.str)`must contain at least ${$} valid item(s)`:(0,e.str)`must contain at least ${$} and no more than ${o} valid item(s)`,params:({params:{min:$,max:o}})=>o===void 0?(0,e._)`{minContains: ${$}}`:(0,e._)`{minContains: ${$}, maxContains: ${o}}`},code($){const{gen:o,schema:h,parentSchema:u,data:m,it:v}=$;let y,E;const{minContains:N,maxContains:S}=u;v.opts.next?(y=N===void 0?1:N,E=S):y=1;const f=o.const("len",(0,e._)`${m}.length`);if($.setParams({min:y,max:E}),E===void 0&&y===0){(0,a.checkStrictMode)(v,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&y>E){(0,a.checkStrictMode)(v,'"minContains" > "maxContains" is always invalid'),$.fail();return}if((0,a.alwaysValidSchema)(v,h)){let n=(0,e._)`${f} >= ${y}`;E!==void 0&&(n=(0,e._)`${n} && ${f} <= ${E}`),$.pass(n);return}v.items=!0;const b=o.name("valid");E===void 0&&y===1?s(b,()=>o.if(b,()=>o.break())):y===0?(o.let(b,!0),E!==void 0&&o.if((0,e._)`${m}.length > 0`,r)):(o.let(b,!1),r()),$.result(b,()=>$.reset());function r(){const n=o.name("_valid"),c=o.let("count",0);s(n,()=>o.if(n,()=>t(c)))}function s(n,c){o.forRange("i",0,f,p=>{$.subschema({keyword:"contains",dataProp:p,dataPropType:a.Type.Num,compositeRule:!0},n),c()})}function t(n){o.code((0,e._)`${n}++`),E===void 0?o.if((0,e._)`${n} >= ${y}`,()=>o.assign(b,!0).break()):(o.if((0,e._)`${n} > ${E}`,()=>o.assign(b,!1).break()),y===1?o.assign(b,!0):o.if((0,e._)`${n} >= ${y}`,()=>o.assign(b,!0)))}}};return xe.default=d,xe}var qt={},Tr;function Ln(){return Tr||(Tr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const a=J(),w=X(),d=le();e.error={message:({params:{property:m,depsCount:v,deps:y}})=>{const E=v===1?"property":"properties";return(0,a.str)`must have ${E} ${y} when property ${m} is present`},params:({params:{property:m,depsCount:v,deps:y,missingProperty:E}})=>(0,a._)`{property: ${m},
    missingProperty: ${E},
    depsCount: ${v},
    deps: ${y}}`};const $={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(m){const[v,y]=o(m);h(m,v),u(m,y)}};function o({schema:m}){const v={},y={};for(const E in m){if(E==="__proto__")continue;const N=Array.isArray(m[E])?v:y;N[E]=m[E]}return[v,y]}function h(m,v=m.schema){const{gen:y,data:E,it:N}=m;if(Object.keys(v).length===0)return;const S=y.let("missing");for(const f in v){const b=v[f];if(b.length===0)continue;const r=(0,d.propertyInData)(y,E,f,N.opts.ownProperties);m.setParams({property:f,depsCount:b.length,deps:b.join(", ")}),N.allErrors?y.if(r,()=>{for(const s of b)(0,d.checkReportMissingProp)(m,s)}):(y.if((0,a._)`${r} && (${(0,d.checkMissingProp)(m,b,S)})`),(0,d.reportMissingProp)(m,S),y.else())}}e.validatePropertyDeps=h;function u(m,v=m.schema){const{gen:y,data:E,keyword:N,it:S}=m,f=y.name("valid");for(const b in v)(0,w.alwaysValidSchema)(S,v[b])||(y.if((0,d.propertyInData)(y,E,b,S.opts.ownProperties),()=>{const r=m.subschema({keyword:N,schemaProp:b},f);m.mergeValidEvaluated(r,f)},()=>y.var(f,!0)),m.ok(f))}e.validateSchemaDeps=u,e.default=$}(qt)),qt}var et={},Cr;function Hn(){if(Cr)return et;Cr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),a=X(),d={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>(0,e._)`{propertyName: ${$.propertyName}}`},code($){const{gen:o,schema:h,data:u,it:m}=$;if((0,a.alwaysValidSchema)(m,h))return;const v=o.name("valid");o.forIn("key",u,y=>{$.setParams({propertyName:y}),$.subschema({keyword:"propertyNames",data:y,dataTypes:["string"],propertyName:y,compositeRule:!0},v),o.if((0,e.not)(v),()=>{$.error(!0),m.allErrors||o.break()})}),$.ok(v)}};return et.default=d,et}var tt={},Ar;function nn(){if(Ar)return tt;Ar=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=le(),a=J(),w=ve(),d=X(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:h})=>(0,a._)`{additionalProperty: ${h.additionalProperty}}`},code(h){const{gen:u,schema:m,parentSchema:v,data:y,errsCount:E,it:N}=h;if(!E)throw new Error("ajv implementation error");const{allErrors:S,opts:f}=N;if(N.props=!0,f.removeAdditional!=="all"&&(0,d.alwaysValidSchema)(N,m))return;const b=(0,e.allSchemaProperties)(v.properties),r=(0,e.allSchemaProperties)(v.patternProperties);s(),h.ok((0,a._)`${E} === ${w.default.errors}`);function s(){u.forIn("key",y,l=>{!b.length&&!r.length?c(l):u.if(t(l),()=>c(l))})}function t(l){let _;if(b.length>8){const j=(0,d.schemaRefOrVal)(N,v.properties,"properties");_=(0,e.isOwnProperty)(u,j,l)}else b.length?_=(0,a.or)(...b.map(j=>(0,a._)`${l} === ${j}`)):_=a.nil;return r.length&&(_=(0,a.or)(_,...r.map(j=>(0,a._)`${(0,e.usePattern)(h,j)}.test(${l})`))),(0,a.not)(_)}function n(l){u.code((0,a._)`delete ${y}[${l}]`)}function c(l){if(f.removeAdditional==="all"||f.removeAdditional&&m===!1){n(l);return}if(m===!1){h.setParams({additionalProperty:l}),h.error(),S||u.break();return}if(typeof m=="object"&&!(0,d.alwaysValidSchema)(N,m)){const _=u.name("valid");f.removeAdditional==="failing"?(p(l,_,!1),u.if((0,a.not)(_),()=>{h.reset(),n(l)})):(p(l,_),S||u.if((0,a.not)(_),()=>u.break()))}}function p(l,_,j){const C={keyword:"additionalProperties",dataProp:l,dataPropType:d.Type.Str};j===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),h.subschema(C,_)}}};return tt.default=o,tt}var rt={},Mr;function Gn(){if(Mr)return rt;Mr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=_t(),a=le(),w=X(),d=nn(),$={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:h,schema:u,parentSchema:m,data:v,it:y}=o;y.opts.removeAdditional==="all"&&m.additionalProperties===void 0&&d.default.code(new e.KeywordCxt(y,d.default,"additionalProperties"));const E=(0,a.allSchemaProperties)(u);for(const r of E)y.definedProperties.add(r);y.opts.unevaluated&&E.length&&y.props!==!0&&(y.props=w.mergeEvaluated.props(h,(0,w.toHash)(E),y.props));const N=E.filter(r=>!(0,w.alwaysValidSchema)(y,u[r]));if(N.length===0)return;const S=h.name("valid");for(const r of N)f(r)?b(r):(h.if((0,a.propertyInData)(h,v,r,y.opts.ownProperties)),b(r),y.allErrors||h.else().var(S,!0),h.endIf()),o.it.definedProperties.add(r),o.ok(S);function f(r){return y.opts.useDefaults&&!y.compositeRule&&u[r].default!==void 0}function b(r){o.subschema({keyword:"properties",schemaProp:r,dataProp:r},S)}}};return rt.default=$,rt}var nt={},Dr;function Jn(){if(Dr)return nt;Dr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=le(),a=J(),w=X(),d=X(),$={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:h,schema:u,data:m,parentSchema:v,it:y}=o,{opts:E}=y,N=(0,e.allSchemaProperties)(u),S=N.filter(c=>(0,w.alwaysValidSchema)(y,u[c]));if(N.length===0||S.length===N.length&&(!y.opts.unevaluated||y.props===!0))return;const f=E.strictSchema&&!E.allowMatchingProperties&&v.properties,b=h.name("valid");y.props!==!0&&!(y.props instanceof a.Name)&&(y.props=(0,d.evaluatedPropsToName)(h,y.props));const{props:r}=y;s();function s(){for(const c of N)f&&t(c),y.allErrors?n(c):(h.var(b,!0),n(c),h.if(b))}function t(c){for(const p in f)new RegExp(c).test(p)&&(0,w.checkStrictMode)(y,`property ${p} matches pattern ${c} (use allowMatchingProperties)`)}function n(c){h.forIn("key",m,p=>{h.if((0,a._)`${(0,e.usePattern)(o,c)}.test(${p})`,()=>{const l=S.includes(c);l||o.subschema({keyword:"patternProperties",schemaProp:c,dataProp:p,dataPropType:d.Type.Str},b),y.opts.unevaluated&&r!==!0?h.assign((0,a._)`${r}[${p}]`,!0):!l&&!y.allErrors&&h.if((0,a.not)(b),()=>h.break())})})}}};return nt.default=$,nt}var st={},Vr;function Wn(){if(Vr)return st;Vr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=X(),a={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(w){const{gen:d,schema:$,it:o}=w;if((0,e.alwaysValidSchema)(o,$)){w.fail();return}const h=d.name("valid");w.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},h),w.failResult(h,()=>w.reset(),()=>w.error())},error:{message:"must NOT be valid"}};return st.default=a,st}var at={},Ur;function Bn(){if(Ur)return at;Ur=1,Object.defineProperty(at,"__esModule",{value:!0});const a={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return at.default=a,at}var ot={},zr;function Xn(){if(zr)return ot;zr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=J(),a=X(),d={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>(0,e._)`{passingSchemas: ${$.passing}}`},code($){const{gen:o,schema:h,parentSchema:u,it:m}=$;if(!Array.isArray(h))throw new Error("ajv implementation error");if(m.opts.discriminator&&u.discriminator)return;const v=h,y=o.let("valid",!1),E=o.let("passing",null),N=o.name("_valid");$.setParams({passing:E}),o.block(S),$.result(y,()=>$.reset(),()=>$.error(!0));function S(){v.forEach((f,b)=>{let r;(0,a.alwaysValidSchema)(m,f)?o.var(N,!0):r=$.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},N),b>0&&o.if((0,e._)`${N} && ${y}`).assign(y,!1).assign(E,(0,e._)`[${E}, ${b}]`).else(),o.if(N,()=>{o.assign(y,!0),o.assign(E,b),r&&$.mergeEvaluated(r,e.Name)})})}}};return ot.default=d,ot}var it={},Fr;function Qn(){if(Fr)return it;Fr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=X(),a={keyword:"allOf",schemaType:"array",code(w){const{gen:d,schema:$,it:o}=w;if(!Array.isArray($))throw new Error("ajv implementation error");const h=d.name("valid");$.forEach((u,m)=>{if((0,e.alwaysValidSchema)(o,u))return;const v=w.subschema({keyword:"allOf",schemaProp:m},h);w.ok(h),w.mergeEvaluated(v)})}};return it.default=a,it}var ut={},Kr;function Yn(){if(Kr)return ut;Kr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=J(),a=X(),d={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:h,parentSchema:u,it:m}=o;u.then===void 0&&u.else===void 0&&(0,a.checkStrictMode)(m,'"if" without "then" and "else" is ignored');const v=$(m,"then"),y=$(m,"else");if(!v&&!y)return;const E=h.let("valid",!0),N=h.name("_valid");if(S(),o.reset(),v&&y){const b=h.let("ifClause");o.setParams({ifClause:b}),h.if(N,f("then",b),f("else",b))}else v?h.if(N,f("then")):h.if((0,e.not)(N),f("else"));o.pass(E,()=>o.error(!0));function S(){const b=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},N);o.mergeEvaluated(b)}function f(b,r){return()=>{const s=o.subschema({keyword:b},N);h.assign(E,N),o.mergeValidEvaluated(s,E),r?h.assign(r,(0,e._)`${b}`):o.setParams({ifClause:b})}}}};function $(o,h){const u=o.schema[h];return u!==void 0&&!(0,a.alwaysValidSchema)(o,u)}return ut.default=d,ut}var ct={},Lr;function Zn(){if(Lr)return ct;Lr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=X(),a={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:w,parentSchema:d,it:$}){d.if===void 0&&(0,e.checkStrictMode)($,`"${w}" without "if" is ignored`)}};return ct.default=a,ct}var Hr;function xn(){if(Hr)return Qe;Hr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=tn(),a=zn(),w=rn(),d=Fn(),$=Kn(),o=Ln(),h=Hn(),u=nn(),m=Gn(),v=Jn(),y=Wn(),E=Bn(),N=Xn(),S=Qn(),f=Yn(),b=Zn();function r(s=!1){const t=[y.default,E.default,N.default,S.default,f.default,b.default,h.default,u.default,o.default,m.default,v.default];return s?t.push(a.default,d.default):t.push(e.default,w.default),t.push($.default),t}return Qe.default=r,Qe}var lt={},dt={},Gr;function es(){if(Gr)return dt;Gr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),w={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must match format "${d}"`,params:({schemaCode:d})=>(0,e._)`{format: ${d}}`},code(d,$){const{gen:o,data:h,$data:u,schema:m,schemaCode:v,it:y}=d,{opts:E,errSchemaPath:N,schemaEnv:S,self:f}=y;if(!E.validateFormats)return;u?b():r();function b(){const s=o.scopeValue("formats",{ref:f.formats,code:E.code.formats}),t=o.const("fDef",(0,e._)`${s}[${v}]`),n=o.let("fType"),c=o.let("format");o.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>o.assign(n,(0,e._)`${t}.type || "string"`).assign(c,(0,e._)`${t}.validate`),()=>o.assign(n,(0,e._)`"string"`).assign(c,t)),d.fail$data((0,e.or)(p(),l()));function p(){return E.strictSchema===!1?e.nil:(0,e._)`${v} && !${c}`}function l(){const _=S.$async?(0,e._)`(${t}.async ? await ${c}(${h}) : ${c}(${h}))`:(0,e._)`${c}(${h})`,j=(0,e._)`(typeof ${c} == "function" ? ${_} : ${c}.test(${h}))`;return(0,e._)`${c} && ${c} !== true && ${n} === ${$} && !${j}`}}function r(){const s=f.formats[m];if(!s){p();return}if(s===!0)return;const[t,n,c]=l(s);t===$&&d.pass(_());function p(){if(E.strictSchema===!1){f.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${m}" ignored in schema at path "${N}"`}}function l(j){const C=j instanceof RegExp?(0,e.regexpCode)(j):E.code.formats?(0,e._)`${E.code.formats}${(0,e.getProperty)(m)}`:void 0,D=o.scopeValue("formats",{key:m,ref:j,code:C});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${D}.validate`]:["string",j,D]}function _(){if(typeof s=="object"&&!(s instanceof RegExp)&&s.async){if(!S.$async)throw new Error("async format in sync schema");return(0,e._)`await ${c}(${h})`}return typeof n=="function"?(0,e._)`${c}(${h})`:(0,e._)`${c}.test(${h})`}}}};return dt.default=w,dt}var Jr;function ts(){if(Jr)return lt;Jr=1,Object.defineProperty(lt,"__esModule",{value:!0});const a=[es().default];return lt.default=a,lt}var we={},Wr;function rs(){return Wr||(Wr=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var Br;function ns(){if(Br)return Ce;Br=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=Rn(),a=Un(),w=xn(),d=ts(),$=rs(),o=[e.default,a.default,(0,w.default)(),d.default,$.metadataVocabulary,$.contentVocabulary];return Ce.default=o,Ce}var ft={},Oe={},Xr;function ss(){if(Xr)return Oe;Xr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.DiscrError=void 0;var e;return function(a){a.Tag="tag",a.Mapping="mapping"}(e||(Oe.DiscrError=e={})),Oe}var Qr;function as(){if(Qr)return ft;Qr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=J(),a=ss(),w=Ct(),d=vt(),$=X(),h={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:m}})=>u===a.DiscrError.Tag?`tag "${m}" must be string`:`value of tag "${m}" must be in oneOf`,params:({params:{discrError:u,tag:m,tagName:v}})=>(0,e._)`{error: ${u}, tag: ${v}, tagValue: ${m}}`},code(u){const{gen:m,data:v,schema:y,parentSchema:E,it:N}=u,{oneOf:S}=E;if(!N.opts.discriminator)throw new Error("discriminator: requires discriminator option");const f=y.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(y.mapping)throw new Error("discriminator: mapping is not supported");if(!S)throw new Error("discriminator: requires oneOf keyword");const b=m.let("valid",!1),r=m.const("tag",(0,e._)`${v}${(0,e.getProperty)(f)}`);m.if((0,e._)`typeof ${r} == "string"`,()=>s(),()=>u.error(!1,{discrError:a.DiscrError.Tag,tag:r,tagName:f})),u.ok(b);function s(){const c=n();m.if(!1);for(const p in c)m.elseIf((0,e._)`${r} === ${p}`),m.assign(b,t(c[p]));m.else(),u.error(!1,{discrError:a.DiscrError.Mapping,tag:r,tagName:f}),m.endIf()}function t(c){const p=m.name("valid"),l=u.subschema({keyword:"oneOf",schemaProp:c},p);return u.mergeEvaluated(l,e.Name),p}function n(){var c;const p={},l=j(E);let _=!0;for(let U=0;U<S.length;U++){let L=S[U];if(L?.$ref&&!(0,$.schemaHasRulesButRef)(L,N.self.RULES)){const B=L.$ref;if(L=w.resolveRef.call(N.self,N.schemaEnv.root,N.baseId,B),L instanceof w.SchemaEnv&&(L=L.schema),L===void 0)throw new d.default(N.opts.uriResolver,N.baseId,B)}const K=(c=L?.properties)===null||c===void 0?void 0:c[f];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);_=_&&(l||j(L)),C(K,U)}if(!_)throw new Error(`discriminator: "${f}" must be required`);return p;function j({required:U}){return Array.isArray(U)&&U.includes(f)}function C(U,L){if(U.const)D(U.const,L);else if(U.enum)for(const K of U.enum)D(K,L);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function D(U,L){if(typeof U!="string"||U in p)throw new Error(`discriminator: "${f}" values must be unique strings`);p[U]=L}}}};return ft.default=h,ft}const os="http://json-schema.org/draft-07/schema#",is="http://json-schema.org/draft-07/schema#",us="Core schema meta-schema",cs={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ls=["object","boolean"],ds={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},fs={$schema:os,$id:is,title:us,definitions:cs,type:ls,properties:ds,default:!0};var Yr;function hs(){return Yr||(Yr=1,function(e,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MissingRefError=a.ValidationError=a.CodeGen=a.Name=a.nil=a.stringify=a.str=a._=a.KeywordCxt=a.Ajv=void 0;const w=Pn(),d=ns(),$=as(),o=fs,h=["/properties"],u="http://json-schema.org/draft-07/schema";class m extends w.default{_addVocabularies(){super._addVocabularies(),d.default.forEach(f=>this.addVocabulary(f)),this.opts.discriminator&&this.addKeyword($.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const f=this.opts.$data?this.$dataMetaSchema(o,h):o;this.addMetaSchema(f,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}a.Ajv=m,e.exports=a=m,e.exports.Ajv=m,Object.defineProperty(a,"__esModule",{value:!0}),a.default=m;var v=_t();Object.defineProperty(a,"KeywordCxt",{enumerable:!0,get:function(){return v.KeywordCxt}});var y=J();Object.defineProperty(a,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(a,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(a,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(a,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(a,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(a,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var E=Tt();Object.defineProperty(a,"ValidationError",{enumerable:!0,get:function(){return E.default}});var N=vt();Object.defineProperty(a,"MissingRefError",{enumerable:!0,get:function(){return N.default}})}(ke,ke.exports)),ke.exports}var ms=hs();const ys=an(ms);export{ys as A,ms as a};
