import{bf as Ht,am as Gt,bg as Nn,bh as Rn,D as an,m as on,U as un,n as vt,V as cn,C as _t,X as ln,Z as dn,_ as fn,Q as On}from"./definitions.NezjAKKV.js";import"./each.DtQj7XuE.js";import{p as hn,m as Re,a as Oe,b as ke,c as mn,g as ee,u as ce,n as pn}from"./render.DFb7sxVl.js";import{s as yn}from"./snippet.BEIUVV7c.js";import{g as kn}from"./_commonjsHelpers.DaWZu8wl.js";function jn(e,t){return e.anyOf?[e.anyOf,t.anyOf]:[e.oneOf,t.oneOf]}function gn(e,t,S,l){const _=l.enum,i=new Set(S("disabledEnumValues"));if(_){const h=S("enumNames");return _.map(($,y)=>{const P=h?.[y]??Ht($);return{id:Gt(e,t.path,y),label:P,value:$,disabled:i.has($)}})}const[f,c]=jn(l,t.uiSchema);return f&&f.map((h,$)=>{if(typeof h=="boolean")throw new Error(`Invalid enum definition in anyOf ${$}`);const y=Nn(h),P=Rn(e,c?.[$])["ui:options"]?.title??h.title??Ht(y);return{id:Gt(e,t.path,$),schema:h,label:P,value:y,disabled:i.has(y)}})}const Tn="enumField";function In(e,t){hn(t,!0);const S=p=>{var w=Re(),s=Oe(w);yn(s,()=>ee(P)??pn,()=>_,()=>t.config,()=>({get current(){return l()},set current(o){l(o)}}),()=>ee(y)),ke(p,w)};let l=an(t,"value",15);const _=on(),i=ce(()=>_t(_,"fieldTemplate",t.config)),f="selectWidget",c=ce(()=>_t(_,f,t.config)),h=un(_,()=>t.config,()=>cn(_,t.config,l())),$=ce(()=>gn(_,t.config,t.uiOption,t.config.schema)??[]),y=ce(()=>ln(_,t.config.path)),P=ce(()=>dn(_,t.config,Tn));var v=Re(),g=Oe(v);{let p=ce(()=>ee(P)&&S);vt(g,()=>ee(i),(w,s)=>{s(w,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return t.uiOption},widgetType:f,get value(){return l()},get config(){return t.config},get errors(){return ee(y)},get action(){return ee(p)},children:(o,r)=>{var a=Re(),m=Oe(a);vt(m,()=>ee(c),(n,d)=>{d(n,{type:"widget",get handlers(){return h},get config(){return t.config},get errors(){return ee(y)},get uiOption(){return t.uiOption},get options(){return ee($)},get value(){return l()},set value(b){l(b)}})}),ke(o,a)},$$slots:{default:!0}})})}ke(e,v),mn()}fn.enumField=In;const qn="multiEnumField";function Cn(e,t){hn(t,!0);const S=p=>{var w=Re(),s=Oe(w);yn(s,()=>ee(P)??pn,()=>_,()=>t.config,()=>({get current(){return l()},set current(o){l(o)}}),()=>ee(y)),ke(p,w)};let l=an(t,"value",15);const _=on(),i=ce(()=>_t(_,"fieldTemplate",t.config)),f="checkboxesWidget",c=ce(()=>_t(_,f,t.config)),h=un(_,()=>t.config,()=>cn(_,t.config,l())),$=ce(()=>{const{items:p}=t.config.schema,w=On(p)?p:{};return gn(_,t.config,t.uiOption,w)??[]}),y=ce(()=>ln(_,t.config.path)),P=ce(()=>dn(_,t.config,qn));var v=Re(),g=Oe(v);{let p=ce(()=>ee(P)&&S);vt(g,()=>ee(i),(w,s)=>{s(w,{type:"template",showTitle:!0,useLabel:!1,get uiOption(){return t.uiOption},widgetType:f,get value(){return l()},get config(){return t.config},get errors(){return ee(y)},get action(){return ee(p)},children:(o,r)=>{var a=Re(),m=Oe(a),n=()=>l()??void 0,d=b=>l(b);vt(m,()=>ee(c),(b,j)=>{j(b,{type:"widget",get handlers(){return h},get config(){return t.config},get errors(){return ee(y)},get value(){return n()},set value(C){d(C)},get options(){return ee($)},get uiOption(){return t.uiOption}})}),ke(o,a)},$$slots:{default:!0}})})}ke(e,v),mn()}fn.multiEnumField=Cn;function An(e,t){return S=>{const l=S?.findIndex(_=>_===void 0||!t(_))??-1;if(l>=0){const _=S[l];throw new TypeError(`Expected array of "${e}" or "undefined", but got (${typeof _}: ${JSON.stringify(_)})`)}}}const Ws=An("string",e=>typeof e=="string");function Bs(e){if(e!==void 0&&!(e instanceof File))throw new Error(`expected "File" or "undefined", but got (${typeof e}: ${JSON.stringify(e)})`)}var Ce={exports:{}},kt={},pe={},we={},jt={},Tt={},It={},Jt;function $t(){return Jt||(Jt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class S extends t{constructor(r){if(super(),!e.IDENTIFIER.test(r))throw new Error("CodeGen: name must be a valid identifier");this.str=r}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=S;class l extends t{constructor(r){super(),this._items=typeof r=="string"?[r]:r}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const r=this._items[0];return r===""||r==='""'}get str(){var r;return(r=this._str)!==null&&r!==void 0?r:this._str=this._items.reduce((a,m)=>`${a}${m}`,"")}get names(){var r;return(r=this._names)!==null&&r!==void 0?r:this._names=this._items.reduce((a,m)=>(m instanceof S&&(a[m.str]=(a[m.str]||0)+1),a),{})}}e._Code=l,e.nil=new l("");function _(o,...r){const a=[o[0]];let m=0;for(;m<r.length;)c(a,r[m]),a.push(o[++m]);return new l(a)}e._=_;const i=new l("+");function f(o,...r){const a=[g(o[0])];let m=0;for(;m<r.length;)a.push(i),c(a,r[m]),a.push(i,g(o[++m]));return h(a),new l(a)}e.str=f;function c(o,r){r instanceof l?o.push(...r._items):r instanceof S?o.push(r):o.push(P(r))}e.addCodeArg=c;function h(o){let r=1;for(;r<o.length-1;){if(o[r]===i){const a=$(o[r-1],o[r+1]);if(a!==void 0){o.splice(r-1,3,a);continue}o[r++]="+"}r++}}function $(o,r){if(r==='""')return o;if(o==='""')return r;if(typeof o=="string")return r instanceof S||o[o.length-1]!=='"'?void 0:typeof r!="string"?`${o.slice(0,-1)}${r}"`:r[0]==='"'?o.slice(0,-1)+r.slice(1):void 0;if(typeof r=="string"&&r[0]==='"'&&!(o instanceof S))return`"${o}${r.slice(1)}`}function y(o,r){return r.emptyStr()?o:o.emptyStr()?r:f`${o}${r}`}e.strConcat=y;function P(o){return typeof o=="number"||typeof o=="boolean"||o===null?o:g(Array.isArray(o)?o.join(","):o)}function v(o){return new l(g(o))}e.stringify=v;function g(o){return JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function p(o){return typeof o=="string"&&e.IDENTIFIER.test(o)?new l(`.${o}`):_`[${o}]`}e.getProperty=p;function w(o){if(typeof o=="string"&&e.IDENTIFIER.test(o))return new l(`${o}`);throw new Error(`CodeGen: invalid export name: ${o}, use explicit $id name mapping`)}e.getEsmExportName=w;function s(o){return new l(o.toString())}e.regexpCode=s})(It)),It}var qt={},Wt;function Bt(){return Wt||(Wt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=$t();class S extends Error{constructor($){super(`CodeGen: "code" for ${$} not defined`),this.value=$.value}}var l;(function(h){h[h.Started=0]="Started",h[h.Completed=1]="Completed"})(l||(e.UsedValueState=l={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class _{constructor({prefixes:$,parent:y}={}){this._names={},this._prefixes=$,this._parent=y}toName($){return $ instanceof t.Name?$:this.name($)}name($){return new t.Name(this._newName($))}_newName($){const y=this._names[$]||this._nameGroup($);return`${$}${y.index++}`}_nameGroup($){var y,P;if(!((P=(y=this._parent)===null||y===void 0?void 0:y._prefixes)===null||P===void 0)&&P.has($)||this._prefixes&&!this._prefixes.has($))throw new Error(`CodeGen: prefix "${$}" is not allowed in this scope`);return this._names[$]={prefix:$,index:0}}}e.Scope=_;class i extends t.Name{constructor($,y){super(y),this.prefix=$}setValue($,{property:y,itemIndex:P}){this.value=$,this.scopePath=(0,t._)`.${new t.Name(y)}[${P}]`}}e.ValueScopeName=i;const f=(0,t._)`\n`;class c extends _{constructor($){super($),this._values={},this._scope=$.scope,this.opts={...$,_n:$.lines?f:t.nil}}get(){return this._scope}name($){return new i($,this._newName($))}value($,y){var P;if(y.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName($),{prefix:g}=v,p=(P=y.key)!==null&&P!==void 0?P:y.ref;let w=this._values[g];if(w){const r=w.get(p);if(r)return r}else w=this._values[g]=new Map;w.set(p,v);const s=this._scope[g]||(this._scope[g]=[]),o=s.length;return s[o]=y.ref,v.setValue(y,{property:g,itemIndex:o}),v}getValue($,y){const P=this._values[$];if(P)return P.get(y)}scopeRefs($,y=this._values){return this._reduceValues(y,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,t._)`${$}${P.scopePath}`})}scopeCode($=this._values,y,P){return this._reduceValues($,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},y,P)}_reduceValues($,y,P={},v){let g=t.nil;for(const p in $){const w=$[p];if(!w)continue;const s=P[p]=P[p]||new Map;w.forEach(o=>{if(s.has(o))return;s.set(o,l.Started);let r=y(o);if(r){const a=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${a} ${o} = ${r};${this.opts._n}`}else if(r=v?.(o))g=(0,t._)`${g}${r}${this.opts._n}`;else throw new S(o);s.set(o,l.Completed)})}return g}}e.ValueScope=c})(qt)),qt}var Qt;function J(){return Qt||(Qt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=$t(),S=Bt();var l=$t();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return l.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return l.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return l.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}});var _=Bt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return _.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return _.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return _.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return _.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(u,E){return this}}class f extends i{constructor(u,E,T){super(),this.varKind=u,this.name=E,this.rhs=T}render({es5:u,_n:E}){const T=u?S.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${U};`+E}optimizeNames(u,E){if(u[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,u,E)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class c extends i{constructor(u,E,T){super(),this.lhs=u,this.rhs=E,this.sideEffects=T}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,E){if(!(this.lhs instanceof t.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,u,E),this}get names(){const u=this.lhs instanceof t.Name?{}:{...this.lhs.names};return K(u,this.rhs)}}class h extends c{constructor(u,E,T,U){super(u,T,U),this.op=E}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class $ extends i{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class y extends i{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class P extends i{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class v extends i{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,E){return this.code=B(this.code,u,E),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends i{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((E,T)=>E+T.render(u),"")}optimizeNodes(){const{nodes:u}=this;let E=u.length;for(;E--;){const T=u[E].optimizeNodes();Array.isArray(T)?u.splice(E,1,...T):T?u[E]=T:u.splice(E,1)}return u.length>0?this:void 0}optimizeNames(u,E){const{nodes:T}=this;let U=T.length;for(;U--;){const z=T[U];z.optimizeNames(u,E)||(x(u,z.names),T.splice(U,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce((u,E)=>L(u,E.names),{})}}class p extends g{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class w extends g{}class s extends p{}s.kind="else";class o extends p{constructor(u,E){super(E),this.condition=u}render(u){let E=`if(${this.condition})`+super.render(u);return this.else&&(E+="else "+this.else.render(u)),E}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let E=this.else;if(E){const T=E.optimizeNodes();E=this.else=Array.isArray(T)?new s(T):T}if(E)return u===!1?E instanceof o?E:E.nodes:this.nodes.length?this:new o(he(u),E instanceof o?[E]:E.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,E){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames(u,E),!!(super.optimizeNames(u,E)||this.else))return this.condition=B(this.condition,u,E),this}get names(){const u=super.names;return K(u,this.condition),this.else&&L(u,this.else.names),u}}o.kind="if";class r extends p{}r.kind="for";class a extends r{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,E){if(super.optimizeNames(u,E))return this.iteration=B(this.iteration,u,E),this}get names(){return L(super.names,this.iteration.names)}}class m extends r{constructor(u,E,T,U){super(),this.varKind=u,this.name=E,this.from=T,this.to=U}render(u){const E=u.es5?S.varKinds.var:this.varKind,{name:T,from:U,to:z}=this;return`for(${E} ${T}=${U}; ${T}<${z}; ${T}++)`+super.render(u)}get names(){const u=K(super.names,this.from);return K(u,this.to)}}class n extends r{constructor(u,E,T,U){super(),this.loop=u,this.varKind=E,this.name=T,this.iterable=U}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,E){if(super.optimizeNames(u,E))return this.iterable=B(this.iterable,u,E),this}get names(){return L(super.names,this.iterable.names)}}class d extends p{constructor(u,E,T){super(),this.name=u,this.args=E,this.async=T}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}d.kind="func";class b extends g{render(u){return"return "+super.render(u)}}b.kind="return";class j extends p{render(u){let E="try"+super.render(u);return this.catch&&(E+=this.catch.render(u)),this.finally&&(E+=this.finally.render(u)),E}optimizeNodes(){var u,E;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(E=this.finally)===null||E===void 0||E.optimizeNodes(),this}optimizeNames(u,E){var T,U;return super.optimizeNames(u,E),(T=this.catch)===null||T===void 0||T.optimizeNames(u,E),(U=this.finally)===null||U===void 0||U.optimizeNames(u,E),this}get names(){const u=super.names;return this.catch&&L(u,this.catch.names),this.finally&&L(u,this.finally.names),u}}class C extends p{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}C.kind="catch";class D extends p{render(u){return"finally"+super.render(u)}}D.kind="finally";class V{constructor(u,E={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...E,_n:E.lines?`
`:""},this._extScope=u,this._scope=new S.Scope({parent:u}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,E){const T=this._extScope.value(u,E);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue(u,E){return this._extScope.getValue(u,E)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,E,T,U){const z=this._scope.toName(E);return T!==void 0&&U&&(this._constants[z.str]=T),this._leafNode(new f(u,z,T)),z}const(u,E,T){return this._def(S.varKinds.const,u,E,T)}let(u,E,T){return this._def(S.varKinds.let,u,E,T)}var(u,E,T){return this._def(S.varKinds.var,u,E,T)}assign(u,E,T){return this._leafNode(new c(u,E,T))}add(u,E){return this._leafNode(new h(u,e.operators.ADD,E))}code(u){return typeof u=="function"?u():u!==t.nil&&this._leafNode(new v(u)),this}object(...u){const E=["{"];for(const[T,U]of u)E.length>1&&E.push(","),E.push(T),(T!==U||this.opts.es5)&&(E.push(":"),(0,t.addCodeArg)(E,U));return E.push("}"),new t._Code(E)}if(u,E,T){if(this._blockNode(new o(u)),E&&T)this.code(E).else().code(T).endIf();else if(E)this.code(E).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new o(u))}else(){return this._elseNode(new s)}endIf(){return this._endBlockNode(o,s)}_for(u,E){return this._blockNode(u),E&&this.code(E).endFor(),this}for(u,E){return this._for(new a(u),E)}forRange(u,E,T,U,z=this.opts.es5?S.varKinds.var:S.varKinds.let){const X=this._scope.toName(u);return this._for(new m(z,X,E,T),()=>U(X))}forOf(u,E,T,U=S.varKinds.const){const z=this._scope.toName(u);if(this.opts.es5){const X=E instanceof t.Name?E:this.var("_arr",E);return this.forRange("_i",0,(0,t._)`${X}.length`,W=>{this.var(z,(0,t._)`${X}[${W}]`),T(z)})}return this._for(new n("of",U,z,E),()=>T(z))}forIn(u,E,T,U=this.opts.es5?S.varKinds.var:S.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,t._)`Object.keys(${E})`,T);const z=this._scope.toName(u);return this._for(new n("in",U,z,E),()=>T(z))}endFor(){return this._endBlockNode(r)}label(u){return this._leafNode(new $(u))}break(u){return this._leafNode(new y(u))}return(u){const E=new b;if(this._blockNode(E),this.code(u),E.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(u,E,T){if(!E&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new j;if(this._blockNode(U),this.code(u),E){const z=this.name("e");this._currNode=U.catch=new C(z),E(z)}return T&&(this._currNode=U.finally=new D,this.code(T)),this._endBlockNode(C,D)}throw(u){return this._leafNode(new P(u))}block(u,E){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(E),this}endBlock(u){const E=this._blockStarts.pop();if(E===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-E;if(T<0||u!==void 0&&T!==u)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${u} expected`);return this._nodes.length=E,this}func(u,E=t.nil,T,U){return this._blockNode(new d(u,E,T)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(d)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,E){const T=this._currNode;if(T instanceof u||E&&T instanceof E)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${E?`${u.kind}/${E.kind}`:u.kind}"`)}_elseNode(u){const E=this._currNode;if(!(E instanceof o))throw new Error('CodeGen: "else" without "if"');return this._currNode=E.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const E=this._nodes;E[E.length-1]=u}}e.CodeGen=V;function L(k,u){for(const E in u)k[E]=(k[E]||0)+(u[E]||0);return k}function K(k,u){return u instanceof t._CodeOrName?L(k,u.names):k}function B(k,u,E){if(k instanceof t.Name)return T(k);if(!U(k))return k;return new t._Code(k._items.reduce((z,X)=>(X instanceof t.Name&&(X=T(X)),X instanceof t._Code?z.push(...X._items):z.push(X),z),[]));function T(z){const X=E[z.str];return X===void 0||u[z.str]!==1?z:(delete u[z.str],X)}function U(z){return z instanceof t._Code&&z._items.some(X=>X instanceof t.Name&&u[X.str]===1&&E[X.str]!==void 0)}}function x(k,u){for(const E in u)k[E]=(k[E]||0)-(u[E]||0)}function he(k){return typeof k=="boolean"||typeof k=="number"||k===null?!k:(0,t._)`!${q(k)}`}e.not=he;const me=R(e.operators.AND);function Z(...k){return k.reduce(me)}e.and=Z;const ve=R(e.operators.OR);function A(...k){return k.reduce(ve)}e.or=A;function R(k){return(u,E)=>u===t.nil?E:E===t.nil?u:(0,t._)`${q(u)} ${k} ${q(E)}`}function q(k){return k instanceof t.Name?k:(0,t._)`(${k})`}})(Tt)),Tt}var H={},Xt;function Q(){if(Xt)return H;Xt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=J(),t=$t();function S(n){const d={};for(const b of n)d[b]=!0;return d}H.toHash=S;function l(n,d){return typeof d=="boolean"?d:Object.keys(d).length===0?!0:(_(n,d),!i(d,n.self.RULES.all))}H.alwaysValidSchema=l;function _(n,d=n.schema){const{opts:b,self:j}=n;if(!b.strictSchema||typeof d=="boolean")return;const C=j.RULES.keywords;for(const D in d)C[D]||m(n,`unknown keyword: "${D}"`)}H.checkUnknownRules=_;function i(n,d){if(typeof n=="boolean")return!n;for(const b in n)if(d[b])return!0;return!1}H.schemaHasRules=i;function f(n,d){if(typeof n=="boolean")return!n;for(const b in n)if(b!=="$ref"&&d.all[b])return!0;return!1}H.schemaHasRulesButRef=f;function c({topSchemaRef:n,schemaPath:d},b,j,C){if(!C){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,e._)`${b}`}return(0,e._)`${n}${d}${(0,e.getProperty)(j)}`}H.schemaRefOrVal=c;function h(n){return P(decodeURIComponent(n))}H.unescapeFragment=h;function $(n){return encodeURIComponent(y(n))}H.escapeFragment=$;function y(n){return typeof n=="number"?`${n}`:n.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=y;function P(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=P;function v(n,d){if(Array.isArray(n))for(const b of n)d(b);else d(n)}H.eachItem=v;function g({mergeNames:n,mergeToName:d,mergeValues:b,resultToName:j}){return(C,D,V,L)=>{const K=V===void 0?D:V instanceof e.Name?(D instanceof e.Name?n(C,D,V):d(C,D,V),V):D instanceof e.Name?(d(C,V,D),D):b(D,V);return L===e.Name&&!(K instanceof e.Name)?j(C,K):K}}H.mergeEvaluated={props:g({mergeNames:(n,d,b)=>n.if((0,e._)`${b} !== true && ${d} !== undefined`,()=>{n.if((0,e._)`${d} === true`,()=>n.assign(b,!0),()=>n.assign(b,(0,e._)`${b} || {}`).code((0,e._)`Object.assign(${b}, ${d})`))}),mergeToName:(n,d,b)=>n.if((0,e._)`${b} !== true`,()=>{d===!0?n.assign(b,!0):(n.assign(b,(0,e._)`${b} || {}`),w(n,b,d))}),mergeValues:(n,d)=>n===!0?!0:{...n,...d},resultToName:p}),items:g({mergeNames:(n,d,b)=>n.if((0,e._)`${b} !== true && ${d} !== undefined`,()=>n.assign(b,(0,e._)`${d} === true ? true : ${b} > ${d} ? ${b} : ${d}`)),mergeToName:(n,d,b)=>n.if((0,e._)`${b} !== true`,()=>n.assign(b,d===!0?!0:(0,e._)`${b} > ${d} ? ${b} : ${d}`)),mergeValues:(n,d)=>n===!0?!0:Math.max(n,d),resultToName:(n,d)=>n.var("items",d)})};function p(n,d){if(d===!0)return n.var("props",!0);const b=n.var("props",(0,e._)`{}`);return d!==void 0&&w(n,b,d),b}H.evaluatedPropsToName=p;function w(n,d,b){Object.keys(b).forEach(j=>n.assign((0,e._)`${d}${(0,e.getProperty)(j)}`,!0))}H.setEvaluated=w;const s={};function o(n,d){return n.scopeValue("func",{ref:d,code:s[d.code]||(s[d.code]=new t._Code(d.code))})}H.useFunc=o;var r;(function(n){n[n.Num=0]="Num",n[n.Str=1]="Str"})(r||(H.Type=r={}));function a(n,d,b){if(n instanceof e.Name){const j=d===r.Num;return b?j?(0,e._)`"[" + ${n} + "]"`:(0,e._)`"['" + ${n} + "']"`:j?(0,e._)`"/" + ${n}`:(0,e._)`"/" + ${n}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,e.getProperty)(n).toString():"/"+y(n)}H.getErrorPath=a;function m(n,d,b=n.opts.strictSchema){if(b){if(d=`strict mode: ${d}`,b===!0)throw new Error(d);n.self.logger.warn(d)}}return H.checkStrictMode=m,H}var Ae={},Yt;function $e(){if(Yt)return Ae;Yt=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=J(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Ae.default=t,Ae}var Zt;function bt(){return Zt||(Zt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=J(),S=Q(),l=$e();e.keywordError={message:({keyword:s})=>(0,t.str)`must pass "${s}" keyword validation`},e.keyword$DataError={message:({keyword:s,schemaType:o})=>o?(0,t.str)`"${s}" keyword must be ${o} ($data)`:(0,t.str)`"${s}" keyword is invalid ($data)`};function _(s,o=e.keywordError,r,a){const{it:m}=s,{gen:n,compositeRule:d,allErrors:b}=m,j=P(s,o,r);a??(d||b)?h(n,j):$(m,(0,t._)`[${j}]`)}e.reportError=_;function i(s,o=e.keywordError,r){const{it:a}=s,{gen:m,compositeRule:n,allErrors:d}=a,b=P(s,o,r);h(m,b),n||d||$(a,l.default.vErrors)}e.reportExtraError=i;function f(s,o){s.assign(l.default.errors,o),s.if((0,t._)`${l.default.vErrors} !== null`,()=>s.if(o,()=>s.assign((0,t._)`${l.default.vErrors}.length`,o),()=>s.assign(l.default.vErrors,null)))}e.resetErrorsCount=f;function c({gen:s,keyword:o,schemaValue:r,data:a,errsCount:m,it:n}){if(m===void 0)throw new Error("ajv implementation error");const d=s.name("err");s.forRange("i",m,l.default.errors,b=>{s.const(d,(0,t._)`${l.default.vErrors}[${b}]`),s.if((0,t._)`${d}.instancePath === undefined`,()=>s.assign((0,t._)`${d}.instancePath`,(0,t.strConcat)(l.default.instancePath,n.errorPath))),s.assign((0,t._)`${d}.schemaPath`,(0,t.str)`${n.errSchemaPath}/${o}`),n.opts.verbose&&(s.assign((0,t._)`${d}.schema`,r),s.assign((0,t._)`${d}.data`,a))})}e.extendErrors=c;function h(s,o){const r=s.const("err",o);s.if((0,t._)`${l.default.vErrors} === null`,()=>s.assign(l.default.vErrors,(0,t._)`[${r}]`),(0,t._)`${l.default.vErrors}.push(${r})`),s.code((0,t._)`${l.default.errors}++`)}function $(s,o){const{gen:r,validateName:a,schemaEnv:m}=s;m.$async?r.throw((0,t._)`new ${s.ValidationError}(${o})`):(r.assign((0,t._)`${a}.errors`,o),r.return(!1))}const y={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function P(s,o,r){const{createErrors:a}=s.it;return a===!1?(0,t._)`{}`:v(s,o,r)}function v(s,o,r={}){const{gen:a,it:m}=s,n=[g(m,r),p(s,r)];return w(s,o,n),a.object(...n)}function g({errorPath:s},{instancePath:o}){const r=o?(0,t.str)`${s}${(0,S.getErrorPath)(o,S.Type.Str)}`:s;return[l.default.instancePath,(0,t.strConcat)(l.default.instancePath,r)]}function p({keyword:s,it:{errSchemaPath:o}},{schemaPath:r,parentSchema:a}){let m=a?o:(0,t.str)`${o}/${s}`;return r&&(m=(0,t.str)`${m}${(0,S.getErrorPath)(r,S.Type.Str)}`),[y.schemaPath,m]}function w(s,{params:o,message:r},a){const{keyword:m,data:n,schemaValue:d,it:b}=s,{opts:j,propertyName:C,topSchemaRef:D,schemaPath:V}=b;a.push([y.keyword,m],[y.params,typeof o=="function"?o(s):o||(0,t._)`{}`]),j.messages&&a.push([y.message,typeof r=="function"?r(s):r]),j.verbose&&a.push([y.schema,d],[y.parentSchema,(0,t._)`${D}${V}`],[l.default.data,n]),C&&a.push([y.propertyName,C])}})(jt)),jt}var xt;function Mn(){if(xt)return we;xt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.boolOrEmptySchema=we.topBoolOrEmptySchema=void 0;const e=bt(),t=J(),S=$e(),l={message:"boolean schema is false"};function _(c){const{gen:h,schema:$,validateName:y}=c;$===!1?f(c,!1):typeof $=="object"&&$.$async===!0?h.return(S.default.data):(h.assign((0,t._)`${y}.errors`,null),h.return(!0))}we.topBoolOrEmptySchema=_;function i(c,h){const{gen:$,schema:y}=c;y===!1?($.var(h,!1),f(c)):$.var(h,!0)}we.boolOrEmptySchema=i;function f(c,h){const{gen:$,data:y}=c,P={gen:$,keyword:"false schema",data:y,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(P,l,void 0,h)}return we}var ne={},be={},er;function vn(){if(er)return be;er=1,Object.defineProperty(be,"__esModule",{value:!0}),be.getRules=be.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function S(_){return typeof _=="string"&&t.has(_)}be.isJSONType=S;function l(){const _={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{..._,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},_.number,_.string,_.array,_.object],post:{rules:[]},all:{},keywords:{}}}return be.getRules=l,be}var ye={},tr;function _n(){if(tr)return ye;tr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.shouldUseRule=ye.shouldUseGroup=ye.schemaHasRulesForType=void 0;function e({schema:l,self:_},i){const f=_.RULES.types[i];return f&&f!==!0&&t(l,f)}ye.schemaHasRulesForType=e;function t(l,_){return _.rules.some(i=>S(l,i))}ye.shouldUseGroup=t;function S(l,_){var i;return l[_.keyword]!==void 0||((i=_.definition.implements)===null||i===void 0?void 0:i.some(f=>l[f]!==void 0))}return ye.shouldUseRule=S,ye}var rr;function wt(){if(rr)return ne;rr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.reportTypeError=ne.checkDataTypes=ne.checkDataType=ne.coerceAndCheckDataType=ne.getJSONTypes=ne.getSchemaTypes=ne.DataType=void 0;const e=vn(),t=_n(),S=bt(),l=J(),_=Q();var i;(function(r){r[r.Correct=0]="Correct",r[r.Wrong=1]="Wrong"})(i||(ne.DataType=i={}));function f(r){const a=c(r.type);if(a.includes("null")){if(r.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!a.length&&r.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');r.nullable===!0&&a.push("null")}return a}ne.getSchemaTypes=f;function c(r){const a=Array.isArray(r)?r:r?[r]:[];if(a.every(e.isJSONType))return a;throw new Error("type must be JSONType or JSONType[]: "+a.join(","))}ne.getJSONTypes=c;function h(r,a){const{gen:m,data:n,opts:d}=r,b=y(a,d.coerceTypes),j=a.length>0&&!(b.length===0&&a.length===1&&(0,t.schemaHasRulesForType)(r,a[0]));if(j){const C=p(a,n,d.strictNumbers,i.Wrong);m.if(C,()=>{b.length?P(r,a,b):s(r)})}return j}ne.coerceAndCheckDataType=h;const $=new Set(["string","number","integer","boolean","null"]);function y(r,a){return a?r.filter(m=>$.has(m)||a==="array"&&m==="array"):[]}function P(r,a,m){const{gen:n,data:d,opts:b}=r,j=n.let("dataType",(0,l._)`typeof ${d}`),C=n.let("coerced",(0,l._)`undefined`);b.coerceTypes==="array"&&n.if((0,l._)`${j} == 'object' && Array.isArray(${d}) && ${d}.length == 1`,()=>n.assign(d,(0,l._)`${d}[0]`).assign(j,(0,l._)`typeof ${d}`).if(p(a,d,b.strictNumbers),()=>n.assign(C,d))),n.if((0,l._)`${C} !== undefined`);for(const V of m)($.has(V)||V==="array"&&b.coerceTypes==="array")&&D(V);n.else(),s(r),n.endIf(),n.if((0,l._)`${C} !== undefined`,()=>{n.assign(d,C),v(r,C)});function D(V){switch(V){case"string":n.elseIf((0,l._)`${j} == "number" || ${j} == "boolean"`).assign(C,(0,l._)`"" + ${d}`).elseIf((0,l._)`${d} === null`).assign(C,(0,l._)`""`);return;case"number":n.elseIf((0,l._)`${j} == "boolean" || ${d} === null
              || (${j} == "string" && ${d} && ${d} == +${d})`).assign(C,(0,l._)`+${d}`);return;case"integer":n.elseIf((0,l._)`${j} === "boolean" || ${d} === null
              || (${j} === "string" && ${d} && ${d} == +${d} && !(${d} % 1))`).assign(C,(0,l._)`+${d}`);return;case"boolean":n.elseIf((0,l._)`${d} === "false" || ${d} === 0 || ${d} === null`).assign(C,!1).elseIf((0,l._)`${d} === "true" || ${d} === 1`).assign(C,!0);return;case"null":n.elseIf((0,l._)`${d} === "" || ${d} === 0 || ${d} === false`),n.assign(C,null);return;case"array":n.elseIf((0,l._)`${j} === "string" || ${j} === "number"
              || ${j} === "boolean" || ${d} === null`).assign(C,(0,l._)`[${d}]`)}}}function v({gen:r,parentData:a,parentDataProperty:m},n){r.if((0,l._)`${a} !== undefined`,()=>r.assign((0,l._)`${a}[${m}]`,n))}function g(r,a,m,n=i.Correct){const d=n===i.Correct?l.operators.EQ:l.operators.NEQ;let b;switch(r){case"null":return(0,l._)`${a} ${d} null`;case"array":b=(0,l._)`Array.isArray(${a})`;break;case"object":b=(0,l._)`${a} && typeof ${a} == "object" && !Array.isArray(${a})`;break;case"integer":b=j((0,l._)`!(${a} % 1) && !isNaN(${a})`);break;case"number":b=j();break;default:return(0,l._)`typeof ${a} ${d} ${r}`}return n===i.Correct?b:(0,l.not)(b);function j(C=l.nil){return(0,l.and)((0,l._)`typeof ${a} == "number"`,C,m?(0,l._)`isFinite(${a})`:l.nil)}}ne.checkDataType=g;function p(r,a,m,n){if(r.length===1)return g(r[0],a,m,n);let d;const b=(0,_.toHash)(r);if(b.array&&b.object){const j=(0,l._)`typeof ${a} != "object"`;d=b.null?j:(0,l._)`!${a} || ${j}`,delete b.null,delete b.array,delete b.object}else d=l.nil;b.number&&delete b.integer;for(const j in b)d=(0,l.and)(d,g(j,a,m,n));return d}ne.checkDataTypes=p;const w={message:({schema:r})=>`must be ${r}`,params:({schema:r,schemaValue:a})=>typeof r=="string"?(0,l._)`{type: ${r}}`:(0,l._)`{type: ${a}}`};function s(r){const a=o(r);(0,S.reportError)(a,w)}ne.reportTypeError=s;function o(r){const{gen:a,data:m,schema:n}=r,d=(0,_.schemaRefOrVal)(r,n,"type");return{gen:a,keyword:"type",data:m,schema:n.type,schemaCode:d,schemaValue:d,parentSchema:n,params:{},it:r}}return ne}var Te={},nr;function Dn(){if(nr)return Te;nr=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.assignDefaults=void 0;const e=J(),t=Q();function S(_,i){const{properties:f,items:c}=_.schema;if(i==="object"&&f)for(const h in f)l(_,h,f[h].default);else i==="array"&&Array.isArray(c)&&c.forEach((h,$)=>l(_,$,h.default))}Te.assignDefaults=S;function l(_,i,f){const{gen:c,compositeRule:h,data:$,opts:y}=_;if(f===void 0)return;const P=(0,e._)`${$}${(0,e.getProperty)(i)}`;if(h){(0,t.checkStrictMode)(_,`default is ignored for: ${P}`);return}let v=(0,e._)`${P} === undefined`;y.useDefaults==="empty"&&(v=(0,e._)`${v} || ${P} === null || ${P} === ""`),c.if(v,(0,e._)`${P} = ${(0,e.stringify)(f)}`)}return Te}var de={},Y={},sr;function fe(){if(sr)return Y;sr=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=J(),t=Q(),S=$e(),l=Q();function _(r,a){const{gen:m,data:n,it:d}=r;m.if(y(m,n,a,d.opts.ownProperties),()=>{r.setParams({missingProperty:(0,e._)`${a}`},!0),r.error()})}Y.checkReportMissingProp=_;function i({gen:r,data:a,it:{opts:m}},n,d){return(0,e.or)(...n.map(b=>(0,e.and)(y(r,a,b,m.ownProperties),(0,e._)`${d} = ${b}`)))}Y.checkMissingProp=i;function f(r,a){r.setParams({missingProperty:a},!0),r.error()}Y.reportMissingProp=f;function c(r){return r.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=c;function h(r,a,m){return(0,e._)`${c(r)}.call(${a}, ${m})`}Y.isOwnProperty=h;function $(r,a,m,n){const d=(0,e._)`${a}${(0,e.getProperty)(m)} !== undefined`;return n?(0,e._)`${d} && ${h(r,a,m)}`:d}Y.propertyInData=$;function y(r,a,m,n){const d=(0,e._)`${a}${(0,e.getProperty)(m)} === undefined`;return n?(0,e.or)(d,(0,e.not)(h(r,a,m))):d}Y.noPropertyInData=y;function P(r){return r?Object.keys(r).filter(a=>a!=="__proto__"):[]}Y.allSchemaProperties=P;function v(r,a){return P(a).filter(m=>!(0,t.alwaysValidSchema)(r,a[m]))}Y.schemaProperties=v;function g({schemaCode:r,data:a,it:{gen:m,topSchemaRef:n,schemaPath:d,errorPath:b},it:j},C,D,V){const L=V?(0,e._)`${r}, ${a}, ${n}${d}`:a,K=[[S.default.instancePath,(0,e.strConcat)(S.default.instancePath,b)],[S.default.parentData,j.parentData],[S.default.parentDataProperty,j.parentDataProperty],[S.default.rootData,S.default.rootData]];j.opts.dynamicRef&&K.push([S.default.dynamicAnchors,S.default.dynamicAnchors]);const B=(0,e._)`${L}, ${m.object(...K)}`;return D!==e.nil?(0,e._)`${C}.call(${D}, ${B})`:(0,e._)`${C}(${B})`}Y.callValidateCode=g;const p=(0,e._)`new RegExp`;function w({gen:r,it:{opts:a}},m){const n=a.unicodeRegExp?"u":"",{regExp:d}=a.code,b=d(m,n);return r.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,e._)`${d.code==="new RegExp"?p:(0,l.useFunc)(r,d)}(${m}, ${n})`})}Y.usePattern=w;function s(r){const{gen:a,data:m,keyword:n,it:d}=r,b=a.name("valid");if(d.allErrors){const C=a.let("valid",!0);return j(()=>a.assign(C,!1)),C}return a.var(b,!0),j(()=>a.break()),b;function j(C){const D=a.const("len",(0,e._)`${m}.length`);a.forRange("i",0,D,V=>{r.subschema({keyword:n,dataProp:V,dataPropType:t.Type.Num},b),a.if((0,e.not)(b),C)})}}Y.validateArray=s;function o(r){const{gen:a,schema:m,keyword:n,it:d}=r;if(!Array.isArray(m))throw new Error("ajv implementation error");if(m.some(D=>(0,t.alwaysValidSchema)(d,D))&&!d.opts.unevaluated)return;const j=a.let("valid",!1),C=a.name("_valid");a.block(()=>m.forEach((D,V)=>{const L=r.subschema({keyword:n,schemaProp:V,compositeRule:!0},C);a.assign(j,(0,e._)`${j} || ${C}`),r.mergeValidEvaluated(L,C)||a.if((0,e.not)(j))})),r.result(j,()=>r.reset(),()=>r.error(!0))}return Y.validateUnion=o,Y}var ar;function Vn(){if(ar)return de;ar=1,Object.defineProperty(de,"__esModule",{value:!0}),de.validateKeywordUsage=de.validSchemaType=de.funcKeywordCode=de.macroKeywordCode=void 0;const e=J(),t=$e(),S=fe(),l=bt();function _(v,g){const{gen:p,keyword:w,schema:s,parentSchema:o,it:r}=v,a=g.macro.call(r.self,s,o,r),m=$(p,w,a);r.opts.validateSchema!==!1&&r.self.validateSchema(a,!0);const n=p.name("valid");v.subschema({schema:a,schemaPath:e.nil,errSchemaPath:`${r.errSchemaPath}/${w}`,topSchemaRef:m,compositeRule:!0},n),v.pass(n,()=>v.error(!0))}de.macroKeywordCode=_;function i(v,g){var p;const{gen:w,keyword:s,schema:o,parentSchema:r,$data:a,it:m}=v;h(m,g);const n=!a&&g.compile?g.compile.call(m.self,o,r,m):g.validate,d=$(w,s,n),b=w.let("valid");v.block$data(b,j),v.ok((p=g.valid)!==null&&p!==void 0?p:b);function j(){if(g.errors===!1)V(),g.modifying&&f(v),L(()=>v.error());else{const K=g.async?C():D();g.modifying&&f(v),L(()=>c(v,K))}}function C(){const K=w.let("ruleErrs",null);return w.try(()=>V((0,e._)`await `),B=>w.assign(b,!1).if((0,e._)`${B} instanceof ${m.ValidationError}`,()=>w.assign(K,(0,e._)`${B}.errors`),()=>w.throw(B))),K}function D(){const K=(0,e._)`${d}.errors`;return w.assign(K,null),V(e.nil),K}function V(K=g.async?(0,e._)`await `:e.nil){const B=m.opts.passContext?t.default.this:t.default.self,x=!("compile"in g&&!a||g.schema===!1);w.assign(b,(0,e._)`${K}${(0,S.callValidateCode)(v,d,B,x)}`,g.modifying)}function L(K){var B;w.if((0,e.not)((B=g.valid)!==null&&B!==void 0?B:b),K)}}de.funcKeywordCode=i;function f(v){const{gen:g,data:p,it:w}=v;g.if(w.parentData,()=>g.assign(p,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function c(v,g){const{gen:p}=v;p.if((0,e._)`Array.isArray(${g})`,()=>{p.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${g} : ${t.default.vErrors}.concat(${g})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,l.extendErrors)(v)},()=>v.error())}function h({schemaEnv:v},g){if(g.async&&!v.$async)throw new Error("async keyword in sync schema")}function $(v,g,p){if(p===void 0)throw new Error(`keyword "${g}" failed to compile`);return v.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function y(v,g,p=!1){return!g.length||g.some(w=>w==="array"?Array.isArray(v):w==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==w||p&&typeof v>"u")}de.validSchemaType=y;function P({schema:v,opts:g,self:p,errSchemaPath:w},s,o){if(Array.isArray(s.keyword)?!s.keyword.includes(o):s.keyword!==o)throw new Error("ajv implementation error");const r=s.dependencies;if(r?.some(a=>!Object.prototype.hasOwnProperty.call(v,a)))throw new Error(`parent schema must have dependencies of ${o}: ${r.join(",")}`);if(s.validateSchema&&!s.validateSchema(v[o])){const m=`keyword "${o}" value is invalid at path "${w}": `+p.errorsText(s.validateSchema.errors);if(g.validateSchema==="log")p.logger.error(m);else throw new Error(m)}}return de.validateKeywordUsage=P,de}var ge={},ir;function Un(){if(ir)return ge;ir=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.extendSubschemaMode=ge.extendSubschemaData=ge.getSubschema=void 0;const e=J(),t=Q();function S(i,{keyword:f,schemaProp:c,schema:h,schemaPath:$,errSchemaPath:y,topSchemaRef:P}){if(f!==void 0&&h!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(f!==void 0){const v=i.schema[f];return c===void 0?{schema:v,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(f)}`,errSchemaPath:`${i.errSchemaPath}/${f}`}:{schema:v[c],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(f)}${(0,e.getProperty)(c)}`,errSchemaPath:`${i.errSchemaPath}/${f}/${(0,t.escapeFragment)(c)}`}}if(h!==void 0){if($===void 0||y===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:h,schemaPath:$,topSchemaRef:P,errSchemaPath:y}}throw new Error('either "keyword" or "schema" must be passed')}ge.getSubschema=S;function l(i,f,{dataProp:c,dataPropType:h,data:$,dataTypes:y,propertyName:P}){if($!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=f;if(c!==void 0){const{errorPath:p,dataPathArr:w,opts:s}=f,o=v.let("data",(0,e._)`${f.data}${(0,e.getProperty)(c)}`,!0);g(o),i.errorPath=(0,e.str)`${p}${(0,t.getErrorPath)(c,h,s.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${c}`,i.dataPathArr=[...w,i.parentDataProperty]}if($!==void 0){const p=$ instanceof e.Name?$:v.let("data",$,!0);g(p),P!==void 0&&(i.propertyName=P)}y&&(i.dataTypes=y);function g(p){i.data=p,i.dataLevel=f.dataLevel+1,i.dataTypes=[],f.definedProperties=new Set,i.parentData=f.data,i.dataNames=[...f.dataNames,p]}}ge.extendSubschemaData=l;function _(i,{jtdDiscriminator:f,jtdMetadata:c,compositeRule:h,createErrors:$,allErrors:y}){h!==void 0&&(i.compositeRule=h),$!==void 0&&(i.createErrors=$),y!==void 0&&(i.allErrors=y),i.jtdDiscriminator=f,i.jtdMetadata=c}return ge.extendSubschemaMode=_,ge}var se={},Ct,or;function $n(){return or||(or=1,Ct=function e(t,S){if(t===S)return!0;if(t&&S&&typeof t=="object"&&typeof S=="object"){if(t.constructor!==S.constructor)return!1;var l,_,i;if(Array.isArray(t)){if(l=t.length,l!=S.length)return!1;for(_=l;_--!==0;)if(!e(t[_],S[_]))return!1;return!0}if(t.constructor===RegExp)return t.source===S.source&&t.flags===S.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===S.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===S.toString();if(i=Object.keys(t),l=i.length,l!==Object.keys(S).length)return!1;for(_=l;_--!==0;)if(!Object.prototype.hasOwnProperty.call(S,i[_]))return!1;for(_=l;_--!==0;){var f=i[_];if(!e(t[f],S[f]))return!1}return!0}return t!==t&&S!==S}),Ct}var At={exports:{}},ur;function Fn(){if(ur)return At.exports;ur=1;var e=At.exports=function(l,_,i){typeof _=="function"&&(i=_,_={}),i=_.cb||i;var f=typeof i=="function"?i:i.pre||function(){},c=i.post||function(){};t(_,f,c,l,"",l)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(l,_,i,f,c,h,$,y,P,v){if(f&&typeof f=="object"&&!Array.isArray(f)){_(f,c,h,$,y,P,v);for(var g in f){var p=f[g];if(Array.isArray(p)){if(g in e.arrayKeywords)for(var w=0;w<p.length;w++)t(l,_,i,p[w],c+"/"+g+"/"+w,h,c,g,f,w)}else if(g in e.propsKeywords){if(p&&typeof p=="object")for(var s in p)t(l,_,i,p[s],c+"/"+g+"/"+S(s),h,c,g,f,s)}else(g in e.keywords||l.allKeys&&!(g in e.skipKeywords))&&t(l,_,i,p,c+"/"+g,h,c,g,f)}i(f,c,h,$,y,P,v)}}function S(l){return l.replace(/~/g,"~0").replace(/\//g,"~1")}return At.exports}var cr;function Et(){if(cr)return se;cr=1,Object.defineProperty(se,"__esModule",{value:!0}),se.getSchemaRefs=se.resolveUrl=se.normalizeId=se._getFullPath=se.getFullPath=se.inlineRef=void 0;const e=Q(),t=$n(),S=Fn(),l=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function _(w,s=!0){return typeof w=="boolean"?!0:s===!0?!f(w):s?c(w)<=s:!1}se.inlineRef=_;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f(w){for(const s in w){if(i.has(s))return!0;const o=w[s];if(Array.isArray(o)&&o.some(f)||typeof o=="object"&&f(o))return!0}return!1}function c(w){let s=0;for(const o in w){if(o==="$ref")return 1/0;if(s++,!l.has(o)&&(typeof w[o]=="object"&&(0,e.eachItem)(w[o],r=>s+=c(r)),s===1/0))return 1/0}return s}function h(w,s="",o){o!==!1&&(s=P(s));const r=w.parse(s);return $(w,r)}se.getFullPath=h;function $(w,s){return w.serialize(s).split("#")[0]+"#"}se._getFullPath=$;const y=/#\/?$/;function P(w){return w?w.replace(y,""):""}se.normalizeId=P;function v(w,s,o){return o=P(o),w.resolve(s,o)}se.resolveUrl=v;const g=/^[a-z_][-a-z0-9._]*$/i;function p(w,s){if(typeof w=="boolean")return{};const{schemaId:o,uriResolver:r}=this.opts,a=P(w[o]||s),m={"":a},n=h(r,a,!1),d={},b=new Set;return S(w,{allKeys:!0},(D,V,L,K)=>{if(K===void 0)return;const B=n+V;let x=m[K];typeof D[o]=="string"&&(x=he.call(this,D[o])),me.call(this,D.$anchor),me.call(this,D.$dynamicAnchor),m[V]=x;function he(Z){const ve=this.opts.uriResolver.resolve;if(Z=P(x?ve(x,Z):Z),b.has(Z))throw C(Z);b.add(Z);let A=this.refs[Z];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?j(D,A.schema,Z):Z!==P(B)&&(Z[0]==="#"?(j(D,d[Z],Z),d[Z]=D):this.refs[Z]=B),Z}function me(Z){if(typeof Z=="string"){if(!g.test(Z))throw new Error(`invalid anchor "${Z}"`);he.call(this,`#${Z}`)}}}),d;function j(D,V,L){if(V!==void 0&&!t(D,V))throw C(L)}function C(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return se.getSchemaRefs=p,se}var lr;function St(){if(lr)return pe;lr=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.getData=pe.KeywordCxt=pe.validateFunctionCode=void 0;const e=Mn(),t=wt(),S=_n(),l=wt(),_=Dn(),i=Vn(),f=Un(),c=J(),h=$e(),$=Et(),y=Q(),P=bt();function v(N){if(n(N)&&(b(N),m(N))){s(N);return}g(N,()=>(0,e.topBoolOrEmptySchema)(N))}pe.validateFunctionCode=v;function g({gen:N,validateName:O,schema:I,schemaEnv:M,opts:F},G){F.code.es5?N.func(O,(0,c._)`${h.default.data}, ${h.default.valCxt}`,M.$async,()=>{N.code((0,c._)`"use strict"; ${r(I,F)}`),w(N,F),N.code(G)}):N.func(O,(0,c._)`${h.default.data}, ${p(F)}`,M.$async,()=>N.code(r(I,F)).code(G))}function p(N){return(0,c._)`{${h.default.instancePath}="", ${h.default.parentData}, ${h.default.parentDataProperty}, ${h.default.rootData}=${h.default.data}${N.dynamicRef?(0,c._)`, ${h.default.dynamicAnchors}={}`:c.nil}}={}`}function w(N,O){N.if(h.default.valCxt,()=>{N.var(h.default.instancePath,(0,c._)`${h.default.valCxt}.${h.default.instancePath}`),N.var(h.default.parentData,(0,c._)`${h.default.valCxt}.${h.default.parentData}`),N.var(h.default.parentDataProperty,(0,c._)`${h.default.valCxt}.${h.default.parentDataProperty}`),N.var(h.default.rootData,(0,c._)`${h.default.valCxt}.${h.default.rootData}`),O.dynamicRef&&N.var(h.default.dynamicAnchors,(0,c._)`${h.default.valCxt}.${h.default.dynamicAnchors}`)},()=>{N.var(h.default.instancePath,(0,c._)`""`),N.var(h.default.parentData,(0,c._)`undefined`),N.var(h.default.parentDataProperty,(0,c._)`undefined`),N.var(h.default.rootData,h.default.data),O.dynamicRef&&N.var(h.default.dynamicAnchors,(0,c._)`{}`)})}function s(N){const{schema:O,opts:I,gen:M}=N;g(N,()=>{I.$comment&&O.$comment&&K(N),D(N),M.let(h.default.vErrors,null),M.let(h.default.errors,0),I.unevaluated&&o(N),j(N),B(N)})}function o(N){const{gen:O,validateName:I}=N;N.evaluated=O.const("evaluated",(0,c._)`${I}.evaluated`),O.if((0,c._)`${N.evaluated}.dynamicProps`,()=>O.assign((0,c._)`${N.evaluated}.props`,(0,c._)`undefined`)),O.if((0,c._)`${N.evaluated}.dynamicItems`,()=>O.assign((0,c._)`${N.evaluated}.items`,(0,c._)`undefined`))}function r(N,O){const I=typeof N=="object"&&N[O.schemaId];return I&&(O.code.source||O.code.process)?(0,c._)`/*# sourceURL=${I} */`:c.nil}function a(N,O){if(n(N)&&(b(N),m(N))){d(N,O);return}(0,e.boolOrEmptySchema)(N,O)}function m({schema:N,self:O}){if(typeof N=="boolean")return!N;for(const I in N)if(O.RULES.all[I])return!0;return!1}function n(N){return typeof N.schema!="boolean"}function d(N,O){const{schema:I,gen:M,opts:F}=N;F.$comment&&I.$comment&&K(N),V(N),L(N);const G=M.const("_errs",h.default.errors);j(N,G),M.var(O,(0,c._)`${G} === ${h.default.errors}`)}function b(N){(0,y.checkUnknownRules)(N),C(N)}function j(N,O){if(N.opts.jtd)return he(N,[],!1,O);const I=(0,t.getSchemaTypes)(N.schema),M=(0,t.coerceAndCheckDataType)(N,I);he(N,I,!M,O)}function C(N){const{schema:O,errSchemaPath:I,opts:M,self:F}=N;O.$ref&&M.ignoreKeywordsWithRef&&(0,y.schemaHasRulesButRef)(O,F.RULES)&&F.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function D(N){const{schema:O,opts:I}=N;O.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,y.checkStrictMode)(N,"default is ignored in the schema root")}function V(N){const O=N.schema[N.opts.schemaId];O&&(N.baseId=(0,$.resolveUrl)(N.opts.uriResolver,N.baseId,O))}function L(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:N,schemaEnv:O,schema:I,errSchemaPath:M,opts:F}){const G=I.$comment;if(F.$comment===!0)N.code((0,c._)`${h.default.self}.logger.log(${G})`);else if(typeof F.$comment=="function"){const te=(0,c.str)`${M}/$comment`,le=N.scopeValue("root",{ref:O.root});N.code((0,c._)`${h.default.self}.opts.$comment(${G}, ${te}, ${le}.schema)`)}}function B(N){const{gen:O,schemaEnv:I,validateName:M,ValidationError:F,opts:G}=N;I.$async?O.if((0,c._)`${h.default.errors} === 0`,()=>O.return(h.default.data),()=>O.throw((0,c._)`new ${F}(${h.default.vErrors})`)):(O.assign((0,c._)`${M}.errors`,h.default.vErrors),G.unevaluated&&x(N),O.return((0,c._)`${h.default.errors} === 0`))}function x({gen:N,evaluated:O,props:I,items:M}){I instanceof c.Name&&N.assign((0,c._)`${O}.props`,I),M instanceof c.Name&&N.assign((0,c._)`${O}.items`,M)}function he(N,O,I,M){const{gen:F,schema:G,data:te,allErrors:le,opts:ae,self:ie}=N,{RULES:re}=ie;if(G.$ref&&(ae.ignoreKeywordsWithRef||!(0,y.schemaHasRulesButRef)(G,re))){F.block(()=>U(N,"$ref",re.all.$ref.definition));return}ae.jtd||Z(N,O),F.block(()=>{for(const ue of re.rules)Se(ue);Se(re.post)});function Se(ue){(0,S.shouldUseGroup)(G,ue)&&(ue.type?(F.if((0,l.checkDataType)(ue.type,te,ae.strictNumbers)),me(N,ue),O.length===1&&O[0]===ue.type&&I&&(F.else(),(0,l.reportTypeError)(N)),F.endIf()):me(N,ue),le||F.if((0,c._)`${h.default.errors} === ${M||0}`))}}function me(N,O){const{gen:I,schema:M,opts:{useDefaults:F}}=N;F&&(0,_.assignDefaults)(N,O.type),I.block(()=>{for(const G of O.rules)(0,S.shouldUseRule)(M,G)&&U(N,G.keyword,G.definition,O.type)})}function Z(N,O){N.schemaEnv.meta||!N.opts.strictTypes||(ve(N,O),N.opts.allowUnionTypes||A(N,O),R(N,N.dataTypes))}function ve(N,O){if(O.length){if(!N.dataTypes.length){N.dataTypes=O;return}O.forEach(I=>{k(N.dataTypes,I)||E(N,`type "${I}" not allowed by context "${N.dataTypes.join(",")}"`)}),u(N,O)}}function A(N,O){O.length>1&&!(O.length===2&&O.includes("null"))&&E(N,"use allowUnionTypes to allow union type keyword")}function R(N,O){const I=N.self.RULES.all;for(const M in I){const F=I[M];if(typeof F=="object"&&(0,S.shouldUseRule)(N.schema,F)){const{type:G}=F.definition;G.length&&!G.some(te=>q(O,te))&&E(N,`missing type "${G.join(",")}" for keyword "${M}"`)}}}function q(N,O){return N.includes(O)||O==="number"&&N.includes("integer")}function k(N,O){return N.includes(O)||O==="integer"&&N.includes("number")}function u(N,O){const I=[];for(const M of N.dataTypes)k(O,M)?I.push(M):O.includes("integer")&&M==="number"&&I.push("integer");N.dataTypes=I}function E(N,O){const I=N.schemaEnv.baseId+N.errSchemaPath;O+=` at "${I}" (strictTypes)`,(0,y.checkStrictMode)(N,O,N.opts.strictTypes)}class T{constructor(O,I,M){if((0,i.validateKeywordUsage)(O,I,M),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=M,this.data=O.data,this.schema=O.schema[M],this.$data=I.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,y.schemaRefOrVal)(O,this.schema,M,this.$data),this.schemaType=I.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=I,this.$data)this.schemaCode=O.gen.const("vSchema",W(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=O.gen.const("_errs",h.default.errors))}result(O,I,M){this.failResult((0,c.not)(O),I,M)}failResult(O,I,M){this.gen.if(O),M?M():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,I){this.failResult((0,c.not)(O),void 0,I)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:I}=this;this.fail((0,c._)`${I} !== undefined && (${(0,c.or)(this.invalid$data(),O)})`)}error(O,I,M){if(I){this.setParams(I),this._error(O,M),this.setParams({});return}this._error(O,M)}_error(O,I){(O?P.reportExtraError:P.reportError)(this,this.def.error,I)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,I){I?Object.assign(this.params,O):this.params=O}block$data(O,I,M=c.nil){this.gen.block(()=>{this.check$data(O,M),I()})}check$data(O=c.nil,I=c.nil){if(!this.$data)return;const{gen:M,schemaCode:F,schemaType:G,def:te}=this;M.if((0,c.or)((0,c._)`${F} === undefined`,I)),O!==c.nil&&M.assign(O,!0),(G.length||te.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),O!==c.nil&&M.assign(O,!1)),M.else()}invalid$data(){const{gen:O,schemaCode:I,schemaType:M,def:F,it:G}=this;return(0,c.or)(te(),le());function te(){if(M.length){if(!(I instanceof c.Name))throw new Error("ajv implementation error");const ae=Array.isArray(M)?M:[M];return(0,c._)`${(0,l.checkDataTypes)(ae,I,G.opts.strictNumbers,l.DataType.Wrong)}`}return c.nil}function le(){if(F.validateSchema){const ae=O.scopeValue("validate$data",{ref:F.validateSchema});return(0,c._)`!${ae}(${I})`}return c.nil}}subschema(O,I){const M=(0,f.getSubschema)(this.it,O);(0,f.extendSubschemaData)(M,this.it,O),(0,f.extendSubschemaMode)(M,O);const F={...this.it,...M,items:void 0,props:void 0};return a(F,I),F}mergeEvaluated(O,I){const{it:M,gen:F}=this;M.opts.unevaluated&&(M.props!==!0&&O.props!==void 0&&(M.props=y.mergeEvaluated.props(F,O.props,M.props,I)),M.items!==!0&&O.items!==void 0&&(M.items=y.mergeEvaluated.items(F,O.items,M.items,I)))}mergeValidEvaluated(O,I){const{it:M,gen:F}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return F.if(I,()=>this.mergeEvaluated(O,c.Name)),!0}}pe.KeywordCxt=T;function U(N,O,I,M){const F=new T(N,I,O);"code"in I?I.code(F,M):F.$data&&I.validate?(0,i.funcKeywordCode)(F,I):"macro"in I?(0,i.macroKeywordCode)(F,I):(I.compile||I.validate)&&(0,i.funcKeywordCode)(F,I)}const z=/^\/(?:[^~]|~0|~1)*$/,X=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(N,{dataLevel:O,dataNames:I,dataPathArr:M}){let F,G;if(N==="")return h.default.rootData;if(N[0]==="/"){if(!z.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);F=N,G=h.default.rootData}else{const ie=X.exec(N);if(!ie)throw new Error(`Invalid JSON-pointer: ${N}`);const re=+ie[1];if(F=ie[2],F==="#"){if(re>=O)throw new Error(ae("property/index",re));return M[O-re]}if(re>O)throw new Error(ae("data",re));if(G=I[O-re],!F)return G}let te=G;const le=F.split("/");for(const ie of le)ie&&(G=(0,c._)`${G}${(0,c.getProperty)((0,y.unescapeJsonPointer)(ie))}`,te=(0,c._)`${te} && ${G}`);return te;function ae(ie,re){return`Cannot access ${ie} ${re} levels up, current level is ${O}`}}return pe.getData=W,pe}var Me={},dr;function Ut(){if(dr)return Me;dr=1,Object.defineProperty(Me,"__esModule",{value:!0});class e extends Error{constructor(S){super("validation failed"),this.errors=S,this.ajv=this.validation=!0}}return Me.default=e,Me}var De={},fr;function Pt(){if(fr)return De;fr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=Et();class t extends Error{constructor(l,_,i,f){super(f||`can't resolve reference ${i} from id ${_}`),this.missingRef=(0,e.resolveUrl)(l,_,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(l,this.missingRef))}}return De.default=t,De}var oe={},hr;function Ft(){if(hr)return oe;hr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=J(),t=Ut(),S=$e(),l=Et(),_=Q(),i=St();class f{constructor(o){var r;this.refs={},this.dynamicAnchors={};let a;typeof o.schema=="object"&&(a=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(r=o.baseId)!==null&&r!==void 0?r:(0,l.normalizeId)(a?.[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=a?.$async,this.refs={}}}oe.SchemaEnv=f;function c(s){const o=y.call(this,s);if(o)return o;const r=(0,l.getFullPath)(this.opts.uriResolver,s.root.baseId),{es5:a,lines:m}=this.opts.code,{ownProperties:n}=this.opts,d=new e.CodeGen(this.scope,{es5:a,lines:m,ownProperties:n});let b;s.$async&&(b=d.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const j=d.scopeName("validate");s.validateName=j;const C={gen:d,allErrors:this.opts.allErrors,data:S.default.data,parentData:S.default.parentData,parentDataProperty:S.default.parentDataProperty,dataNames:[S.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:s.schema,code:(0,e.stringify)(s.schema)}:{ref:s.schema}),validateName:j,ValidationError:b,schema:s.schema,schemaEnv:s,rootId:r,baseId:s.baseId||r,schemaPath:e.nil,errSchemaPath:s.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(s),(0,i.validateFunctionCode)(C),d.optimize(this.opts.code.optimize);const V=d.toString();D=`${d.scopeRefs(S.default.scope)}return ${V}`,this.opts.code.process&&(D=this.opts.code.process(D,s));const K=new Function(`${S.default.self}`,`${S.default.scope}`,D)(this,this.scope.get());if(this.scope.value(j,{ref:K}),K.errors=null,K.schema=s.schema,K.schemaEnv=s,s.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:j,validateCode:V,scopeValues:d._values}),this.opts.unevaluated){const{props:B,items:x}=C;K.evaluated={props:B instanceof e.Name?void 0:B,items:x instanceof e.Name?void 0:x,dynamicProps:B instanceof e.Name,dynamicItems:x instanceof e.Name},K.source&&(K.source.evaluated=(0,e.stringify)(K.evaluated))}return s.validate=K,s}catch(V){throw delete s.validate,delete s.validateName,D&&this.logger.error("Error compiling schema, function code:",D),V}finally{this._compilations.delete(s)}}oe.compileSchema=c;function h(s,o,r){var a;r=(0,l.resolveUrl)(this.opts.uriResolver,o,r);const m=s.refs[r];if(m)return m;let n=v.call(this,s,r);if(n===void 0){const d=(a=s.localRefs)===null||a===void 0?void 0:a[r],{schemaId:b}=this.opts;d&&(n=new f({schema:d,schemaId:b,root:s,baseId:o}))}if(n!==void 0)return s.refs[r]=$.call(this,n)}oe.resolveRef=h;function $(s){return(0,l.inlineRef)(s.schema,this.opts.inlineRefs)?s.schema:s.validate?s:c.call(this,s)}function y(s){for(const o of this._compilations)if(P(o,s))return o}oe.getCompilingSchema=y;function P(s,o){return s.schema===o.schema&&s.root===o.root&&s.baseId===o.baseId}function v(s,o){let r;for(;typeof(r=this.refs[o])=="string";)o=r;return r||this.schemas[o]||g.call(this,s,o)}function g(s,o){const r=this.opts.uriResolver.parse(o),a=(0,l._getFullPath)(this.opts.uriResolver,r);let m=(0,l.getFullPath)(this.opts.uriResolver,s.baseId,void 0);if(Object.keys(s.schema).length>0&&a===m)return w.call(this,r,s);const n=(0,l.normalizeId)(a),d=this.refs[n]||this.schemas[n];if(typeof d=="string"){const b=g.call(this,s,d);return typeof b?.schema!="object"?void 0:w.call(this,r,b)}if(typeof d?.schema=="object"){if(d.validate||c.call(this,d),n===(0,l.normalizeId)(o)){const{schema:b}=d,{schemaId:j}=this.opts,C=b[j];return C&&(m=(0,l.resolveUrl)(this.opts.uriResolver,m,C)),new f({schema:b,schemaId:j,root:s,baseId:m})}return w.call(this,r,d)}}oe.resolveSchema=g;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(s,{baseId:o,schema:r,root:a}){var m;if(((m=s.fragment)===null||m===void 0?void 0:m[0])!=="/")return;for(const b of s.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const j=r[(0,_.unescapeFragment)(b)];if(j===void 0)return;r=j;const C=typeof r=="object"&&r[this.opts.schemaId];!p.has(b)&&C&&(o=(0,l.resolveUrl)(this.opts.uriResolver,o,C))}let n;if(typeof r!="boolean"&&r.$ref&&!(0,_.schemaHasRulesButRef)(r,this.RULES)){const b=(0,l.resolveUrl)(this.opts.uriResolver,o,r.$ref);n=g.call(this,a,b)}const{schemaId:d}=this.opts;if(n=n||new f({schema:r,schemaId:d,root:a,baseId:o}),n.schema!==n.root.schema)return n}return oe}const zn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Kn="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ln="object",Hn=["$data"],Gn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Jn=!1,Wn={$id:zn,description:Kn,type:Ln,required:Hn,properties:Gn,additionalProperties:Jn};var Ve={},Ie={exports:{}},Mt,mr;function wn(){if(mr)return Mt;mr=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function S(v){let g="",p=0,w=0;for(w=0;w<v.length;w++)if(p=v[w].charCodeAt(0),p!==48){if(!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";g+=v[w];break}for(w+=1;w<v.length;w++){if(p=v[w].charCodeAt(0),!(p>=48&&p<=57||p>=65&&p<=70||p>=97&&p<=102))return"";g+=v[w]}return g}const l=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function _(v){return v.length=0,!0}function i(v,g,p){if(v.length){const w=S(v);if(w!=="")g.push(w);else return p.error=!0,!1;v.length=0}return!0}function f(v){let g=0;const p={error:!1,address:"",zone:""},w=[],s=[];let o=!1,r=!1,a=i;for(let m=0;m<v.length;m++){const n=v[m];if(!(n==="["||n==="]"))if(n===":"){if(o===!0&&(r=!0),!a(s,w,p))break;if(++g>7){p.error=!0;break}m>0&&v[m-1]===":"&&(o=!0),w.push(":");continue}else if(n==="%"){if(!a(s,w,p))break;a=_}else{s.push(n);continue}}return s.length&&(a===_?p.zone=s.join(""):r?w.push(s.join("")):w.push(S(s))),p.address=w.join(""),p}function c(v){if(h(v,":")<2)return{host:v,isIPV6:!1};const g=f(v);if(g.error)return{host:v,isIPV6:!1};{let p=g.address,w=g.address;return g.zone&&(p+="%"+g.zone,w+="%25"+g.zone),{host:p,isIPV6:!0,escapedHost:w}}}function h(v,g){let p=0;for(let w=0;w<v.length;w++)v[w]===g&&p++;return p}function $(v){let g=v;const p=[];let w=-1,s=0;for(;s=g.length;){if(s===1){if(g===".")break;if(g==="/"){p.push("/");break}else{p.push(g);break}}else if(s===2){if(g[0]==="."){if(g[1]===".")break;if(g[1]==="/"){g=g.slice(2);continue}}else if(g[0]==="/"&&(g[1]==="."||g[1]==="/")){p.push("/");break}}else if(s===3&&g==="/.."){p.length!==0&&p.pop(),p.push("/");break}if(g[0]==="."){if(g[1]==="."){if(g[2]==="/"){g=g.slice(3);continue}}else if(g[1]==="/"){g=g.slice(2);continue}}else if(g[0]==="/"&&g[1]==="."){if(g[2]==="/"){g=g.slice(2);continue}else if(g[2]==="."&&g[3]==="/"){g=g.slice(3),p.length!==0&&p.pop();continue}}if((w=g.indexOf("/",1))===-1){p.push(g);break}else p.push(g.slice(0,w)),g=g.slice(w)}return p.join("")}function y(v,g){const p=g!==!0?escape:unescape;return v.scheme!==void 0&&(v.scheme=p(v.scheme)),v.userinfo!==void 0&&(v.userinfo=p(v.userinfo)),v.host!==void 0&&(v.host=p(v.host)),v.path!==void 0&&(v.path=p(v.path)),v.query!==void 0&&(v.query=p(v.query)),v.fragment!==void 0&&(v.fragment=p(v.fragment)),v}function P(v){const g=[];if(v.userinfo!==void 0&&(g.push(v.userinfo),g.push("@")),v.host!==void 0){let p=unescape(v.host);if(!t(p)){const w=c(p);w.isIPV6===!0?p=`[${w.escapedHost}]`:p=v.host}g.push(p)}return(typeof v.port=="number"||typeof v.port=="string")&&(g.push(":"),g.push(String(v.port))),g.length?g.join(""):void 0}return Mt={nonSimpleDomain:l,recomposeAuthority:P,normalizeComponentEncoding:y,removeDotSegments:$,isIPv4:t,isUUID:e,normalizeIPv6:c,stringArrayToHexStripped:S},Mt}var Dt,pr;function Bn(){if(pr)return Dt;pr=1;const{isUUID:e}=wn(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,S=["http","https","ws","wss","urn","urn:uuid"];function l(n){return S.indexOf(n)!==-1}function _(n){return n.secure===!0?!0:n.secure===!1?!1:n.scheme?n.scheme.length===3&&(n.scheme[0]==="w"||n.scheme[0]==="W")&&(n.scheme[1]==="s"||n.scheme[1]==="S")&&(n.scheme[2]==="s"||n.scheme[2]==="S"):!1}function i(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n}function f(n){const d=String(n.scheme).toLowerCase()==="https";return(n.port===(d?443:80)||n.port==="")&&(n.port=void 0),n.path||(n.path="/"),n}function c(n){return n.secure=_(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n}function h(n){if((n.port===(_(n)?443:80)||n.port==="")&&(n.port=void 0),typeof n.secure=="boolean"&&(n.scheme=n.secure?"wss":"ws",n.secure=void 0),n.resourceName){const[d,b]=n.resourceName.split("?");n.path=d&&d!=="/"?d:void 0,n.query=b,n.resourceName=void 0}return n.fragment=void 0,n}function $(n,d){if(!n.path)return n.error="URN can not be parsed",n;const b=n.path.match(t);if(b){const j=d.scheme||n.scheme||"urn";n.nid=b[1].toLowerCase(),n.nss=b[2];const C=`${j}:${d.nid||n.nid}`,D=m(C);n.path=void 0,D&&(n=D.parse(n,d))}else n.error=n.error||"URN can not be parsed.";return n}function y(n,d){if(n.nid===void 0)throw new Error("URN without nid cannot be serialized");const b=d.scheme||n.scheme||"urn",j=n.nid.toLowerCase(),C=`${b}:${d.nid||j}`,D=m(C);D&&(n=D.serialize(n,d));const V=n,L=n.nss;return V.path=`${j||d.nid}:${L}`,d.skipEscape=!0,V}function P(n,d){const b=n;return b.uuid=b.nss,b.nss=void 0,!d.tolerant&&(!b.uuid||!e(b.uuid))&&(b.error=b.error||"UUID is not valid."),b}function v(n){const d=n;return d.nss=(n.uuid||"").toLowerCase(),d}const g={scheme:"http",domainHost:!0,parse:i,serialize:f},p={scheme:"https",domainHost:g.domainHost,parse:i,serialize:f},w={scheme:"ws",domainHost:!0,parse:c,serialize:h},s={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},a={http:g,https:p,ws:w,wss:s,urn:{scheme:"urn",parse:$,serialize:y,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:P,serialize:v,skipNormalize:!0}};Object.setPrototypeOf(a,null);function m(n){return n&&(a[n]||a[n.toLowerCase()])||void 0}return Dt={wsIsSecure:_,SCHEMES:a,isValidSchemeName:l,getSchemeHandler:m},Dt}var yr;function Qn(){if(yr)return Ie.exports;yr=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:S,normalizeComponentEncoding:l,isIPv4:_,nonSimpleDomain:i}=wn(),{SCHEMES:f,getSchemeHandler:c}=Bn();function h(s,o){return typeof s=="string"?s=v(p(s,o),o):typeof s=="object"&&(s=p(v(s,o),o)),s}function $(s,o,r){const a=r?Object.assign({scheme:"null"},r):{scheme:"null"},m=y(p(s,a),p(o,a),a,!0);return a.skipEscape=!0,v(m,a)}function y(s,o,r,a){const m={};return a||(s=p(v(s,r),r),o=p(v(o,r),r)),r=r||{},!r.tolerant&&o.scheme?(m.scheme=o.scheme,m.userinfo=o.userinfo,m.host=o.host,m.port=o.port,m.path=t(o.path||""),m.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(m.userinfo=o.userinfo,m.host=o.host,m.port=o.port,m.path=t(o.path||""),m.query=o.query):(o.path?(o.path[0]==="/"?m.path=t(o.path):((s.userinfo!==void 0||s.host!==void 0||s.port!==void 0)&&!s.path?m.path="/"+o.path:s.path?m.path=s.path.slice(0,s.path.lastIndexOf("/")+1)+o.path:m.path=o.path,m.path=t(m.path)),m.query=o.query):(m.path=s.path,o.query!==void 0?m.query=o.query:m.query=s.query),m.userinfo=s.userinfo,m.host=s.host,m.port=s.port),m.scheme=s.scheme),m.fragment=o.fragment,m}function P(s,o,r){return typeof s=="string"?(s=unescape(s),s=v(l(p(s,r),!0),{...r,skipEscape:!0})):typeof s=="object"&&(s=v(l(s,!0),{...r,skipEscape:!0})),typeof o=="string"?(o=unescape(o),o=v(l(p(o,r),!0),{...r,skipEscape:!0})):typeof o=="object"&&(o=v(l(o,!0),{...r,skipEscape:!0})),s.toLowerCase()===o.toLowerCase()}function v(s,o){const r={host:s.host,scheme:s.scheme,userinfo:s.userinfo,port:s.port,path:s.path,query:s.query,nid:s.nid,nss:s.nss,uuid:s.uuid,fragment:s.fragment,reference:s.reference,resourceName:s.resourceName,secure:s.secure,error:""},a=Object.assign({},o),m=[],n=c(a.scheme||r.scheme);n&&n.serialize&&n.serialize(r,a),r.path!==void 0&&(a.skipEscape?r.path=unescape(r.path):(r.path=escape(r.path),r.scheme!==void 0&&(r.path=r.path.split("%3A").join(":")))),a.reference!=="suffix"&&r.scheme&&m.push(r.scheme,":");const d=S(r);if(d!==void 0&&(a.reference!=="suffix"&&m.push("//"),m.push(d),r.path&&r.path[0]!=="/"&&m.push("/")),r.path!==void 0){let b=r.path;!a.absolutePath&&(!n||!n.absolutePath)&&(b=t(b)),d===void 0&&b[0]==="/"&&b[1]==="/"&&(b="/%2F"+b.slice(2)),m.push(b)}return r.query!==void 0&&m.push("?",r.query),r.fragment!==void 0&&m.push("#",r.fragment),m.join("")}const g=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(s,o){const r=Object.assign({},o),a={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let m=!1;r.reference==="suffix"&&(r.scheme?s=r.scheme+":"+s:s="//"+s);const n=s.match(g);if(n){if(a.scheme=n[1],a.userinfo=n[3],a.host=n[4],a.port=parseInt(n[5],10),a.path=n[6]||"",a.query=n[7],a.fragment=n[8],isNaN(a.port)&&(a.port=n[5]),a.host)if(_(a.host)===!1){const j=e(a.host);a.host=j.host.toLowerCase(),m=j.isIPV6}else m=!0;a.scheme===void 0&&a.userinfo===void 0&&a.host===void 0&&a.port===void 0&&a.query===void 0&&!a.path?a.reference="same-document":a.scheme===void 0?a.reference="relative":a.fragment===void 0?a.reference="absolute":a.reference="uri",r.reference&&r.reference!=="suffix"&&r.reference!==a.reference&&(a.error=a.error||"URI is not a "+r.reference+" reference.");const d=c(r.scheme||a.scheme);if(!r.unicodeSupport&&(!d||!d.unicodeSupport)&&a.host&&(r.domainHost||d&&d.domainHost)&&m===!1&&i(a.host))try{a.host=URL.domainToASCII(a.host.toLowerCase())}catch(b){a.error=a.error||"Host's domain name can not be converted to ASCII: "+b}(!d||d&&!d.skipNormalize)&&(s.indexOf("%")!==-1&&(a.scheme!==void 0&&(a.scheme=unescape(a.scheme)),a.host!==void 0&&(a.host=unescape(a.host))),a.path&&(a.path=escape(unescape(a.path))),a.fragment&&(a.fragment=encodeURI(decodeURIComponent(a.fragment)))),d&&d.parse&&d.parse(a,r)}else a.error=a.error||"URI can not be parsed.";return a}const w={SCHEMES:f,normalize:h,resolve:$,resolveComponent:y,equal:P,serialize:v,parse:p};return Ie.exports=w,Ie.exports.default=w,Ie.exports.fastUri=w,Ie.exports}var gr;function Xn(){if(gr)return Ve;gr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=Qn();return e.code='require("ajv/dist/runtime/uri").default',Ve.default=e,Ve}var vr;function Yn(){return vr||(vr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=St();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var S=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return S._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return S.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return S.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return S.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return S.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return S.CodeGen}});const l=Ut(),_=Pt(),i=vn(),f=Ft(),c=J(),h=Et(),$=wt(),y=Q(),P=Wn,v=Xn(),g=(A,R)=>new RegExp(A,R);g.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),s={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},o={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},r=200;function a(A){var R,q,k,u,E,T,U,z,X,W,N,O,I,M,F,G,te,le,ae,ie,re,Se,ue,Nt,Rt;const je=A.strict,Ot=(R=A.code)===null||R===void 0?void 0:R.optimize,Kt=Ot===!0||Ot===void 0?1:Ot||0,Lt=(k=(q=A.code)===null||q===void 0?void 0:q.regExp)!==null&&k!==void 0?k:g,Pn=(u=A.uriResolver)!==null&&u!==void 0?u:v.default;return{strictSchema:(T=(E=A.strictSchema)!==null&&E!==void 0?E:je)!==null&&T!==void 0?T:!0,strictNumbers:(z=(U=A.strictNumbers)!==null&&U!==void 0?U:je)!==null&&z!==void 0?z:!0,strictTypes:(W=(X=A.strictTypes)!==null&&X!==void 0?X:je)!==null&&W!==void 0?W:"log",strictTuples:(O=(N=A.strictTuples)!==null&&N!==void 0?N:je)!==null&&O!==void 0?O:"log",strictRequired:(M=(I=A.strictRequired)!==null&&I!==void 0?I:je)!==null&&M!==void 0?M:!1,code:A.code?{...A.code,optimize:Kt,regExp:Lt}:{optimize:Kt,regExp:Lt},loopRequired:(F=A.loopRequired)!==null&&F!==void 0?F:r,loopEnum:(G=A.loopEnum)!==null&&G!==void 0?G:r,meta:(te=A.meta)!==null&&te!==void 0?te:!0,messages:(le=A.messages)!==null&&le!==void 0?le:!0,inlineRefs:(ae=A.inlineRefs)!==null&&ae!==void 0?ae:!0,schemaId:(ie=A.schemaId)!==null&&ie!==void 0?ie:"$id",addUsedSchema:(re=A.addUsedSchema)!==null&&re!==void 0?re:!0,validateSchema:(Se=A.validateSchema)!==null&&Se!==void 0?Se:!0,validateFormats:(ue=A.validateFormats)!==null&&ue!==void 0?ue:!0,unicodeRegExp:(Nt=A.unicodeRegExp)!==null&&Nt!==void 0?Nt:!0,int32range:(Rt=A.int32range)!==null&&Rt!==void 0?Rt:!0,uriResolver:Pn}}class m{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...a(R)};const{es5:q,lines:k}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:w,es5:q,lines:k}),this.logger=L(R.logger);const u=R.validateFormats;R.validateFormats=!1,this.RULES=(0,i.getRules)(),n.call(this,s,R,"NOT SUPPORTED"),n.call(this,o,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&C.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),b.call(this),R.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:q,schemaId:k}=this.opts;let u=P;k==="id"&&(u={...P},u.id=u.$id,delete u.$id),q&&R&&this.addMetaSchema(u,u[k],!1)}defaultMeta(){const{meta:R,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[q]||R:void 0}validate(R,q){let k;if(typeof R=="string"){if(k=this.getSchema(R),!k)throw new Error(`no schema with key or ref "${R}"`)}else k=this.compile(R);const u=k(q);return"$async"in k||(this.errors=k.errors),u}compile(R,q){const k=this._addSchema(R,q);return k.validate||this._compileSchemaEnv(k)}compileAsync(R,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:k}=this.opts;return u.call(this,R,q);async function u(W,N){await E.call(this,W.$schema);const O=this._addSchema(W,N);return O.validate||T.call(this,O)}async function E(W){W&&!this.getSchema(W)&&await u.call(this,{$ref:W},!0)}async function T(W){try{return this._compileSchemaEnv(W)}catch(N){if(!(N instanceof _.default))throw N;return U.call(this,N),await z.call(this,N.missingSchema),T.call(this,W)}}function U({missingSchema:W,missingRef:N}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${N} cannot be resolved`)}async function z(W){const N=await X.call(this,W);this.refs[W]||await E.call(this,N.$schema),this.refs[W]||this.addSchema(N,W,q)}async function X(W){const N=this._loading[W];if(N)return N;try{return await(this._loading[W]=k(W))}finally{delete this._loading[W]}}}addSchema(R,q,k,u=this.opts.validateSchema){if(Array.isArray(R)){for(const T of R)this.addSchema(T,void 0,k,u);return this}let E;if(typeof R=="object"){const{schemaId:T}=this.opts;if(E=R[T],E!==void 0&&typeof E!="string")throw new Error(`schema ${T} must be string`)}return q=(0,h.normalizeId)(q||E),this._checkUnique(q),this.schemas[q]=this._addSchema(R,k,q,u,!0),this}addMetaSchema(R,q,k=this.opts.validateSchema){return this.addSchema(R,q,!0,k),this}validateSchema(R,q){if(typeof R=="boolean")return!0;let k;if(k=R.$schema,k!==void 0&&typeof k!="string")throw new Error("$schema must be a string");if(k=k||this.opts.defaultMeta||this.defaultMeta(),!k)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(k,R);if(!u&&q){const E="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(E);else throw new Error(E)}return u}getSchema(R){let q;for(;typeof(q=d.call(this,R))=="string";)R=q;if(q===void 0){const{schemaId:k}=this.opts,u=new f.SchemaEnv({schema:{},schemaId:k});if(q=f.resolveSchema.call(this,u,R),!q)return;this.refs[R]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=d.call(this,R);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const q=R;this._cache.delete(q);let k=R[this.opts.schemaId];return k&&(k=(0,h.normalizeId)(k),delete this.schemas[k],delete this.refs[k]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const q of R)this.addKeyword(q);return this}addKeyword(R,q){let k;if(typeof R=="string")k=R,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=k);else if(typeof R=="object"&&q===void 0){if(q=R,k=q.keyword,Array.isArray(k)&&!k.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,k,q),!q)return(0,y.eachItem)(k,E=>x.call(this,E)),this;me.call(this,q);const u={...q,type:(0,$.getJSONTypes)(q.type),schemaType:(0,$.getJSONTypes)(q.schemaType)};return(0,y.eachItem)(k,u.type.length===0?E=>x.call(this,E,u):E=>u.type.forEach(T=>x.call(this,E,u,T))),this}getKeyword(R){const q=this.RULES.all[R];return typeof q=="object"?q.definition:!!q}removeKeyword(R){const{RULES:q}=this;delete q.keywords[R],delete q.all[R];for(const k of q.rules){const u=k.rules.findIndex(E=>E.keyword===R);u>=0&&k.rules.splice(u,1)}return this}addFormat(R,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[R]=q,this}errorsText(R=this.errors,{separator:q=", ",dataVar:k="data"}={}){return!R||R.length===0?"No errors":R.map(u=>`${k}${u.instancePath} ${u.message}`).reduce((u,E)=>u+q+E)}$dataMetaSchema(R,q){const k=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const u of q){const E=u.split("/").slice(1);let T=R;for(const U of E)T=T[U];for(const U in k){const z=k[U];if(typeof z!="object")continue;const{$data:X}=z.definition,W=T[U];X&&W&&(T[U]=ve(W))}}return R}_removeAllSchemas(R,q){for(const k in R){const u=R[k];(!q||q.test(k))&&(typeof u=="string"?delete R[k]:u&&!u.meta&&(this._cache.delete(u.schema),delete R[k]))}}_addSchema(R,q,k,u=this.opts.validateSchema,E=this.opts.addUsedSchema){let T;const{schemaId:U}=this.opts;if(typeof R=="object")T=R[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(R);if(z!==void 0)return z;k=(0,h.normalizeId)(T||k);const X=h.getSchemaRefs.call(this,R,k);return z=new f.SchemaEnv({schema:R,schemaId:U,meta:q,baseId:k,localRefs:X}),this._cache.set(z.schema,z),E&&!k.startsWith("#")&&(k&&this._checkUnique(k),this.refs[k]=z),u&&this.validateSchema(R,!0),z}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):f.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const q=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,R)}finally{this.opts=q}}}m.ValidationError=l.default,m.MissingRefError=_.default,e.default=m;function n(A,R,q,k="error"){for(const u in A){const E=u;E in R&&this.logger[k](`${q}: option ${u}. ${A[E]}`)}}function d(A){return A=(0,h.normalizeId)(A),this.schemas[A]||this.refs[A]}function b(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function j(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function C(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const q=A[R];q.keyword||(q.keyword=R),this.addKeyword(q)}}function D(){const A={...this.opts};for(const R of p)delete A[R];return A}const V={log(){},warn(){},error(){}};function L(A){if(A===!1)return V;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function B(A,R){const{RULES:q}=this;if((0,y.eachItem)(A,k=>{if(q.keywords[k])throw new Error(`Keyword ${k} is already defined`);if(!K.test(k))throw new Error(`Keyword ${k} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(A,R,q){var k;const u=R?.post;if(q&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:E}=this;let T=u?E.post:E.rules.find(({type:z})=>z===q);if(T||(T={type:q,rules:[]},E.rules.push(T)),E.keywords[A]=!0,!R)return;const U={keyword:A,definition:{...R,type:(0,$.getJSONTypes)(R.type),schemaType:(0,$.getJSONTypes)(R.schemaType)}};R.before?he.call(this,T,U,R.before):T.rules.push(U),E.all[A]=U,(k=R.implements)===null||k===void 0||k.forEach(z=>this.addKeyword(z))}function he(A,R,q){const k=A.rules.findIndex(u=>u.keyword===q);k>=0?A.rules.splice(k,0,R):(A.rules.push(R),this.logger.warn(`rule ${q} is not defined`))}function me(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=ve(R)),A.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ve(A){return{anyOf:[A,Z]}}})(kt)),kt}var Ue={},Fe={},ze={},_r;function Zn(){if(_r)return ze;_r=1,Object.defineProperty(ze,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return ze.default=e,ze}var _e={},$r;function xn(){if($r)return _e;$r=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=Pt(),t=fe(),S=J(),l=$e(),_=Ft(),i=Q(),f={keyword:"$ref",schemaType:"string",code($){const{gen:y,schema:P,it:v}=$,{baseId:g,schemaEnv:p,validateName:w,opts:s,self:o}=v,{root:r}=p;if((P==="#"||P==="#/")&&g===r.baseId)return m();const a=_.resolveRef.call(o,r,g,P);if(a===void 0)throw new e.default(v.opts.uriResolver,g,P);if(a instanceof _.SchemaEnv)return n(a);return d(a);function m(){if(p===r)return h($,w,p,p.$async);const b=y.scopeValue("root",{ref:r});return h($,(0,S._)`${b}.validate`,r,r.$async)}function n(b){const j=c($,b);h($,j,b,b.$async)}function d(b){const j=y.scopeValue("schema",s.code.source===!0?{ref:b,code:(0,S.stringify)(b)}:{ref:b}),C=y.name("valid"),D=$.subschema({schema:b,dataTypes:[],schemaPath:S.nil,topSchemaRef:j,errSchemaPath:P},C);$.mergeEvaluated(D),$.ok(C)}}};function c($,y){const{gen:P}=$;return y.validate?P.scopeValue("validate",{ref:y.validate}):(0,S._)`${P.scopeValue("wrapper",{ref:y})}.validate`}_e.getValidate=c;function h($,y,P,v){const{gen:g,it:p}=$,{allErrors:w,schemaEnv:s,opts:o}=p,r=o.passContext?l.default.this:S.nil;v?a():m();function a(){if(!s.$async)throw new Error("async schema referenced by sync schema");const b=g.let("valid");g.try(()=>{g.code((0,S._)`await ${(0,t.callValidateCode)($,y,r)}`),d(y),w||g.assign(b,!0)},j=>{g.if((0,S._)`!(${j} instanceof ${p.ValidationError})`,()=>g.throw(j)),n(j),w||g.assign(b,!1)}),$.ok(b)}function m(){$.result((0,t.callValidateCode)($,y,r),()=>d(y),()=>n(y))}function n(b){const j=(0,S._)`${b}.errors`;g.assign(l.default.vErrors,(0,S._)`${l.default.vErrors} === null ? ${j} : ${l.default.vErrors}.concat(${j})`),g.assign(l.default.errors,(0,S._)`${l.default.vErrors}.length`)}function d(b){var j;if(!p.opts.unevaluated)return;const C=(j=P?.validate)===null||j===void 0?void 0:j.evaluated;if(p.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(p.props=i.mergeEvaluated.props(g,C.props,p.props));else{const D=g.var("props",(0,S._)`${b}.evaluated.props`);p.props=i.mergeEvaluated.props(g,D,p.props,S.Name)}if(p.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(p.items=i.mergeEvaluated.items(g,C.items,p.items));else{const D=g.var("items",(0,S._)`${b}.evaluated.items`);p.items=i.mergeEvaluated.items(g,D,p.items,S.Name)}}}return _e.callRef=h,_e.default=f,_e}var wr;function es(){if(wr)return Fe;wr=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=Zn(),t=xn(),S=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Fe.default=S,Fe}var Ke={},Le={},br;function ts(){if(br)return Le;br=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),t=e.operators,S={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},l={message:({keyword:i,schemaCode:f})=>(0,e.str)`must be ${S[i].okStr} ${f}`,params:({keyword:i,schemaCode:f})=>(0,e._)`{comparison: ${S[i].okStr}, limit: ${f}}`},_={keyword:Object.keys(S),type:"number",schemaType:"number",$data:!0,error:l,code(i){const{keyword:f,data:c,schemaCode:h}=i;i.fail$data((0,e._)`${c} ${S[f].fail} ${h} || isNaN(${c})`)}};return Le.default=_,Le}var He={},Er;function rs(){if(Er)return He;Er=1,Object.defineProperty(He,"__esModule",{value:!0});const e=J(),S={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:l})=>(0,e.str)`must be multiple of ${l}`,params:({schemaCode:l})=>(0,e._)`{multipleOf: ${l}}`},code(l){const{gen:_,data:i,schemaCode:f,it:c}=l,h=c.opts.multipleOfPrecision,$=_.let("res"),y=h?(0,e._)`Math.abs(Math.round(${$}) - ${$}) > 1e-${h}`:(0,e._)`${$} !== parseInt(${$})`;l.fail$data((0,e._)`(${f} === 0 || (${$} = ${i}/${f}, ${y}))`)}};return He.default=S,He}var Ge={},Je={},Sr;function ns(){if(Sr)return Je;Sr=1,Object.defineProperty(Je,"__esModule",{value:!0});function e(t){const S=t.length;let l=0,_=0,i;for(;_<S;)l++,i=t.charCodeAt(_++),i>=55296&&i<=56319&&_<S&&(i=t.charCodeAt(_),(i&64512)===56320&&_++);return l}return Je.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Je}var Pr;function ss(){if(Pr)return Ge;Pr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),t=Q(),S=ns(),_={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:f}){const c=i==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${f} characters`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:f,data:c,schemaCode:h,it:$}=i,y=f==="maxLength"?e.operators.GT:e.operators.LT,P=$.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,t.useFunc)(i.gen,S.default)}(${c})`;i.fail$data((0,e._)`${P} ${y} ${h}`)}};return Ge.default=_,Ge}var We={},Nr;function as(){if(Nr)return We;Nr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=fe(),t=J(),l={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:_})=>(0,t.str)`must match pattern "${_}"`,params:({schemaCode:_})=>(0,t._)`{pattern: ${_}}`},code(_){const{data:i,$data:f,schema:c,schemaCode:h,it:$}=_,y=$.opts.unicodeRegExp?"u":"",P=f?(0,t._)`(new RegExp(${h}, ${y}))`:(0,e.usePattern)(_,c);_.fail$data((0,t._)`!${P}.test(${i})`)}};return We.default=l,We}var Be={},Rr;function is(){if(Rr)return Be;Rr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),S={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:l,schemaCode:_}){const i=l==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${_} properties`},params:({schemaCode:l})=>(0,e._)`{limit: ${l}}`},code(l){const{keyword:_,data:i,schemaCode:f}=l,c=_==="maxProperties"?e.operators.GT:e.operators.LT;l.fail$data((0,e._)`Object.keys(${i}).length ${c} ${f}`)}};return Be.default=S,Be}var Qe={},Or;function os(){if(Or)return Qe;Or=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=fe(),t=J(),S=Q(),_={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:i}})=>(0,t.str)`must have required property '${i}'`,params:({params:{missingProperty:i}})=>(0,t._)`{missingProperty: ${i}}`},code(i){const{gen:f,schema:c,schemaCode:h,data:$,$data:y,it:P}=i,{opts:v}=P;if(!y&&c.length===0)return;const g=c.length>=v.loopRequired;if(P.allErrors?p():w(),v.strictRequired){const r=i.parentSchema.properties,{definedProperties:a}=i.it;for(const m of c)if(r?.[m]===void 0&&!a.has(m)){const n=P.schemaEnv.baseId+P.errSchemaPath,d=`required property "${m}" is not defined at "${n}" (strictRequired)`;(0,S.checkStrictMode)(P,d,P.opts.strictRequired)}}function p(){if(g||y)i.block$data(t.nil,s);else for(const r of c)(0,e.checkReportMissingProp)(i,r)}function w(){const r=f.let("missing");if(g||y){const a=f.let("valid",!0);i.block$data(a,()=>o(r,a)),i.ok(a)}else f.if((0,e.checkMissingProp)(i,c,r)),(0,e.reportMissingProp)(i,r),f.else()}function s(){f.forOf("prop",h,r=>{i.setParams({missingProperty:r}),f.if((0,e.noPropertyInData)(f,$,r,v.ownProperties),()=>i.error())})}function o(r,a){i.setParams({missingProperty:r}),f.forOf(r,h,()=>{f.assign(a,(0,e.propertyInData)(f,$,r,v.ownProperties)),f.if((0,t.not)(a),()=>{i.error(),f.break()})},t.nil)}}};return Qe.default=_,Qe}var Xe={},kr;function us(){if(kr)return Xe;kr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=J(),S={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:l,schemaCode:_}){const i=l==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${i} than ${_} items`},params:({schemaCode:l})=>(0,e._)`{limit: ${l}}`},code(l){const{keyword:_,data:i,schemaCode:f}=l,c=_==="maxItems"?e.operators.GT:e.operators.LT;l.fail$data((0,e._)`${i}.length ${c} ${f}`)}};return Xe.default=S,Xe}var Ye={},Ze={},jr;function zt(){if(jr)return Ze;jr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=$n();return e.code='require("ajv/dist/runtime/equal").default',Ze.default=e,Ze}var Tr;function cs(){if(Tr)return Ye;Tr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=wt(),t=J(),S=Q(),l=zt(),i={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:f,j:c}})=>(0,t.str)`must NOT have duplicate items (items ## ${c} and ${f} are identical)`,params:({params:{i:f,j:c}})=>(0,t._)`{i: ${f}, j: ${c}}`},code(f){const{gen:c,data:h,$data:$,schema:y,parentSchema:P,schemaCode:v,it:g}=f;if(!$&&!y)return;const p=c.let("valid"),w=P.items?(0,e.getSchemaTypes)(P.items):[];f.block$data(p,s,(0,t._)`${v} === false`),f.ok(p);function s(){const m=c.let("i",(0,t._)`${h}.length`),n=c.let("j");f.setParams({i:m,j:n}),c.assign(p,!0),c.if((0,t._)`${m} > 1`,()=>(o()?r:a)(m,n))}function o(){return w.length>0&&!w.some(m=>m==="object"||m==="array")}function r(m,n){const d=c.name("item"),b=(0,e.checkDataTypes)(w,d,g.opts.strictNumbers,e.DataType.Wrong),j=c.const("indices",(0,t._)`{}`);c.for((0,t._)`;${m}--;`,()=>{c.let(d,(0,t._)`${h}[${m}]`),c.if(b,(0,t._)`continue`),w.length>1&&c.if((0,t._)`typeof ${d} == "string"`,(0,t._)`${d} += "_"`),c.if((0,t._)`typeof ${j}[${d}] == "number"`,()=>{c.assign(n,(0,t._)`${j}[${d}]`),f.error(),c.assign(p,!1).break()}).code((0,t._)`${j}[${d}] = ${m}`)})}function a(m,n){const d=(0,S.useFunc)(c,l.default),b=c.name("outer");c.label(b).for((0,t._)`;${m}--;`,()=>c.for((0,t._)`${n} = ${m}; ${n}--;`,()=>c.if((0,t._)`${d}(${h}[${m}], ${h}[${n}])`,()=>{f.error(),c.assign(p,!1).break(b)})))}}};return Ye.default=i,Ye}var xe={},Ir;function ls(){if(Ir)return xe;Ir=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),t=Q(),S=zt(),_={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:i})=>(0,e._)`{allowedValue: ${i}}`},code(i){const{gen:f,data:c,$data:h,schemaCode:$,schema:y}=i;h||y&&typeof y=="object"?i.fail$data((0,e._)`!${(0,t.useFunc)(f,S.default)}(${c}, ${$})`):i.fail((0,e._)`${y} !== ${c}`)}};return xe.default=_,xe}var et={},qr;function ds(){if(qr)return et;qr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),t=Q(),S=zt(),_={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:i})=>(0,e._)`{allowedValues: ${i}}`},code(i){const{gen:f,data:c,$data:h,schema:$,schemaCode:y,it:P}=i;if(!h&&$.length===0)throw new Error("enum must have non-empty array");const v=$.length>=P.opts.loopEnum;let g;const p=()=>g??(g=(0,t.useFunc)(f,S.default));let w;if(v||h)w=f.let("valid"),i.block$data(w,s);else{if(!Array.isArray($))throw new Error("ajv implementation error");const r=f.const("vSchema",y);w=(0,e.or)(...$.map((a,m)=>o(r,m)))}i.pass(w);function s(){f.assign(w,!1),f.forOf("v",y,r=>f.if((0,e._)`${p()}(${c}, ${r})`,()=>f.assign(w,!0).break()))}function o(r,a){const m=$[a];return typeof m=="object"&&m!==null?(0,e._)`${p()}(${c}, ${r}[${a}])`:(0,e._)`${c} === ${m}`}}};return et.default=_,et}var Cr;function fs(){if(Cr)return Ke;Cr=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=ts(),t=rs(),S=ss(),l=as(),_=is(),i=os(),f=us(),c=cs(),h=ls(),$=ds(),y=[e.default,t.default,S.default,l.default,_.default,i.default,f.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},h.default,$.default];return Ke.default=y,Ke}var tt={},Pe={},Ar;function bn(){if(Ar)return Pe;Ar=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateAdditionalItems=void 0;const e=J(),t=Q(),l={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{parentSchema:f,it:c}=i,{items:h}=f;if(!Array.isArray(h)){(0,t.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}_(i,h)}};function _(i,f){const{gen:c,schema:h,data:$,keyword:y,it:P}=i;P.items=!0;const v=c.const("len",(0,e._)`${$}.length`);if(h===!1)i.setParams({len:f.length}),i.pass((0,e._)`${v} <= ${f.length}`);else if(typeof h=="object"&&!(0,t.alwaysValidSchema)(P,h)){const p=c.var("valid",(0,e._)`${v} <= ${f.length}`);c.if((0,e.not)(p),()=>g(p)),i.ok(p)}function g(p){c.forRange("i",f.length,v,w=>{i.subschema({keyword:y,dataProp:w,dataPropType:t.Type.Num},p),P.allErrors||c.if((0,e.not)(p),()=>c.break())})}}return Pe.validateAdditionalItems=_,Pe.default=l,Pe}var rt={},Ne={},Mr;function En(){if(Mr)return Ne;Mr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateTuple=void 0;const e=J(),t=Q(),S=fe(),l={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:f,it:c}=i;if(Array.isArray(f))return _(i,"additionalItems",f);c.items=!0,!(0,t.alwaysValidSchema)(c,f)&&i.ok((0,S.validateArray)(i))}};function _(i,f,c=i.schema){const{gen:h,parentSchema:$,data:y,keyword:P,it:v}=i;w($),v.opts.unevaluated&&c.length&&v.items!==!0&&(v.items=t.mergeEvaluated.items(h,c.length,v.items));const g=h.name("valid"),p=h.const("len",(0,e._)`${y}.length`);c.forEach((s,o)=>{(0,t.alwaysValidSchema)(v,s)||(h.if((0,e._)`${p} > ${o}`,()=>i.subschema({keyword:P,schemaProp:o,dataProp:o},g)),i.ok(g))});function w(s){const{opts:o,errSchemaPath:r}=v,a=c.length,m=a===s.minItems&&(a===s.maxItems||s[f]===!1);if(o.strictTuples&&!m){const n=`"${P}" is ${a}-tuple, but minItems or maxItems/${f} are not specified or different at path "${r}"`;(0,t.checkStrictMode)(v,n,o.strictTuples)}}}return Ne.validateTuple=_,Ne.default=l,Ne}var Dr;function hs(){if(Dr)return rt;Dr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=En(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:S=>(0,e.validateTuple)(S,"items")};return rt.default=t,rt}var nt={},Vr;function ms(){if(Vr)return nt;Vr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=J(),t=Q(),S=fe(),l=bn(),i={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:f}})=>(0,e.str)`must NOT have more than ${f} items`,params:({params:{len:f}})=>(0,e._)`{limit: ${f}}`},code(f){const{schema:c,parentSchema:h,it:$}=f,{prefixItems:y}=h;$.items=!0,!(0,t.alwaysValidSchema)($,c)&&(y?(0,l.validateAdditionalItems)(f,y):f.ok((0,S.validateArray)(f)))}};return nt.default=i,nt}var st={},Ur;function ps(){if(Ur)return st;Ur=1,Object.defineProperty(st,"__esModule",{value:!0});const e=J(),t=Q(),l={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:_,max:i}})=>i===void 0?(0,e.str)`must contain at least ${_} valid item(s)`:(0,e.str)`must contain at least ${_} and no more than ${i} valid item(s)`,params:({params:{min:_,max:i}})=>i===void 0?(0,e._)`{minContains: ${_}}`:(0,e._)`{minContains: ${_}, maxContains: ${i}}`},code(_){const{gen:i,schema:f,parentSchema:c,data:h,it:$}=_;let y,P;const{minContains:v,maxContains:g}=c;$.opts.next?(y=v===void 0?1:v,P=g):y=1;const p=i.const("len",(0,e._)`${h}.length`);if(_.setParams({min:y,max:P}),P===void 0&&y===0){(0,t.checkStrictMode)($,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&y>P){(0,t.checkStrictMode)($,'"minContains" > "maxContains" is always invalid'),_.fail();return}if((0,t.alwaysValidSchema)($,f)){let a=(0,e._)`${p} >= ${y}`;P!==void 0&&(a=(0,e._)`${a} && ${p} <= ${P}`),_.pass(a);return}$.items=!0;const w=i.name("valid");P===void 0&&y===1?o(w,()=>i.if(w,()=>i.break())):y===0?(i.let(w,!0),P!==void 0&&i.if((0,e._)`${h}.length > 0`,s)):(i.let(w,!1),s()),_.result(w,()=>_.reset());function s(){const a=i.name("_valid"),m=i.let("count",0);o(a,()=>i.if(a,()=>r(m)))}function o(a,m){i.forRange("i",0,p,n=>{_.subschema({keyword:"contains",dataProp:n,dataPropType:t.Type.Num,compositeRule:!0},a),m()})}function r(a){i.code((0,e._)`${a}++`),P===void 0?i.if((0,e._)`${a} >= ${y}`,()=>i.assign(w,!0).break()):(i.if((0,e._)`${a} > ${P}`,()=>i.assign(w,!1).break()),y===1?i.assign(w,!0):i.if((0,e._)`${a} >= ${y}`,()=>i.assign(w,!0)))}}};return st.default=l,st}var Vt={},Fr;function ys(){return Fr||(Fr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=J(),S=Q(),l=fe();e.error={message:({params:{property:h,depsCount:$,deps:y}})=>{const P=$===1?"property":"properties";return(0,t.str)`must have ${P} ${y} when property ${h} is present`},params:({params:{property:h,depsCount:$,deps:y,missingProperty:P}})=>(0,t._)`{property: ${h},
    missingProperty: ${P},
    depsCount: ${$},
    deps: ${y}}`};const _={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(h){const[$,y]=i(h);f(h,$),c(h,y)}};function i({schema:h}){const $={},y={};for(const P in h){if(P==="__proto__")continue;const v=Array.isArray(h[P])?$:y;v[P]=h[P]}return[$,y]}function f(h,$=h.schema){const{gen:y,data:P,it:v}=h;if(Object.keys($).length===0)return;const g=y.let("missing");for(const p in $){const w=$[p];if(w.length===0)continue;const s=(0,l.propertyInData)(y,P,p,v.opts.ownProperties);h.setParams({property:p,depsCount:w.length,deps:w.join(", ")}),v.allErrors?y.if(s,()=>{for(const o of w)(0,l.checkReportMissingProp)(h,o)}):(y.if((0,t._)`${s} && (${(0,l.checkMissingProp)(h,w,g)})`),(0,l.reportMissingProp)(h,g),y.else())}}e.validatePropertyDeps=f;function c(h,$=h.schema){const{gen:y,data:P,keyword:v,it:g}=h,p=y.name("valid");for(const w in $)(0,S.alwaysValidSchema)(g,$[w])||(y.if((0,l.propertyInData)(y,P,w,g.opts.ownProperties),()=>{const s=h.subschema({keyword:v,schemaProp:w},p);h.mergeValidEvaluated(s,p)},()=>y.var(p,!0)),h.ok(p))}e.validateSchemaDeps=c,e.default=_})(Vt)),Vt}var at={},zr;function gs(){if(zr)return at;zr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=J(),t=Q(),l={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:_})=>(0,e._)`{propertyName: ${_.propertyName}}`},code(_){const{gen:i,schema:f,data:c,it:h}=_;if((0,t.alwaysValidSchema)(h,f))return;const $=i.name("valid");i.forIn("key",c,y=>{_.setParams({propertyName:y}),_.subschema({keyword:"propertyNames",data:y,dataTypes:["string"],propertyName:y,compositeRule:!0},$),i.if((0,e.not)($),()=>{_.error(!0),h.allErrors||i.break()})}),_.ok($)}};return at.default=l,at}var it={},Kr;function Sn(){if(Kr)return it;Kr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=fe(),t=J(),S=$e(),l=Q(),i={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:f})=>(0,t._)`{additionalProperty: ${f.additionalProperty}}`},code(f){const{gen:c,schema:h,parentSchema:$,data:y,errsCount:P,it:v}=f;if(!P)throw new Error("ajv implementation error");const{allErrors:g,opts:p}=v;if(v.props=!0,p.removeAdditional!=="all"&&(0,l.alwaysValidSchema)(v,h))return;const w=(0,e.allSchemaProperties)($.properties),s=(0,e.allSchemaProperties)($.patternProperties);o(),f.ok((0,t._)`${P} === ${S.default.errors}`);function o(){c.forIn("key",y,d=>{!w.length&&!s.length?m(d):c.if(r(d),()=>m(d))})}function r(d){let b;if(w.length>8){const j=(0,l.schemaRefOrVal)(v,$.properties,"properties");b=(0,e.isOwnProperty)(c,j,d)}else w.length?b=(0,t.or)(...w.map(j=>(0,t._)`${d} === ${j}`)):b=t.nil;return s.length&&(b=(0,t.or)(b,...s.map(j=>(0,t._)`${(0,e.usePattern)(f,j)}.test(${d})`))),(0,t.not)(b)}function a(d){c.code((0,t._)`delete ${y}[${d}]`)}function m(d){if(p.removeAdditional==="all"||p.removeAdditional&&h===!1){a(d);return}if(h===!1){f.setParams({additionalProperty:d}),f.error(),g||c.break();return}if(typeof h=="object"&&!(0,l.alwaysValidSchema)(v,h)){const b=c.name("valid");p.removeAdditional==="failing"?(n(d,b,!1),c.if((0,t.not)(b),()=>{f.reset(),a(d)})):(n(d,b),g||c.if((0,t.not)(b),()=>c.break()))}}function n(d,b,j){const C={keyword:"additionalProperties",dataProp:d,dataPropType:l.Type.Str};j===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),f.subschema(C,b)}}};return it.default=i,it}var ot={},Lr;function vs(){if(Lr)return ot;Lr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=St(),t=fe(),S=Q(),l=Sn(),_={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:f,schema:c,parentSchema:h,data:$,it:y}=i;y.opts.removeAdditional==="all"&&h.additionalProperties===void 0&&l.default.code(new e.KeywordCxt(y,l.default,"additionalProperties"));const P=(0,t.allSchemaProperties)(c);for(const s of P)y.definedProperties.add(s);y.opts.unevaluated&&P.length&&y.props!==!0&&(y.props=S.mergeEvaluated.props(f,(0,S.toHash)(P),y.props));const v=P.filter(s=>!(0,S.alwaysValidSchema)(y,c[s]));if(v.length===0)return;const g=f.name("valid");for(const s of v)p(s)?w(s):(f.if((0,t.propertyInData)(f,$,s,y.opts.ownProperties)),w(s),y.allErrors||f.else().var(g,!0),f.endIf()),i.it.definedProperties.add(s),i.ok(g);function p(s){return y.opts.useDefaults&&!y.compositeRule&&c[s].default!==void 0}function w(s){i.subschema({keyword:"properties",schemaProp:s,dataProp:s},g)}}};return ot.default=_,ot}var ut={},Hr;function _s(){if(Hr)return ut;Hr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=fe(),t=J(),S=Q(),l=Q(),_={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:f,schema:c,data:h,parentSchema:$,it:y}=i,{opts:P}=y,v=(0,e.allSchemaProperties)(c),g=v.filter(m=>(0,S.alwaysValidSchema)(y,c[m]));if(v.length===0||g.length===v.length&&(!y.opts.unevaluated||y.props===!0))return;const p=P.strictSchema&&!P.allowMatchingProperties&&$.properties,w=f.name("valid");y.props!==!0&&!(y.props instanceof t.Name)&&(y.props=(0,l.evaluatedPropsToName)(f,y.props));const{props:s}=y;o();function o(){for(const m of v)p&&r(m),y.allErrors?a(m):(f.var(w,!0),a(m),f.if(w))}function r(m){for(const n in p)new RegExp(m).test(n)&&(0,S.checkStrictMode)(y,`property ${n} matches pattern ${m} (use allowMatchingProperties)`)}function a(m){f.forIn("key",h,n=>{f.if((0,t._)`${(0,e.usePattern)(i,m)}.test(${n})`,()=>{const d=g.includes(m);d||i.subschema({keyword:"patternProperties",schemaProp:m,dataProp:n,dataPropType:l.Type.Str},w),y.opts.unevaluated&&s!==!0?f.assign((0,t._)`${s}[${n}]`,!0):!d&&!y.allErrors&&f.if((0,t.not)(w),()=>f.break())})})}}};return ut.default=_,ut}var ct={},Gr;function $s(){if(Gr)return ct;Gr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Q(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(S){const{gen:l,schema:_,it:i}=S;if((0,e.alwaysValidSchema)(i,_)){S.fail();return}const f=l.name("valid");S.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),S.failResult(f,()=>S.reset(),()=>S.error())},error:{message:"must NOT be valid"}};return ct.default=t,ct}var lt={},Jr;function ws(){if(Jr)return lt;Jr=1,Object.defineProperty(lt,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:fe().validateUnion,error:{message:"must match a schema in anyOf"}};return lt.default=t,lt}var dt={},Wr;function bs(){if(Wr)return dt;Wr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),t=Q(),l={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:_})=>(0,e._)`{passingSchemas: ${_.passing}}`},code(_){const{gen:i,schema:f,parentSchema:c,it:h}=_;if(!Array.isArray(f))throw new Error("ajv implementation error");if(h.opts.discriminator&&c.discriminator)return;const $=f,y=i.let("valid",!1),P=i.let("passing",null),v=i.name("_valid");_.setParams({passing:P}),i.block(g),_.result(y,()=>_.reset(),()=>_.error(!0));function g(){$.forEach((p,w)=>{let s;(0,t.alwaysValidSchema)(h,p)?i.var(v,!0):s=_.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&i.if((0,e._)`${v} && ${y}`).assign(y,!1).assign(P,(0,e._)`[${P}, ${w}]`).else(),i.if(v,()=>{i.assign(y,!0),i.assign(P,w),s&&_.mergeEvaluated(s,e.Name)})})}}};return dt.default=l,dt}var ft={},Br;function Es(){if(Br)return ft;Br=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=Q(),t={keyword:"allOf",schemaType:"array",code(S){const{gen:l,schema:_,it:i}=S;if(!Array.isArray(_))throw new Error("ajv implementation error");const f=l.name("valid");_.forEach((c,h)=>{if((0,e.alwaysValidSchema)(i,c))return;const $=S.subschema({keyword:"allOf",schemaProp:h},f);S.ok(f),S.mergeEvaluated($)})}};return ft.default=t,ft}var ht={},Qr;function Ss(){if(Qr)return ht;Qr=1,Object.defineProperty(ht,"__esModule",{value:!0});const e=J(),t=Q(),l={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:i})=>(0,e.str)`must match "${i.ifClause}" schema`,params:({params:i})=>(0,e._)`{failingKeyword: ${i.ifClause}}`},code(i){const{gen:f,parentSchema:c,it:h}=i;c.then===void 0&&c.else===void 0&&(0,t.checkStrictMode)(h,'"if" without "then" and "else" is ignored');const $=_(h,"then"),y=_(h,"else");if(!$&&!y)return;const P=f.let("valid",!0),v=f.name("_valid");if(g(),i.reset(),$&&y){const w=f.let("ifClause");i.setParams({ifClause:w}),f.if(v,p("then",w),p("else",w))}else $?f.if(v,p("then")):f.if((0,e.not)(v),p("else"));i.pass(P,()=>i.error(!0));function g(){const w=i.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);i.mergeEvaluated(w)}function p(w,s){return()=>{const o=i.subschema({keyword:w},v);f.assign(P,v),i.mergeValidEvaluated(o,P),s?f.assign(s,(0,e._)`${w}`):i.setParams({ifClause:w})}}}};function _(i,f){const c=i.schema[f];return c!==void 0&&!(0,t.alwaysValidSchema)(i,c)}return ht.default=l,ht}var mt={},Xr;function Ps(){if(Xr)return mt;Xr=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=Q(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:S,parentSchema:l,it:_}){l.if===void 0&&(0,e.checkStrictMode)(_,`"${S}" without "if" is ignored`)}};return mt.default=t,mt}var Yr;function Ns(){if(Yr)return tt;Yr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=bn(),t=hs(),S=En(),l=ms(),_=ps(),i=ys(),f=gs(),c=Sn(),h=vs(),$=_s(),y=$s(),P=ws(),v=bs(),g=Es(),p=Ss(),w=Ps();function s(o=!1){const r=[y.default,P.default,v.default,g.default,p.default,w.default,f.default,c.default,i.default,h.default,$.default];return o?r.push(t.default,l.default):r.push(e.default,S.default),r.push(_.default),r}return tt.default=s,tt}var pt={},yt={},Zr;function Rs(){if(Zr)return yt;Zr=1,Object.defineProperty(yt,"__esModule",{value:!0});const e=J(),S={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:l})=>(0,e.str)`must match format "${l}"`,params:({schemaCode:l})=>(0,e._)`{format: ${l}}`},code(l,_){const{gen:i,data:f,$data:c,schema:h,schemaCode:$,it:y}=l,{opts:P,errSchemaPath:v,schemaEnv:g,self:p}=y;if(!P.validateFormats)return;c?w():s();function w(){const o=i.scopeValue("formats",{ref:p.formats,code:P.code.formats}),r=i.const("fDef",(0,e._)`${o}[${$}]`),a=i.let("fType"),m=i.let("format");i.if((0,e._)`typeof ${r} == "object" && !(${r} instanceof RegExp)`,()=>i.assign(a,(0,e._)`${r}.type || "string"`).assign(m,(0,e._)`${r}.validate`),()=>i.assign(a,(0,e._)`"string"`).assign(m,r)),l.fail$data((0,e.or)(n(),d()));function n(){return P.strictSchema===!1?e.nil:(0,e._)`${$} && !${m}`}function d(){const b=g.$async?(0,e._)`(${r}.async ? await ${m}(${f}) : ${m}(${f}))`:(0,e._)`${m}(${f})`,j=(0,e._)`(typeof ${m} == "function" ? ${b} : ${m}.test(${f}))`;return(0,e._)`${m} && ${m} !== true && ${a} === ${_} && !${j}`}}function s(){const o=p.formats[h];if(!o){n();return}if(o===!0)return;const[r,a,m]=d(o);r===_&&l.pass(b());function n(){if(P.strictSchema===!1){p.logger.warn(j());return}throw new Error(j());function j(){return`unknown format "${h}" ignored in schema at path "${v}"`}}function d(j){const C=j instanceof RegExp?(0,e.regexpCode)(j):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(h)}`:void 0,D=i.scopeValue("formats",{key:h,ref:j,code:C});return typeof j=="object"&&!(j instanceof RegExp)?[j.type||"string",j.validate,(0,e._)`${D}.validate`]:["string",j,D]}function b(){if(typeof o=="object"&&!(o instanceof RegExp)&&o.async){if(!g.$async)throw new Error("async format in sync schema");return(0,e._)`await ${m}(${f})`}return typeof a=="function"?(0,e._)`${m}(${f})`:(0,e._)`${m}.test(${f})`}}}};return yt.default=S,yt}var xr;function Os(){if(xr)return pt;xr=1,Object.defineProperty(pt,"__esModule",{value:!0});const t=[Rs().default];return pt.default=t,pt}var Ee={},en;function ks(){return en||(en=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.contentVocabulary=Ee.metadataVocabulary=void 0,Ee.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ee.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ee}var tn;function js(){if(tn)return Ue;tn=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=es(),t=fs(),S=Ns(),l=Os(),_=ks(),i=[e.default,t.default,(0,S.default)(),l.default,_.metadataVocabulary,_.contentVocabulary];return Ue.default=i,Ue}var gt={},qe={},rn;function Ts(){if(rn)return qe;rn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(qe.DiscrError=e={})),qe}var nn;function Is(){if(nn)return gt;nn=1,Object.defineProperty(gt,"__esModule",{value:!0});const e=J(),t=Ts(),S=Ft(),l=Pt(),_=Q(),f={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:h}})=>c===t.DiscrError.Tag?`tag "${h}" must be string`:`value of tag "${h}" must be in oneOf`,params:({params:{discrError:c,tag:h,tagName:$}})=>(0,e._)`{error: ${c}, tag: ${$}, tagValue: ${h}}`},code(c){const{gen:h,data:$,schema:y,parentSchema:P,it:v}=c,{oneOf:g}=P;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=y.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(y.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const w=h.let("valid",!1),s=h.const("tag",(0,e._)`${$}${(0,e.getProperty)(p)}`);h.if((0,e._)`typeof ${s} == "string"`,()=>o(),()=>c.error(!1,{discrError:t.DiscrError.Tag,tag:s,tagName:p})),c.ok(w);function o(){const m=a();h.if(!1);for(const n in m)h.elseIf((0,e._)`${s} === ${n}`),h.assign(w,r(m[n]));h.else(),c.error(!1,{discrError:t.DiscrError.Mapping,tag:s,tagName:p}),h.endIf()}function r(m){const n=h.name("valid"),d=c.subschema({keyword:"oneOf",schemaProp:m},n);return c.mergeEvaluated(d,e.Name),n}function a(){var m;const n={},d=j(P);let b=!0;for(let V=0;V<g.length;V++){let L=g[V];if(L?.$ref&&!(0,_.schemaHasRulesButRef)(L,v.self.RULES)){const B=L.$ref;if(L=S.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,B),L instanceof S.SchemaEnv&&(L=L.schema),L===void 0)throw new l.default(v.opts.uriResolver,v.baseId,B)}const K=(m=L?.properties)===null||m===void 0?void 0:m[p];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);b=b&&(d||j(L)),C(K,V)}if(!b)throw new Error(`discriminator: "${p}" must be required`);return n;function j({required:V}){return Array.isArray(V)&&V.includes(p)}function C(V,L){if(V.const)D(V.const,L);else if(V.enum)for(const K of V.enum)D(K,L);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function D(V,L){if(typeof V!="string"||V in n)throw new Error(`discriminator: "${p}" values must be unique strings`);n[V]=L}}}};return gt.default=f,gt}const qs="http://json-schema.org/draft-07/schema#",Cs="http://json-schema.org/draft-07/schema#",As="Core schema meta-schema",Ms={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Ds=["object","boolean"],Vs={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Us={$schema:qs,$id:Cs,title:As,definitions:Ms,type:Ds,properties:Vs,default:!0};var sn;function Fs(){return sn||(sn=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const S=Yn(),l=js(),_=Is(),i=Us,f=["/properties"],c="http://json-schema.org/draft-07/schema";class h extends S.default{_addVocabularies(){super._addVocabularies(),l.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(_.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(i,f):i;this.addMetaSchema(p,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}t.Ajv=h,e.exports=t=h,e.exports.Ajv=h,Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var $=St();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return $.KeywordCxt}});var y=J();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return y._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return y.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return y.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return y.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return y.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return y.CodeGen}});var P=Ut();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return P.default}});var v=Pt();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Ce,Ce.exports)),Ce.exports}var zs=Fs();const Qs=kn(zs);export{Qs as A,Ws as a,Bs as b,zs as c,J as d,Fs as r};
