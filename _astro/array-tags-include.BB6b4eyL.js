import{p as O,l as Z,Y as q,m as T,Z as z,w as E,a3 as B,a0 as D,a4 as G,a1 as I,s as J,r as K,a2 as M}from"./definitions.Aq_eQFNs.js";import"./each.DVoDcEZv.js";import{p as w,j as h,h as _,b as p,a as A,g as r,u as i,Y as N}from"./render.xW19JsgD.js";import{a as Q}from"./assert.BVeiipos.js";import{s as R}from"./snippet.BQCjbj1G.js";const U="tagsField";function V(d,t){w(t,!0);const l=o=>{var a=h(),g=_(a);R(g,()=>r(F)??N,()=>e,()=>t.config,()=>({get current(){return n()},set current(s){n(s)}}),()=>r(v)),p(o,a)};let n=O(t,"value",15);const c="tagsWidget",e=Z(),u=i(()=>E(e,"fieldTemplate",t.config)),C=i(()=>E(e,c,t.config)),P=q(e,()=>t.config,()=>z(e,t.config,n())),x=i(()=>t.uiOption("collectErrors")??!1);let f;const W=i(()=>{const o=n()?.length??0,a=t.config.path;if(f?.length===o+1&&f[0]===a)return f;const g=[a];for(let s=0;s<o;s++)g.push(G(e,a,s));return g}),v=i(()=>r(x)?B(e,r(W)):D(e,t.config.path)),F=i(()=>I(e,t.config,U));var b=h(),Y=_(b);{let o=i(()=>r(F)&&l);T(Y,()=>r(u),(a,g)=>{g(a,{type:"template",showTitle:!0,useLabel:!0,widgetType:c,get uiOption(){return t.uiOption},get value(){return n()},get config(){return t.config},get errors(){return r(v)},get action(){return r(o)},children:(s,$)=>{var y=h(),j=_(y),k=()=>n()??void 0,H=m=>n(m);T(j,()=>r(C),(m,L)=>{L(m,{type:"widget",get config(){return t.config},get errors(){return r(v)},get uiOption(){return t.uiOption},get value(){return k()},set value(S){H(S)},get handlers(){return P}})}),p(s,y)},$$slots:{default:!0}})})}p(d,b),A()}function X(d,t){w(t,!0);let l=O(t,"value",15),n=K(t,["$$slots","$$events","$$legacy","value"]);var c=()=>(Q(l()),l()),e=u=>{l(u)};V(d,J(()=>n,{get value(){return c()},set value(u){e(u)}})),A()}M.arrayTagsField=X;
