import{al as D,o as Z,v as F,q as G,A as T,am as it,an as ot,ao as nt,ap as ut,g as u,aq as ft,ar as ct,Q as B,as as lt,at as dt,j as vt,au as bt,av as gt,aw as ht,ax as pt,ay as At,az as yt,l as q,h as Q,i as C,u as U,k as _t}from"./render.CCL00nPe.js";import{ah as H,ai as wt,aj as Et}from"./definitions.CiLYYhRm.js";function Ht(t,a){D(()=>{var r=t.getRootNode(),s=r.host?r:r.head??r.ownerDocument.head;if(!s.querySelector("#"+a.hash)){const e=document.createElement("style");e.id=a.hash,e.textContent=a.code,s.appendChild(e)}})}function It(t,a){var r=void 0,s;Z(()=>{r!==(r=a())&&(s&&(F(s),s=null),r&&(s=G(()=>{D(()=>r(t))})))})}function J(t){var a,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var e=t.length;for(a=0;a<e;a++)t[a]&&(r=J(t[a]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function St(){for(var t,a,r=0,s="",e=arguments.length;r<e;r++)(t=arguments[r])&&(a=J(t))&&(s&&(s+=" "),s+=a);return s}function Tt(t){return typeof t=="object"?St(t):t??""}const V=[...` 	
\r\fÂ \v\uFEFF`];function Ct(t,a,r){var s=t==null?"":""+t;if(a&&(s=s?s+" "+a:a),r){for(var e in r)if(r[e])s=s?s+" "+e:e;else if(s.length)for(var i=e.length,n=0;(n=s.indexOf(e,n))>=0;){var o=n+i;(n===0||V.includes(s[n-1]))&&(o===s.length||V.includes(s[o]))?s=(n===0?"":s.substring(0,n))+s.substring(o+1):n=o}}return s===""?null:s}function z(t,a=!1){var r=a?" !important;":";",s="";for(var e in t){var i=t[e];i!=null&&i!==""&&(s+=" "+e+": "+i+r)}return s}function k(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Pt(t,a){if(a){var r="",s,e;if(Array.isArray(a)?(s=a[0],e=a[1]):s=a,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,n=0,o=!1,f=[];s&&f.push(...Object.keys(s).map(k)),e&&f.push(...Object.keys(e).map(k));var d=0,l=-1;const p=t.length;for(var h=0;h<p;h++){var c=t[h];if(o?c==="/"&&t[h-1]==="*"&&(o=!1):i?i===c&&(i=!1):c==="/"&&t[h+1]==="*"?o=!0:c==='"'||c==="'"?i=c:c==="("?n++:c===")"&&n--,!o&&i===!1&&n===0){if(c===":"&&l===-1)l=h;else if(c===";"||h===p-1){if(l!==-1){var _=k(t.substring(d,l).trim());if(!f.includes(_)){c!==";"&&h++;var v=t.substring(d,h).trim();r+=" "+v+";"}}d=h+1,l=-1}}}}return s&&(r+=z(s)),e&&(r+=z(e,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Nt(t,a,r,s,e,i){var n=t.__className;if(T||n!==r||n===void 0){var o=Ct(r,s,i);(!T||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):a?t.className=o:t.setAttribute("class",o)),t.__className=r}else if(i&&e!==i)for(var f in i){var d=!!i[f];(e==null||d!==!!e[f])&&t.classList.toggle(f,d)}return i}function O(t,a={},r,s){for(var e in r){var i=r[e];a[e]!==i&&(r[e]==null?t.style.removeProperty(e):t.style.setProperty(e,i,s))}}function Rt(t,a,r,s){var e=t.__style;if(T||e!==a){var i=Pt(a,s);(!T||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=a}else s&&(Array.isArray(s)?(O(t,r?.[0],s[0]),O(t,r?.[1],s[1],"important")):O(t,r,s));return s}const R=Symbol("class"),L=Symbol("style"),x=Symbol("is custom element"),tt=Symbol("is html");function Lt(t){if(T){var a=!1,r=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var s=t.value;m(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var e=t.checked;m(t,"checked",null),t.checked=e}}};t.__on_r=r,pt(r),At()}}function mt(t,a){a?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function m(t,a,r,s){var e=rt(t);T&&(e[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||e[a]!==(e[a]=r)&&(a==="loading"&&(t[ot]=r),r==null?t.removeAttribute(a):typeof r!="string"&&et(t).includes(a)?t[a]=r:t.setAttribute(a,r))}function Ut(t,a,r,s,e=!1,i=!1){if(T&&e&&t.tagName==="INPUT"){var n=t,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in r||Lt(n)}var f=rt(t),d=f[x],l=!f[tt];let h=T&&d;h&&B(!1);var c=a||{},_=t.tagName==="OPTION";for(var v in a)v in r||(r[v]=null);r.class?r.class=Tt(r.class):(s||r[R])&&(r.class=null),r[L]&&(r.style??=null);var p=et(t);for(const b in r){let g=r[b];if(_&&b==="value"&&g==null){t.value=t.__value="",c[b]=g;continue}if(b==="class"){var A=t.namespaceURI==="http://www.w3.org/1999/xhtml";Nt(t,A,g,s,a?.[R],r[R]),c[b]=g,c[R]=r[R];continue}if(b==="style"){Rt(t,g,a?.[L],r[L]),c[b]=g,c[L]=r[L];continue}var N=c[b];if(!(g===N&&!(g===void 0&&t.hasAttribute(b)))){c[b]=g;var I=b[0]+b[1];if(I!=="$$")if(I==="on"){const E={},P="$$"+b;let y=b.slice(2);var S=yt(y);if(lt(y)&&(y=y.slice(0,-7),E.capture=!0),!S&&N){if(g!=null)continue;t.removeEventListener(y,c[P],E),c[P]=null}if(g!=null)if(S)t[`__${y}`]=g,vt([y]);else{let st=function(at){c[b].call(this,at)};c[P]=dt(y,t,st,E)}else S&&(t[`__${y}`]=void 0)}else if(b==="style")m(t,b,g);else if(b==="autofocus")bt(t,!!g);else if(!d&&(b==="__value"||b==="value"&&g!=null))t.value=t.__value=g;else if(b==="selected"&&_)mt(t,g);else{var w=b;l||(w=gt(w));var j=w==="defaultValue"||w==="defaultChecked";if(g==null&&!d&&!j)if(f[b]=null,w==="value"||w==="checked"){let E=t;const P=a===void 0;if(w==="value"){let y=E.defaultValue;E.removeAttribute(w),E.defaultValue=y,E.value=E.__value=P?y:null}else{let y=E.defaultChecked;E.removeAttribute(w),E.defaultChecked=y,E.checked=P?y:!1}}else t.removeAttribute(b);else j||p.includes(w)&&(d||typeof g!="string")?(t[w]=g,w in f&&(f[w]=ht)):typeof g!="function"&&m(t,w,g)}}}return h&&B(!0),c}function Vt(t,a,r=[],s=[],e,i=!1,n=!1){it(r,s,o=>{var f=void 0,d={},l=t.nodeName==="SELECT",h=!1;if(Z(()=>{var _=a(...o.map(u)),v=Ut(t,f,_,e,i,n);h&&l&&"value"in _&&H(t,_.value);for(let A of Object.getOwnPropertySymbols(d))_[A]||F(d[A]);for(let A of Object.getOwnPropertySymbols(_)){var p=_[A];A.description===ft&&(!f||p!==f[A])&&(d[A]&&F(d[A]),d[A]=G(()=>It(t,()=>p))),v[A]=p}f=v}),l){var c=t;D(()=>{H(c,f.value,!0),wt(c)})}h=!0})}function rt(t){return t.__attributes??={[x]:t.nodeName.includes("-"),[tt]:t.namespaceURI===nt}}var K=new Map;function et(t){var a=t.getAttribute("is")||t.nodeName,r=K.get(a);if(r)return r;K.set(a,r=[]);for(var s,e=t,i=Element.prototype;i!==e;){s=ct(e);for(var n in s)s[n].set&&r.push(n);e=ut(e)}return r}const W=()=>"abort",kt=({status:t})=>t!=="processing";class Ot{state;constructor(a){this.state=a}}class Ft{state;constructor(a){this.state=a}}function X(t){const a=U(()=>t.delayedMs??500),r=U(()=>t.timeoutMs??8e3),s=U(()=>t.combinator??kt);let e=Q({status:"idle"}),i,n;function o(){clearTimeout(i),clearTimeout(n)}function f(v){v.abortController.abort()}function d(v,p){if(u(e).status==="failed")throw new Ft(u(e));u(e).status==="processing"&&u(e).promise===v&&(o(),p())}function l(v){if(u(e).status==="processing"){if(v!=="abort")return u(e).abortController;f(u(e))}return new AbortController}async function h(v,p){if(v===!1)throw new Ot(u(e));const A=l(v),N=t.execute(A.signal,...p);if(v==="untrack")return N;const I=N.then(S=>(d(I,()=>{C(e,{status:"success"}),t.onSuccess?.(S,...p)}),S),S=>(d(I,()=>{C(e,{status:"failed",reason:"error",error:S}),t.onFailure?.(u(e),...p)}),Promise.reject(S)));return C(e,{status:"processing",delayed:_.isDelayed,args:p,promise:I,abortController:A}),o(),i=setTimeout(()=>{u(e).status!=="processing"||u(e).promise!==I||C(e,{...u(e),delayed:!0})},u(a)),n=setTimeout(()=>{u(e).status!=="processing"||u(e).promise!==I||(f(u(e)),C(e,{status:"failed",reason:"timeout"}),t.onFailure?.(u(e),...p))},u(r)),I}function c(v){return q(()=>h(u(s)(u(e)),v))}const _={get state(){return u(e)},get status(){return u(e).status},get isSuccess(){return u(e).status==="success"},get isFailed(){return u(e).status==="failed"},get isProcessed(){return u(e).status==="processing"},get isDelayed(){return u(e).status==="processing"&&u(e).delayed},matches(v){return u(e).status===v},run(...v){c(v).catch(Et)},runAsync(...v){return c(v)},abort(){q(()=>{if(u(e).status!=="processing")return;const{args:v}=u(e);f(u(e)),o(),C(e,{status:"failed",reason:"aborted"}),t.onFailure?.(u(e),...v)})}};return _}function zt([t,a]){return{get current(){return t()},set current(r){a(r)}}}function Kt({initialOutput:t,getInput:a,setInput:r,toInput:s,toOutput:e,isEqual:i=Object.is}){let n;const o=X({combinator:W,execute:s,onSuccess(l){n=l,r(l)}});let f=Q(t);const d=X({combinator:W,execute:e,onSuccess(l){C(f,l)}});return _t(()=>{const l=a();i(l,n)||(o.abort(),d.run(l))}),{get current(){return u(f)},set current(l){d.abort(),o.run(l)},get inputProcessing(){return o.isProcessed},get outputProcessing(){return d.isProcessed}}}const M="name=",Y="data:",$=";base64,",Mt=8192;function Dt(t,a="unknown"){if(!t.startsWith(Y))throw new Error("File is invalid: URI must be a dataURI");const s=t.slice(Y.length).split($);if(s.length!==2)throw new Error("File is invalid: dataURI must be base64");const[e,i]=s,n=e.split(";"),o={mime:n[0],name:a,base64content:i};if(n.length>1){const f=n.slice(1).find(d=>d.startsWith(M));f!==void 0&&(o.name=decodeURIComponent(f.substring(M.length)))}return o}function Wt(t,a=Mt){return async(r,s)=>{const{mime:e,base64content:i,name:n}=Dt(s);try{const o=atob(i);await t({signal:r});const f=new Uint8Array(o.length);for(let l=0;l<o.length;l++)l%a===0&&await t({signal:r}),f[l]=o.charCodeAt(l);return{blob:new Blob([f],{type:e}),name:n}}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?o:new Error("File is invalid: "+o.message)}}}function $t(t){return`;${M}${encodeURIComponent(t)}${$}`}function jt(t,a){const r=new FileReader,s=()=>{r.abort()};return t.addEventListener("abort",s),new Promise((e,i)=>{r.onerror=i,r.onabort=i,r.onload=n=>{let o=n.target?.result;if(typeof o!="string"){i(new Error("File is invalid: result must be a string"));return}o=o.replace($,$t(a.name)),e(o)},r.readAsDataURL(a)}).finally(()=>{t.removeEventListener("abort",s)})}const Xt=jt;export{L as S,It as a,Vt as b,X as c,Rt as d,Kt as e,Xt as f,W as g,St as h,Tt as i,Nt as j,Ht as k,Wt as l,mt as m,zt as r,m as s};
