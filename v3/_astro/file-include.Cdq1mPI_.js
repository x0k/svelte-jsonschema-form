import{ag as k,ah as E,q as P,ai as q,aj as H,p as I,n as W,V as A,o as w,W as S,w as y,Y as U,Z as B,a2 as M,$ as Y,a0 as Z,a3 as z}from"./definitions.B4_vGVaR.js";import"./_commonjsHelpers.C50WZpYe.js";import{p as C,l as p,e as T,b,a as R,g as d,u as f}from"./render.ByIQ4bwk.js";async function N(a,e,n,t){const{name:s,blob:i}=await a[k](e,t);n.items.add(new File([i],s,{type:i.type}))}function $(a,e,n,t){const s=[];for(const i of t)s.push(N(a,e,n,i));return Promise.all(s)}function D(a,e){return a.anyOf?[a.anyOf,e.anyOf]:[a.oneOf,e.oneOf]}function G(a,e,n,t){const s=t.enum,i=new Set(n("disabledEnumValues"));if(s){const r=n("enumNames");return s.map((o,u)=>{const g=r?.[u]??E(o);return{id:P(e.id,u,a),label:g,value:o,disabled:i.has(o)}})}const[m,O]=D(t,e.uiSchema);return m&&m.map((r,o)=>{if(typeof r=="boolean")throw new Error(`Invalid enum definition in anyOf ${o}`);const u=q(r),g=H(a,O?.[o])["ui:options"]?.title??r.title??E(u);return{id:P(e.id,o,a),schema:r,label:g,value:u,disabled:i.has(u)}})}function J(a,e){C(e,!0);let n=I(e,"value",15);const t=W(),s=f(()=>y(t,"fieldTemplate",e.config)),i="selectWidget",m=f(()=>y(t,i,e.config)),O=A(t,()=>S(t,e.config,n())),r=f(()=>G(t,e.config,e.uiOption,e.config.schema)??[]),o=f(()=>U(t,e.config.id));var u=p(),g=T(u);w(g,()=>d(s),(c,l)=>{l(c,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:i,get value(){return n()},get config(){return e.config},get errors(){return d(o)},children:(v,j)=>{var h=p(),F=T(h);w(F,()=>d(m),(_,L)=>{L(_,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return d(o)},get uiOption(){return e.uiOption},get options(){return d(r)},get value(){return n()},set value(V){n(V)}})}),b(v,h)},$$slots:{default:!0}})}),b(a,u),R()}B.enumField=J;function K(a,e){C(e,!0);let n=I(e,"value",15);const t=W(),s=f(()=>y(t,"fieldTemplate",e.config)),i="fileWidget",m=f(()=>y(t,i,e.config)),O=A(t,()=>S(t,e.config,n())),r=M({initialOutput:void 0,getInput:()=>n(),setInput:c=>n(c),async toOutput(c,l){const v=new DataTransfer;return l!==void 0&&await N(t,c,v,l),v.files},async toInput(c,l){if(!(l===void 0||l.length===0)){if(!await Y(c,t,e.config,l))throw new Z;return z(c,l[0])}}}),o=f(()=>U(t,e.config.id));var u=p(),g=T(u);w(g,()=>d(s),(c,l)=>{l(c,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:i,get value(){return n()},get config(){return e.config},get errors(){return d(o)},children:(v,j)=>{var h=p(),F=T(h);w(F,()=>d(m),(_,L)=>{L(_,{type:"widget",get processing(){return r.inputProcessing},get loading(){return r.outputProcessing},get uiOption(){return e.uiOption},get handlers(){return O},get errors(){return d(o)},get config(){return e.config},multiple:!1,get value(){return r.current},set value(V){r.current=V}})}),b(v,h)},$$slots:{default:!0}})}),b(a,u),R()}B.fileField=K;export{$ as a,G as c};
