const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["_astro/basic.N23SiPOQ.js","_astro/package.35zgxTcr.js","_astro/_commonjsHelpers.C50WZpYe.js","_astro/render.ByIQ4bwk.js","_astro/array.Be5mtBsQ.js","_astro/shared.FzfvnCJP.js","_astro/preload-helper.1-HTDuIo.js","_astro/buttons.DPXeq3S0.js","_astro/buttons_svelte_svelte_type_style_lang.DnHvcdqu.css","_astro/advanced-examples_svelte_svelte_type_style_lang.D6qetB7E.css","_astro/daisyui5.BM3Vvcfw.js","_astro/flowbite3.DtgbUGgJ.js","_astro/shadcn4.VgYt2Xub.js","_astro/skeleton3.ByJb36JS.js","_astro/markdown-description.CLqBvOiJ.js","_astro/async-combobox.DqBBfJ84.js","_astro/formulas.DBiIy029.js","_astro/native-form.BC3mrkS-.js","_astro/multi-step-native-form.C_jvTajN.js","_astro/sveltekit.FcV7o6eZ.js"])))=>i.map(i=>d[i]);
import{e as L}from"./_commonjsHelpers.C50WZpYe.js";import{p as ee,i as O,f as A,e as te,g as w,s as g,b as S,a as re,c as v,r as h,t as $,h as R,j as V}from"./render.ByIQ4bwk.js";import{u as ne,i as oe,b as k}from"./array.Be5mtBsQ.js";import{v as G,V as W,a as B,b as ie,E as m,c as se,T as ae,A as ce}from"./shared.FzfvnCJP.js";import{_ as s}from"./preload-helper.1-HTDuIo.js";import{l as le,B as de}from"./buttons.DPXeq3S0.js";/* empty css                                                                 */const ue=500,pe=20,_e=300,me="https://stackblitz.com",H=["angular-cli","create-react-app","html","javascript","node","polymer","typescript","vue"],fe=["project","search","ports","settings"],he=["light","dark"],Ee=["editor","preview"],K={clickToLoad:e=>b("ctl",e),devToolsHeight:e=>z("devtoolsheight",e),forceEmbedLayout:e=>b("embed",e),hideDevTools:e=>b("hidedevtools",e),hideExplorer:e=>b("hideExplorer",e),hideNavigation:e=>b("hideNavigation",e),openFile:e=>T("file",e),showSidebar:e=>ge("showSidebar",e),sidebarView:e=>N("sidebarView",e,fe),startScript:e=>T("startScript",e),terminalHeight:e=>z("terminalHeight",e),theme:e=>N("theme",e,he),view:e=>N("view",e,Ee),zenMode:e=>b("zenMode",e),organization:e=>`${T("orgName",e?.name)}&${T("orgProvider",e?.provider)}`,crossOriginIsolated:e=>b("corp",e)};function J(e={}){const t=Object.entries(e).map(([r,n])=>n!=null&&K.hasOwnProperty(r)?K[r](n):"").filter(Boolean);return t.length?`?${t.join("&")}`:""}function b(e,t){return t===!0?`${e}=1`:""}function ge(e,t){return typeof t=="boolean"?`${e}=${t?"1":"0"}`:""}function z(e,t){if(typeof t=="number"&&!Number.isNaN(t)){const r=Math.min(100,Math.max(0,t));return`${e}=${encodeURIComponent(Math.round(r))}`}return""}function N(e,t="",r=[]){return r.includes(t)?`${e}=${encodeURIComponent(t)}`:""}function T(e,t){return(Array.isArray(t)?t:[t]).filter(n=>typeof n=="string"&&n.trim()!=="").map(n=>`${e}=${encodeURIComponent(n)}`).join("&")}function Y(){return Math.random().toString(36).slice(2,6)+Math.random().toString(36).slice(2,6)}function F(e,t){return`${X(t)}${e}${J(t)}`}function C(e,t){const r={forceEmbedLayout:!0};return t&&typeof t=="object"&&Object.assign(r,t),`${X(r)}${e}${J(r)}`}function X(e={}){return(typeof e.origin=="string"?e.origin:me).replace(/\/$/,"")}function M(e,t,r){if(!t||!e||!e.parentNode)throw new Error("Invalid Element");e.id&&(t.id=e.id),e.className&&(t.className=e.className),ve(t,r),be(e,t,r),e.replaceWith(t)}function U(e){if(typeof e=="string"){const t=document.getElementById(e);if(!t)throw new Error(`Could not find element with id '${e}'`);return t}else if(e instanceof HTMLElement)return e;throw new Error(`Invalid element: ${e}`)}function x(e){return e&&e.newWindow===!1?"_self":"_blank"}function ve(e,t={}){const r=Object.hasOwnProperty.call(t,"height")?`${t.height}`:`${_e}`,n=Object.hasOwnProperty.call(t,"width")?`${t.width}`:void 0;e.setAttribute("height",r),n?e.setAttribute("width",n):e.setAttribute("style","width:100%;")}function be(e,t,r={}){const n=e.allow?.split(";")?.map(o=>o.trim())??[];r.crossOriginIsolated&&!n.includes("cross-origin-isolated")&&n.push("cross-origin-isolated"),n.length>0&&(t.allow=n.join("; "))}class we{constructor(t){this.pending={},this.port=t,this.port.onmessage=this.messageListener.bind(this)}request({type:t,payload:r}){return new Promise((n,o)=>{const i=Y();this.pending[i]={resolve:n,reject:o},this.port.postMessage({type:t,payload:{...r,__reqid:i}})})}messageListener(t){if(typeof t.data.payload?.__reqid!="string")return;const{type:r,payload:n}=t.data,{__reqid:o,__success:i,__error:c}=n;this.pending[o]&&(i?this.pending[o].resolve(this.cleanResult(n)):this.pending[o].reject(c?`${r}: ${c}`:r),delete this.pending[o])}cleanResult(t){const r={...t};return delete r.__reqid,delete r.__success,delete r.__error,Object.keys(r).length?r:null}}class ye{constructor(t,r){this.editor={openFile:n=>this._rdc.request({type:"SDK_OPEN_FILE",payload:{path:n}}),setCurrentFile:n=>this._rdc.request({type:"SDK_SET_CURRENT_FILE",payload:{path:n}}),setTheme:n=>this._rdc.request({type:"SDK_SET_UI_THEME",payload:{theme:n}}),setView:n=>this._rdc.request({type:"SDK_SET_UI_VIEW",payload:{view:n}}),showSidebar:(n=!0)=>this._rdc.request({type:"SDK_TOGGLE_SIDEBAR",payload:{visible:n}})},this.preview={origin:"",getUrl:()=>this._rdc.request({type:"SDK_GET_PREVIEW_URL",payload:{}}).then(n=>n?.url??null),setUrl:(n="/")=>{if(typeof n!="string"||!n.startsWith("/"))throw new Error(`Invalid argument: expected a path starting with '/', got '${n}'`);return this._rdc.request({type:"SDK_SET_PREVIEW_URL",payload:{path:n}})}},this._rdc=new we(t),Object.defineProperty(this.preview,"origin",{value:typeof r.previewOrigin=="string"?r.previewOrigin:null,writable:!1})}applyFsDiff(t){const r=n=>n!==null&&typeof n=="object";if(!r(t)||!r(t.create))throw new Error("Invalid diff object: expected diff.create to be an object.");if(!Array.isArray(t.destroy))throw new Error("Invalid diff object: expected diff.destroy to be an array.");return this._rdc.request({type:"SDK_APPLY_FS_DIFF",payload:t})}getDependencies(){return this._rdc.request({type:"SDK_GET_DEPS_SNAPSHOT",payload:{}})}getFsSnapshot(){return this._rdc.request({type:"SDK_GET_FS_SNAPSHOT",payload:{}})}}const D=[];class Pe{constructor(t){this.id=Y(),this.element=t,this.pending=new Promise((r,n)=>{const o=({data:a,ports:p})=>{a?.action==="SDK_INIT_SUCCESS"&&a.id===this.id&&(this.vm=new ye(p[0],a.payload),r(this.vm),c())},i=()=>{this.element.contentWindow?.postMessage({action:"SDK_INIT",id:this.id},"*")};function c(){window.clearInterval(_),window.removeEventListener("message",o)}window.addEventListener("message",o),i();let d=0;const _=window.setInterval(()=>{if(this.vm){c();return}if(d>=pe){c(),n("Timeout: Unable to establish a connection with the StackBlitz VM"),D.forEach((a,p)=>{a.id===this.id&&D.splice(p,1)});return}d++,i()},ue)}),D.push(this)}}const Se=e=>{const t=e instanceof Element?"element":"id";return D.find(r=>r[t]===e)??null};function Te(e,t){const r=document.createElement("input");return r.type="hidden",r.name=e,r.value=t,r}function De(e){return e.replace(/\[/g,"%5B").replace(/\]/g,"%5D")}function Q({template:e,title:t,description:r,dependencies:n,files:o,settings:i}){if(!H.includes(e)){const a=H.map(p=>`'${p}'`).join(", ");console.warn(`Unsupported project.template: must be one of ${a}`)}const c=[],d=(a,p,P="")=>{c.push(Te(a,typeof p=="string"?p:P))};d("project[title]",t),typeof r=="string"&&r.length>0&&d("project[description]",r),d("project[template]",e,"javascript"),n&&(e==="node"?console.warn("Invalid project.dependencies: dependencies must be provided as a 'package.json' file when using the 'node' template."):d("project[dependencies]",JSON.stringify(n))),i&&d("project[settings]",JSON.stringify(i)),Object.entries(o).forEach(([a,p])=>{d(`project[files][${De(a)}]`,p)});const _=document.createElement("form");return _.method="POST",_.setAttribute("style","display:none!important;"),_.append(...c),_}function Ae(e,t){const r=Q(e);return r.action=C("/run",t),r.id="sb_run",`<!doctype html>
<html>
<head><title></title></head>
<body>
  ${r.outerHTML}
  <script>document.getElementById('${r.id}').submit();<\/script>
</body>
</html>`}function Ie(e,t){const r=Q(e);r.action=F("/run",t),r.target=x(t),document.body.appendChild(r),r.submit(),document.body.removeChild(r)}function I(e){return e?.contentWindow?(Se(e)??new Pe(e)).pending:Promise.reject("Provided element is not an iframe.")}function je(e,t){Ie(e,t)}function Le(e,t){const r=F(`/edit/${e}`,t),n=x(t);window.open(r,n)}function Oe(e,t){const r=F(`/github/${e}`,t),n=x(t);window.open(r,n)}function $e(e,t,r){const n=U(e),o=Ae(t,r),i=document.createElement("iframe");return M(n,i,r),i.contentDocument?.write(o),I(i)}function Re(e,t,r){const n=U(e),o=document.createElement("iframe");return o.src=C(`/edit/${t}`,r),M(n,o,r),I(o)}function Ve(e,t,r){const n=U(e),o=document.createElement("iframe");return o.src=C(`/github/${t}`,r),M(n,o,r),I(o)}const ke={connect:I,embedGithubProject:Ve,embedProject:$e,embedProjectId:Re,openGithubProject:Oe,openProject:je,openProjectId:Le},Ne=["ajv","@sjsf/ajv8-validator"];function Fe(e,t){return{...e,dependencies:{...e.dependencies,...t.dependencies},devDependencies:{...e.devDependencies,...t.devDependencies}}}function Ce(e,t){return{plugins:{...e.plugins,...t.plugins}}}function Me(e,t){return{...e,...t,widgets:ne([...e.widgets??[],...t.widgets??[]])}}function Ue(e,t){return{package:e.package&&t.package?Fe(e.package,t.package):t.package??e.package,vite:e.vite&&t.vite?Ce(e.vite,t.vite):t.vite??e.vite,formDefaults:e.formDefaults&&t.formDefaults?Me(e.formDefaults,t.formDefaults):t.formDefaults??e.formDefaults,files:{...e.files,...t.files}}}function xe(e){return JSON.stringify(e,null,2)}function qe({plugins:e={}}){return`import { defineConfig } from 'vite';
${Object.entries(e).map(([t,r])=>`import ${r.import} from "${t}";`).join(`
`)}
export default defineConfig({
  plugins: [${Object.values(e).map(t=>t.call).join(", ")}]
})`}function Be({resolver:e="basic",theme:t="basic",validator:r="Ajv",widgets:n=[]}){const o=G(r),i=o?`
export { createFormValidator as createValidator } from "${o}";
`:"";return`export { resolver } from "@sjsf/form/resolvers/${e}";

export { theme } from "@sjsf/${t}-theme";
${n.map(c=>`import "@sjsf/${t}-theme/extra-widgets/${c}-include";`).join(`
`)}

export { translation } from "@sjsf/form/translations/en";

export { createFormMerger as createMerger } from "@sjsf/form/mergers/modern";
${i}`}function He(e){const t={...e.files};return e.package&&(t["package.json"]=xe(e.package)),e.vite&&(t["vite.config.js"]=qe(e.vite)),e.formDefaults&&(t["src/lib/form-defaults.ts"]=Be(e.formDefaults)),t}function Ke(e){return He(e.reduce(Ue))}function ze(e,t){const r=new Map(Object.entries(e.dependencies??{})),n=new Map(Object.entries(e.devDependencies??{}));for(const o of t)r.delete(o),n.delete(o);return{...e,dependencies:Object.fromEntries(r),devDependencies:Object.fromEntries(n)}}function pt(e){return ze(e,Ne)}const Ge="src/routes/+page.svelte";var q=(e=>(e.StackBlitz="StackBlitz",e.SvelteLab="SvelteLab",e))(q||{});const We=Object.values(q),Je=Object.fromEntries(W.map(e=>{const t=G(e);return[e,Promise.resolve({layer:{formDefaults:{validator:e},package:{dependencies:t?{[t]:ie,...B[e]}:B[e]}}})]})),Ye={basic:()=>[s(()=>import("./basic.N23SiPOQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))],daisyui5:()=>[s(()=>import("./tailwind4.C9eOpghx.js"),[]),s(()=>import("./daisyui5.BM3Vvcfw.js"),__vite__mapDeps([10,2,3,4,5,6,7,8,9]))],flowbite3:()=>[s(()=>import("./tailwind4.C9eOpghx.js"),[]),s(()=>import("./flowbite3.DtgbUGgJ.js"),__vite__mapDeps([11,2,3,4,5,6,7,8,9]))],shadcn4:()=>[s(()=>import("./tailwind4.C9eOpghx.js"),[]),s(()=>import("./shadcn4.VgYt2Xub.js"),__vite__mapDeps([12,2,3,4,5,6,7,8,9]))],skeleton3:()=>[s(()=>import("./tailwind4.C9eOpghx.js"),[]),s(()=>import("./skeleton3.ByJb36JS.js"),__vite__mapDeps([13,2,3,4,5,6,7,8,9]))]},Xe={[m.Starter]:()=>s(()=>import("./starter.ecHX87y3.js"),[]),[m.AnimatedArray]:()=>s(()=>import("./animated-array.9lMult5u.js"),[]),[m.MarkdownDescription]:()=>s(()=>import("./markdown-description.CLqBvOiJ.js"),__vite__mapDeps([14,2,3,4,5,6,7,8,9])),[m.TabbedLayout]:()=>s(()=>import("./tabbed-layout.DB8-jy2l.js"),[]),[m.AsyncCombobox]:()=>s(()=>import("./async-combobox.DqBBfJ84.js"),__vite__mapDeps([15,2,3,4,5,6,7,8,9])),[m.Formulas]:()=>s(()=>import("./formulas.DBiIy029.js"),__vite__mapDeps([16,2,3,4,5,6,7,8,9])),[m.PatternPropertiesValidator]:()=>s(()=>import("./pattern-properties-validator.CC5eAMer.js"),[]),[m.NativeForm]:()=>s(()=>import("./native-form.BC3mrkS-.js"),__vite__mapDeps([17,2,3,4,5,6,7,8,9])),[m.DecomposedField]:()=>s(()=>import("./decomposed-field._BmCGt96.js"),[]),[m.MultiStepNativeForm]:()=>s(()=>import("./multi-step-native-form.C_jvTajN.js"),__vite__mapDeps([18,2,3,4,5,6,7,8,9])),[m.LayoutSlots]:()=>s(()=>import("./layout-slots.D4BMSqak.js"),[]),[m.PreuploadFile]:()=>s(()=>import("./preupload-file.EmlCY_ue.js"),[])};async function Qe({example:e,theme:t,validator:r,platform:n}){const o=await Promise.all([s(()=>import("./sveltekit.FcV7o6eZ.js"),__vite__mapDeps([19,1,2,3,4,5,6,7,8,9])),...Ye[t](),Je[r],Xe[e]()]),i=Ke(o.map(c=>c.layer));switch(n){case"StackBlitz":return ke.openProject({title:`${e} (${t}, ${r})`,files:i,template:"node"},{openFile:Ge});case"SvelteLab":return Ze(i)}}function Ze(e){const t=le.compressToEncodedURIComponent(JSON.stringify(et(e))),n=`https://www.sveltelab.dev/#${new URLSearchParams([["code",t]]).toString()}`;window.open(n)}function et(e){const t={};for(const[r,n]of Object.entries(e)){const o=r.split("/");let i=t;for(let d=0;d<o.length-1;d++){const _=o[d];let a=i[_];(a===void 0||!("directory"in a))&&(a={directory:{}},i[_]=a),i=a.directory}const c=o[o.length-1];i[c]={file:{contents:n}}}return t}var tt=A("<option> </option>"),rt=A("<option> </option>"),nt=A("<option> </option>"),ot=A('<div class="pickers svelte-rlkin3"><button style="display: none;">Avoid starlight styles pollution</button> <label><span>Platform</span> <select class="svelte-rlkin3"></select></label> <label><span>Validator</span> <select class="svelte-rlkin3"></select></label> <label><span>Theme</span> <select class="svelte-rlkin3"></select></label></div> <!>',1);function _t(e,t){ee(t,!0);let r=O(q.StackBlitz),n=O("basic"),o=O("Ajv");var i=ot(),c=te(i),d=g(v(c),2),_=g(v(d),2);L(_,20,()=>We,l=>l,(l,f)=>{var u=tt(),y=v(u,!0);h(u);var E={};$(()=>{R(y,f),E!==(E=f)&&(u.value=(u.__value=f)??"")}),S(l,u)}),h(_),h(d);var a=g(d,2),p=g(v(a),2);L(p,20,()=>W,l=>l,(l,f)=>{var u=rt(),y=v(u,!0);h(u);var E={};$(()=>{R(y,f),E!==(E=f)&&(u.value=(u.__value=f)??"")}),S(l,u)}),h(p),h(a);var P=g(a,2),j=g(v(P),2);L(j,20,()=>ce,l=>l,(l,f)=>{var u=nt(),y=v(u,!0);h(u);var E={};$(()=>{R(y,ae[f]),E!==(E=f)&&(u.value=(u.__value=f)??"")}),S(l,u)}),h(j),h(P),h(c);var Z=g(c,2);de(Z,{get items(){return se},onClick:l=>{Qe({platform:w(r),example:l,theme:w(n),validator:w(o)})},get label(){return oe}}),k(_,()=>w(r),l=>V(r,l)),k(p,()=>w(o),l=>V(o,l)),k(j,()=>w(n),l=>V(n,l)),S(e,i),re()}export{_t as A,pt as o};
