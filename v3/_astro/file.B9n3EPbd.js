import{ao as F,n as W,q as k,o as X,z as S,ap as et,aq as st,ar as at,as as it,g as u,at as ot,au as nt,T as D,av as ut,aw as ft,d as ct,ax as lt,ay as dt,az as vt,aA as bt,aB as gt,aC as ht,I as $,i as Y,j as I,u as N,k as pt}from"./render.BvCbmumc.js";import{ae as j,af as At,ag as yt}from"./definitions.WtXJsyQU.js";function $t(t,a){F(()=>{var r=t.getRootNode(),s=r.host?r:r.head??r.ownerDocument.head;if(!s.querySelector("#"+a.hash)){const e=document.createElement("style");e.id=a.hash,e.textContent=a.code,s.appendChild(e)}})}function _t(t,a){var r=void 0,s;W(()=>{r!==(r=a())&&(s&&(k(s),s=null),r&&(s=X(()=>{F(()=>r(t))})))})}function Z(t){var a,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var e=t.length;for(a=0;a<e;a++)t[a]&&(r=Z(t[a]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function wt(){for(var t,a,r=0,s="",e=arguments.length;r<e;r++)(t=arguments[r])&&(a=Z(t))&&(s&&(s+=" "),s+=a);return s}function Et(t){return typeof t=="object"?wt(t):t??""}const B=[...` 	
\r\fÂ \v\uFEFF`];function It(t,a,r){var s=t==null?"":""+t;if(a&&(s=s?s+" "+a:a),r){for(var e in r)if(r[e])s=s?s+" "+e:e;else if(s.length)for(var i=e.length,n=0;(n=s.indexOf(e,n))>=0;){var o=n+i;(n===0||B.includes(s[n-1]))&&(o===s.length||B.includes(s[o]))?s=(n===0?"":s.substring(0,n))+s.substring(o+1):n=o}}return s===""?null:s}function q(t,a=!1){var r=a?" !important;":";",s="";for(var e in t){var i=t[e];i!=null&&i!==""&&(s+=" "+e+": "+i+r)}return s}function m(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function St(t,a){if(a){var r="",s,e;if(Array.isArray(a)?(s=a[0],e=a[1]):s=a,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,n=0,o=!1,l=[];s&&l.push(...Object.keys(s).map(m)),e&&l.push(...Object.keys(e).map(m));var f=0,d=-1;const b=t.length;for(var p=0;p<b;p++){var g=t[p];if(o?g==="/"&&t[p-1]==="*"&&(o=!1):i?i===g&&(i=!1):g==="/"&&t[p+1]==="*"?o=!0:g==='"'||g==="'"?i=g:g==="("?n++:g===")"&&n--,!o&&i===!1&&n===0){if(g===":"&&d===-1)d=p;else if(g===";"||p===b-1){if(d!==-1){var w=m(t.substring(f,d).trim());if(!l.includes(w)){g!==";"&&p++;var v=t.substring(f,p).trim();r+=" "+v+";"}}f=p+1,d=-1}}}}return s&&(r+=q(s)),e&&(r+=q(e,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Tt(t,a,r,s,e,i){var n=t.__className;if(S||n!==r||n===void 0){var o=It(r,s,i);(!S||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):a?t.className=o:t.setAttribute("class",o)),t.__className=r}else if(i&&e!==i)for(var l in i){var f=!!i[l];(e==null||f!==!!e[l])&&t.classList.toggle(l,f)}return i}function U(t,a={},r,s){for(var e in r){var i=r[e];a[e]!==i&&(r[e]==null?t.style.removeProperty(e):t.style.setProperty(e,i,s))}}function Ct(t,a,r,s){var e=t.__style;if(S||e!==a){var i=St(a,s);(!S||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=a}else s&&(Array.isArray(s)?(U(t,r?.[0],s[0]),U(t,r?.[1],s[1],"important")):U(t,r,s));return s}const P=Symbol("class"),R=Symbol("style"),G=Symbol("is custom element"),J=Symbol("is html");function jt(t){if(S){var a=!1,r=()=>{if(!a){if(a=!0,t.hasAttribute("value")){var s=t.value;L(t,"value",null),t.value=s}if(t.hasAttribute("checked")){var e=t.checked;L(t,"checked",null),t.checked=e}}};t.__on_r=r,bt(r),gt()}}function Pt(t,a){a?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function L(t,a,r,s){var e=Q(t);S&&(e[a]=t.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&t.nodeName==="LINK")||e[a]!==(e[a]=r)&&(a==="loading"&&(t[st]=r),r==null?t.removeAttribute(a):typeof r!="string"&&x(t).includes(a)?t[a]=r:t.setAttribute(a,r))}function Rt(t,a,r,s,e=!1){var i=Q(t),n=i[G],o=!i[J];let l=S&&n;l&&D(!1);var f=a||{},d=t.tagName==="OPTION";for(var p in a)p in r||(r[p]=null);r.class?r.class=Et(r.class):(s||r[P])&&(r.class=null),r[R]&&(r.style??=null);var g=x(t);for(const c in r){let h=r[c];if(d&&c==="value"&&h==null){t.value=t.__value="",f[c]=h;continue}if(c==="class"){var w=t.namespaceURI==="http://www.w3.org/1999/xhtml";Tt(t,w,h,s,a?.[P],r[P]),f[c]=h,f[P]=r[P];continue}if(c==="style"){Ct(t,h,a?.[R],r[R]),f[c]=h,f[R]=r[R];continue}var v=f[c];if(!(h===v&&!(h===void 0&&t.hasAttribute(c)))){f[c]=h;var b=c[0]+c[1];if(b!=="$$")if(b==="on"){const _={},C="$$"+c;let y=c.slice(2);var T=ht(y);if(ut(y)&&(y=y.slice(0,-7),_.capture=!0),!T&&v){if(h!=null)continue;t.removeEventListener(y,f[C],_),f[C]=null}if(h!=null)if(T)t[`__${y}`]=h,ct([y]);else{let tt=function(rt){f[c].call(this,rt)};f[C]=ft(y,t,tt,_)}else T&&(t[`__${y}`]=void 0)}else if(c==="style")L(t,c,h);else if(c==="autofocus")lt(t,!!h);else if(!n&&(c==="__value"||c==="value"&&h!=null))t.value=t.__value=h;else if(c==="selected"&&d)Pt(t,h);else{var A=c;o||(A=dt(A));var E=A==="defaultValue"||A==="defaultChecked";if(h==null&&!n&&!E)if(i[c]=null,A==="value"||A==="checked"){let _=t;const C=a===void 0;if(A==="value"){let y=_.defaultValue;_.removeAttribute(A),_.defaultValue=y,_.value=_.__value=C?y:null}else{let y=_.defaultChecked;_.removeAttribute(A),_.defaultChecked=y,_.checked=C?y:!1}}else t.removeAttribute(c);else E||g.includes(A)&&(n||typeof h!="string")?(t[A]=h,A in i&&(i[A]=vt)):typeof h!="function"&&L(t,A,h)}}}return l&&D(!0),f}function Bt(t,a,r=[],s=[],e,i=!1){et(r,s,n=>{var o=void 0,l={},f=t.nodeName==="SELECT",d=!1;if(W(()=>{var g=a(...n.map(u)),w=Rt(t,o,g,e,i);d&&f&&"value"in g&&j(t,g.value);for(let b of Object.getOwnPropertySymbols(l))g[b]||k(l[b]);for(let b of Object.getOwnPropertySymbols(g)){var v=g[b];b.description===ot&&(!o||v!==o[b])&&(l[b]&&k(l[b]),l[b]=X(()=>_t(t,()=>v))),w[b]=v}o=w}),f){var p=t;F(()=>{j(p,o.value,!0),At(p)})}d=!0})}function Q(t){return t.__attributes??={[G]:t.nodeName.includes("-"),[J]:t.namespaceURI===at}}var z=new Map;function x(t){var a=t.getAttribute("is")||t.nodeName,r=z.get(a);if(r)return r;z.set(a,r=[]);for(var s,e=t,i=Element.prototype;i!==e;){s=nt(e);for(var n in s)s[n].set&&r.push(n);e=it(e)}return r}const H=()=>"abort",Lt=({status:t})=>t!=="processing";class Nt{state;constructor(a){this.state=a}}class mt{state;constructor(a){this.state=a}}function K(t){const a=N(()=>t.delayedMs??500),r=N(()=>t.timeoutMs??8e3),s=N(()=>t.combinator??Lt);let e=Y({status:"idle"}),i,n;function o(){clearTimeout(i),clearTimeout(n)}function l(v){v.abortController.abort()}function f(v,b){if(u(e).status==="failed")throw new mt(u(e));u(e).status==="processing"&&u(e).promise===v&&(o(),b())}function d(v){if(u(e).status==="processing"){if(v!=="abort")return u(e).abortController;l(u(e))}return new AbortController}async function p(v,b){if(v===!1)throw new Nt(u(e));const T=d(v),A=t.execute(T.signal,...b);if(v==="untrack")return A;const E=A.then(c=>(f(E,()=>{I(e,{status:"success"}),t.onSuccess?.(c,...b)}),c),c=>(f(E,()=>{I(e,{status:"failed",reason:"error",error:c}),t.onFailure?.(u(e),...b)}),Promise.reject(c)));return I(e,{status:"processing",delayed:w.isDelayed,args:b,promise:E,abortController:T}),o(),i=setTimeout(()=>{u(e).status!=="processing"||u(e).promise!==E||I(e,{...u(e),delayed:!0})},u(a)),n=setTimeout(()=>{u(e).status!=="processing"||u(e).promise!==E||(l(u(e)),I(e,{status:"failed",reason:"timeout"}),t.onFailure?.(u(e),...b))},u(r)),E}function g(v){return $(()=>p(u(s)(u(e)),v))}const w={get state(){return u(e)},get status(){return u(e).status},get isSuccess(){return u(e).status==="success"},get isFailed(){return u(e).status==="failed"},get isProcessed(){return u(e).status==="processing"},get isDelayed(){return u(e).status==="processing"&&u(e).delayed},matches(v){return u(e).status===v},run(...v){g(v).catch(yt)},runAsync(...v){return g(v)},abort(){$(()=>{if(u(e).status!=="processing")return;const{args:v}=u(e);l(u(e)),o(),I(e,{status:"failed",reason:"aborted"}),t.onFailure?.(u(e),...v)})}};return w}function qt([t,a]){return{get current(){return t()},set current(r){a(r)}}}function zt({initialOutput:t,getInput:a,setInput:r,toInput:s,toOutput:e,isEqual:i=Object.is}){let n;const o=K({combinator:H,execute:s,onSuccess(d){n=d,r(d)}});let l=Y(t);const f=K({combinator:H,execute:e,onSuccess(d){I(l,d)}});return pt(()=>{const d=a();i(d,n)||(o.abort(),f.run(d))}),{get current(){return u(l)},set current(d){f.abort(),o.run(d)},get inputProcessing(){return o.isProcessed},get outputProcessing(){return f.isProcessed}}}const O="name=",V="data:",M=";base64,",Ut=8192;function kt(t,a="unknown"){if(!t.startsWith(V))throw new Error("File is invalid: URI must be a dataURI");const s=t.slice(V.length).split(M);if(s.length!==2)throw new Error("File is invalid: dataURI must be base64");const[e,i]=s,n=e.split(";"),o={mime:n[0],name:a,base64content:i};if(n.length>1){const l=n.slice(1).find(f=>f.startsWith(O));l!==void 0&&(o.name=decodeURIComponent(l.substring(O.length)))}return o}function Ht(t,a=Ut){return async(r,s)=>{const{mime:e,base64content:i,name:n}=kt(s);try{const o=atob(i);await t({signal:r});const l=new Uint8Array(o.length);for(let d=0;d<o.length;d++)d%a===0&&await t({signal:r}),l[d]=o.charCodeAt(d);return{blob:new Blob([l],{type:e}),name:n}}catch(o){throw o instanceof DOMException&&o.name==="AbortError"?o:new Error("File is invalid: "+o.message)}}}function Ot(t){return`;${O}${encodeURIComponent(t)}${M}`}function Ft(t,a){const r=new FileReader,s=()=>{r.abort()};return t.addEventListener("abort",s),new Promise((e,i)=>{r.onerror=i,r.onabort=i,r.onload=n=>{let o=n.target?.result;if(typeof o!="string"){i(new Error("File is invalid: result must be a string"));return}o=o.replace(M,Ot(a.name)),e(o)},r.readAsDataURL(a)}).finally(()=>{t.removeEventListener("abort",s)})}const Kt=Ft;export{R as S,_t as a,Bt as b,K as c,zt as d,Ct as e,Kt as f,H as g,wt as h,Et as i,Tt as j,$t as k,Ht as l,qt as m,Pt as n,jt as r,L as s};
