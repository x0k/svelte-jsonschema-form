import{e as S}from"./_commonjsHelpers.B51_3taw.js";import{p as _,m as F,d as O,g as r,u as v,b as m,a as y,f as W,ak as V,c as q,s as z,r as B,t as G,e as I}from"./render.CCL00nPe.js";import{p as w,g as k,m as J,v as K,c as A,d as N,j as Q,a0 as U,a1 as X}from"./definitions.CiLYYhRm.js";import{c as Y,g as Z,b as P}from"./file.BSwbAV2K.js";import{g as p,l as $,f as E,n as ee,i as j,d as te,m as ae,e as ne}from"./en.C0Rhdouv.js";function me(u,e){return function(s,a){const l=new Proxy(a,{get(t,i,c){const d=e[i];if(d!==void 0){const{transform:n}=d;if(n!==void 0)return n(t)}return Reflect.get(t,i,c)},set(t,i,c,d){const n=e[i];if(n!==void 0&&"recover"in n){const{recover:f}=n;if(f!==void 0)return f(t,c),!0}return Reflect.set(t,i,c,d)},has(t,i){return Reflect.has(t,i)||e?.[i]?.transform!==void 0}});return u(s,l)}}function be(u,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>N(a,"fieldTemplate",e.config)),t="fileWidget",i=v(()=>N(a,t,e.config)),c=J(a,()=>e.config,()=>K(a,e.config,s())),d=v(()=>Q(a,e.config.id)),n=Y({combinator:Z,async execute(g,o){if(!(o===void 0||o.length===0)){if(!await U(g,a,e.config,o))throw new X;return o[0]}},onSuccess(g){s(g)}});var f=F(),b=O(f);A(b,()=>r(l),(g,o)=>{o(g,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:t,get value(){return s()},get config(){return e.config},get errors(){return r(d)},children:(T,L)=>{var R=F(),C=O(R),D=()=>{const x=s(),h=new DataTransfer;return x&&h.items.add(x),h.files},H=n.run;A(C,()=>r(i),(x,h)=>{h(x,{type:"widget",get value(){return D()},set value(M){H(M)},get processing(){return n.isProcessed},loading:!1,get uiOption(){return e.uiOption},get handlers(){return c},get errors(){return r(d)},get config(){return e.config},multiple:!1})}),m(T,R)},$$slots:{default:!0}})}),m(u,f),y()}var ie=W("<textarea></textarea>");function re(u,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>$(a,e.config,"textarea",e.handlers,{style:"flex-grow: 1;"}));var t=ie();V(t),P(t,()=>({...r(l)})),p(t,s),m(u,t),y()}E.textareaWidget=re;var se=W("<input/>");function oe(u,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>j(a,e.config,"file",e.handlers,{multiple:e.multiple,style:"flex-grow: 1","data-loading":e.loading,"data-processing":e.processing}));var t=se();P(t,()=>({type:"file",...r(l)}),void 0,void 0,void 0,!0),ee(t,s),m(u,t),y()}E.fileWidget=oe;var ue=W("<label><input/> </label>");function le(u,e){_(e,!0);const s=[];let a=w(e,"value",15);const l=k(),t=v(()=>j(l,e.config,"checkboxes",e.handlers,{type:"checkbox"})),i=ae({mapper:()=>ne(e.options),value:()=>a(),update:n=>a(n)});var c=F(),d=O(c);S(d,19,()=>e.options,n=>n.id,(n,f,b)=>{var g=ue(),o=q(g);P(o,()=>({value:r(b),...r(t),id:r(f).id,disabled:r(f).disabled||r(t).disabled}),void 0,void 0,void 0,!0);var T=z(o);B(g),G(()=>I(T,` ${r(f).label??""}`)),te(s,[],o,()=>(r(b),i.value),L=>i.value=L),m(n,g)}),m(u,c),y()}E.checkboxesWidget=le;export{be as N,me as c};
