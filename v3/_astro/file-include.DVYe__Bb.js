import{a9 as N,aa as C,t as k,ab as j,ac as q,p as P,o as W,R as S,q as y,W as I,x as w,X as U,Y as p,ad as H,U as X,V as Y}from"./definitions.WtXJsyQU.js";import"./_commonjsHelpers.DeY__IKx.js";import{p as A,l as T,e as b,b as _,a as R,g as c,u as d}from"./render.BvCbmumc.js";import{d as z,f as D}from"./file.B9n3EPbd.js";async function x(i,e,n,t){const{name:g,blob:r}=await i[N](e,t);n.items.add(new File([r],g,{type:r.type}))}function ne(i,e,n,t){const g=[];for(const r of t)g.push(x(i,e,n,r));return Promise.all(g)}function G(i,e){return i.anyOf?[i.anyOf,e.anyOf]:[i.oneOf,e.oneOf]}function M(i,e,n,t){const g=t.enum,r=new Set(n("disabledEnumValues"));if(g){const o=n("enumNames");return g.map((a,u)=>{const f=o?.[u]??C(a);return{id:k(e.id,u,i),label:f,value:a,disabled:r.has(a)}})}const[m,O]=G(t,e.uiSchema);return m&&m.map((o,a)=>{if(typeof o=="boolean")throw new Error(`Invalid enum definition in anyOf ${a}`);const u=j(o),f=q(i,O?.[a])["ui:options"]?.title??o.title??C(u);return{id:k(e.id,a,i),schema:o,label:f,value:u,disabled:r.has(u)}})}function J(i,e){A(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>w(t,"fieldTemplate",e.config)),r="selectWidget",m=d(()=>w(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=d(()=>M(t,e.config,e.uiOption,e.config.schema)??[]),a=d(()=>U(t,e.config.id));var u=T(),f=b(u);y(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,B)=>{var h=T(),F=b(h);y(F,()=>c(m),(L,V)=>{V(L,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return c(a)},get uiOption(){return e.uiOption},get options(){return c(o)},get value(){return n()},set value(E){n(E)}})}),_(v,h)},$$slots:{default:!0}})}),_(i,u),R()}p.enumField=J;function K(i,e){A(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>w(t,"fieldTemplate",e.config)),r="checkboxesWidget",m=d(()=>w(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=d(()=>{const{items:s}=e.config.schema,l=H(s)?s:{};return M(t,e.config,e.uiOption,l)??[]}),a=d(()=>U(t,e.config.id));var u=T(),f=b(u);y(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!1,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,B)=>{var h=T(),F=b(h);y(F,()=>c(m),(L,V)=>{V(L,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return c(a)},get options(){return c(o)},get uiOption(){return e.uiOption},get value(){return n()},set value(E){n(E)}})}),_(v,h)},$$slots:{default:!0}})}),_(i,u),R()}p.multiEnumField=K;function Q(i,e){A(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>w(t,"fieldTemplate",e.config)),r="fileWidget",m=d(()=>w(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=z({initialOutput:void 0,getInput:()=>n(),setInput:s=>n(s),async toOutput(s,l){const v=new DataTransfer;return l!==void 0&&await x(t,s,v,l),v.files},async toInput(s,l){if(!(l===void 0||l.length===0)){if(!await X(s,t,e.config,l))throw new Y;return D(s,l[0])}}}),a=d(()=>U(t,e.config.id));var u=T(),f=b(u);y(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,B)=>{var h=T(),F=b(h);y(F,()=>c(m),(L,V)=>{V(L,{type:"widget",get processing(){return o.inputProcessing},get loading(){return o.outputProcessing},get uiOption(){return e.uiOption},get handlers(){return O},get errors(){return c(a)},get config(){return e.config},multiple:!1,get value(){return o.current},set value(E){o.current=E}})}),_(v,h)},$$slots:{default:!0}})}),_(i,u),R()}p.fileField=Q;export{ne as a};
