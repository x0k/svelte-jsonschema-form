import{a9 as q,aa as B,t as C,ab as H,ac as X,k as P,o as W,R as S,q as w,W as I,x as b,X as U,Y as A,ad as Y,U as z,V as D}from"./definitions.DyoCK2HG.js";import"./_commonjsHelpers.B5dSTXEY.js";import{p as R,l as T,d as _,b as F,a as k,g as c,u as d}from"./render.DqqfR5yS.js";import{d as G,f as J}from"./file.CGtKcauJ.js";async function x(i,e,n,t){const{name:g,blob:r}=await i[q](e,t);n.items.add(new File([r],g,{type:r.type}))}function re(i,e,n,t){const g=[];for(const r of t)g.push(x(i,e,n,r));return Promise.all(g)}function K(i,e){return i.anyOf?[i.anyOf,e.anyOf]:[i.oneOf,e.oneOf]}function M(i,e,n,t){const g=t.enum,r=new Set(n("disabledEnumValues"));if(g){const o=n("enumNames");return g.map((a,u)=>{const f=o?.[u]??B(a);return{id:C(e.id,u,i),label:f,value:a,disabled:r.has(a)}})}const[m,O]=K(t,e.uiSchema);return m&&m.map((o,a)=>{if(typeof o=="boolean")throw new Error(`Invalid enum definition in anyOf ${a}`);const u=H(o),f=X(i,O?.[a])["ui:options"]?.title??o.title??B(u);return{id:C(e.id,a,i),schema:o,label:f,value:u,disabled:r.has(u)}})}function Q(i,e){R(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>b(t,"fieldTemplate",e.config)),r="selectWidget",m=d(()=>b(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=d(()=>M(t,e.config,e.uiOption,e.config.schema)??[]),a=d(()=>U(t,e.config.id));var u=T(),f=_(u);w(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,p)=>{var h=T(),L=_(h);w(L,()=>c(m),(V,E)=>{E(V,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return c(a)},get uiOption(){return e.uiOption},get options(){return c(o)},get value(){return n()},set value(y){n(y)}})}),F(v,h)},$$slots:{default:!0}})}),F(i,u),k()}A.enumField=Q;function Z(i,e){R(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>b(t,"fieldTemplate",e.config)),r="checkboxesWidget",m=d(()=>b(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=d(()=>{const{items:s}=e.config.schema,l=Y(s)?s:{};return M(t,e.config,e.uiOption,l)??[]}),a=d(()=>U(t,e.config.id));var u=T(),f=_(u);w(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!1,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,p)=>{var h=T(),L=_(h),V=()=>n()??void 0,E=y=>n(y);w(L,()=>c(m),(y,N)=>{N(y,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return c(a)},get value(){return V()},set value(j){E(j)},get options(){return c(o)},get uiOption(){return e.uiOption}})}),F(v,h)},$$slots:{default:!0}})}),F(i,u),k()}A.multiEnumField=Z;function $(i,e){R(e,!0);let n=P(e,"value",15);const t=W(),g=d(()=>b(t,"fieldTemplate",e.config)),r="fileWidget",m=d(()=>b(t,r,e.config)),O=S(t,()=>I(t,e.config,n())),o=G({initialOutput:void 0,getInput:()=>n(),setInput:s=>n(s),async toOutput(s,l){const v=new DataTransfer;return l&&await x(t,s,v,l),v.files},async toInput(s,l){if(!(l===void 0||l.length===0)){if(!await z(s,t,e.config,l))throw new D;return J(s,l[0])}}}),a=d(()=>U(t,e.config.id));var u=T(),f=_(u);w(f,()=>c(g),(s,l)=>{l(s,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return c(a)},children:(v,p)=>{var h=T(),L=_(h);w(L,()=>c(m),(V,E)=>{E(V,{type:"widget",get processing(){return o.inputProcessing},get loading(){return o.outputProcessing},get uiOption(){return e.uiOption},get handlers(){return O},get errors(){return c(a)},get config(){return e.config},multiple:!1,get value(){return o.current},set value(y){o.current=y}})}),F(v,h)},$$slots:{default:!0}})}),F(i,u),k()}A.fileField=$;export{re as a};
