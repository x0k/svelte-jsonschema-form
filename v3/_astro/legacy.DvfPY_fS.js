import{p as I,m as C,U as D,Z as L,_ as U,n as m,V as W,w as p,X as k,Y as q}from"./definitions.D5Ab5kbL.js";import"./_commonjsHelpers.CZ3AZj88.js";import{p as B,l as y,e as v,b as h,a as H,g as o,u,a2 as R}from"./render.C_uzIxE0.js";import{a as V}from"./file-include.DHDQBOjI.js";function X(_,n){B(n,!0);let i=I(n,"value",15);const a=C(),w=u(()=>p(a,"fieldTemplate",n.config)),l="fileWidget",A=u(()=>p(a,l,n.config)),F=D(a,()=>W(a,n.config,i())),s=L({initialOutput:void 0,getInput:()=>i(),setInput:e=>i(e),isEqual:(e,t)=>e===void 0&&t===void 0||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,c)=>r===t[c]),async toOutput(e,t){const r=new DataTransfer;return t!==void 0&&await V(a,e,r,t),r.files},async toInput(e,t){return t&&Promise.all(Array.from(t).map(r=>U(e,r)))}}),g=u(()=>k(a,n.config.id));var d=y(),O=v(d);m(O,()=>o(w),(e,t)=>{t(e,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return n.uiOption},widgetType:l,get value(){return i()},get config(){return n.config},get errors(){return o(g)},children:(r,c)=>{var f=y(),T=v(f);m(T,()=>o(A),(P,x)=>{x(P,{type:"widget",get processing(){return s.inputProcessing},get loading(){return s.outputProcessing},get uiOption(){return n.uiOption},get handlers(){return F},get errors(){return o(g)},get config(){return n.config},multiple:!0,get value(){return s.current},set value(E){s.current=E}})}),h(r,f)},$$slots:{default:!0}})}),h(_,d),H()}q.filesField=X;R();export{X as F};
