import"./_commonjsHelpers.DvvQDrIL.js";import{p as C,l as _,d as b,b as p,a as P,g as e,u as s,f as L,c as B,s as T,M as j,r as k}from"./render.ChLMm5WM.js";import{p as D,a as N,i as z,x as G,n as K,y as h,C as V,D as J,o as Q,z as W,A as X,E as Y,t as Z,G as $,B as ee,H as te,u as d,I as re}from"./definitions.C7t8cJ2O.js";import{b as ne,h as ae}from"./en.BR_Zx-0F.js";import{s as oe}from"./snippet.CQNiX10L.js";import{g as w}from"./path.CvwSynq6.js";import{d as ie}from"./defaults.OcFXEHzi.js";import"./function.Dn-kfttI.js";import"./file-include.Cz7Fn792.js";import"./file-include.NgssdqaN.js";import"./validator.DzIzG6hf.js";import"./ajv.DM6O0k-C.js";function x(v,o){C(o,!0);const r=D(o,"form",7),n=s(()=>o.name===""?[]:o.name.split(".")),c=s(()=>te(e(n),r())),m=s(()=>{if(e(n).length===0)return{get value(){return r()[h]},set value(l){r()[h]=l}};let t=r()[h],a=-1;const i=e(n).length-1;for(;V(t)&&++a<i;)t=t[e(n)[a]];if(a!==i)throw console.error("Current form state",J(r()[h])),new Error(`Path "${o.name}" is not populated or invalid, check current form state`);const u=e(n)[i];return{get value(){return t[u]},set value(l){t[u]=l}}}),g=s(()=>{if(e(n).length<2)return r()[d];const a=w(r()[d],r()[d],e(n).slice(0,-1));return a===void 0||typeof a=="boolean"?{}:a}),y=s(()=>{if(e(n).length===0)return r()[d];const t=w(r()[d],e(g),e(n).slice(-1));return t===void 0||typeof t=="boolean"?{}:t}),S=s(()=>ee(r(),e(y),e(m).value)),F=s(()=>o.uiSchema??Y(r()[$],r()[Z],e(n))??{}),R=s(()=>{if(o.required!==void 0)return o.required;if(e(n).length===0)return!1;const t=e(n)[e(n).length-1],{required:a,items:i,minItems:u}=e(g);if(Array.isArray(a))return a.includes(t);const l=Number(t);if(Number.isInteger(l)&&l>=0){if(u!==void 0)return l<u;if(Array.isArray(i))return l<i.length}return!1}),f=s(()=>({id:e(c),title:W(r(),e(F))??e(S).title??"",schema:e(S),uiSchema:e(F),required:e(R)})),O=s(()=>Q(r(),e(f))),A=t=>G(r(),e(f),t);N(r());var M=_(),q=b(M);{var E=t=>{var a=_(),i=b(a);oe(i,()=>o.render,()=>({type:"field",config:e(f),translate:e(O),uiOption:A,valueRef:e(m)})),p(t,a)},I=t=>{const a=s(()=>X(r(),e(f)));var i=_(),u=b(i);K(u,()=>e(a),(l,U)=>{U(l,{type:"field",get config(){return e(f)},uiOption:A,get translate(){return e(O)},get value(){return e(m).value},set value(H){e(m).value=H}})}),p(t,i)};z(q,t=>{o.render?t(E):t(I,!1)})}p(v,M),P()}var se=L('<form novalidate="" style="display: flex; flex-direction: column; gap: 1rem;"><!> <!> <button type="submit">Submit</button></form>');function be(v,o){C(o,!0);const n=ne({...ie,schema:{type:"object",properties:{login:{title:"Login",type:"string",minLength:3},password:{title:"Password",type:"string",minLength:6}},required:["login","password"],additionalProperties:!1},onSubmit(y){console.log(y)}});var c=se(),m=B(c);x(m,{get form(){return n},name:"login"});var g=T(m,2);x(g,{get form(){return n},name:"password",uiSchema:{"ui:options":{text:{type:"password"}}}}),j(2),k(c),re(c,()=>ae(n)),p(v,c),P()}export{be as default};
