import"./each.BEO3Vq6I.js";import{p as k,f as O,e as z,t as F,b as _,a as A,s as V,h as b,c as q,r as S}from"./render.BbHDAxyr.js";import"./definitions.iJbBEcx_.js";import{c as I}from"./en.C26sZr63.js";import{B as C}from"./basic-form.DdPzdoGx.js";import{D as E,r as N}from"./compat.DWDLPVOr.js";import{t as P,a as x}from"./errors.DLJr5DpI.js";import{d as T}from"./defaults.D9LxNsDR.js";import"./_commonjsHelpers.DaWZu8wl.js";import"./snippet.CdzS3xvw.js";import"./file.wfO_7GZ5.js";import"./form.BIApe_Sd.js";import"./content.CSRmJ2DA.js";import"./submit-button.-iH2D2mD.js";import"./checkboxes-include.C8dJ2qEn.js";import"./assert.JdD8BXa_.js";import"./file-include.Qv7N42c1.js";function v({validateFunctions:l,augmentSuffix:u=E},{$id:s,allOf:f}){if(s===void 0){const a=f?.[0];if(typeof a=="object"&&a.$id!==void 0)s=a.$id+u;else throw new Error("Schema id not found")}const p=l[s];if(p===void 0)throw new Error(`Validate function with id "${s}" not found`);return p}function g(l){return{isValid(u,s,f){return typeof u=="boolean"?u:v(l,u)(l.valueToJSON(f))}}}function J(l){return{validateFormValue(u,s){const f=v(l,u);return f(l.valueToJSON(s)),P(g(l),l.merger(),u,f.errors,s)}}}function M(l){return{validateFieldValue(u,s){const f=v(l,u.schema);return f(l.valueToJSON(s)),x(u,f.errors,s)}}}function U({valueToJSON:l=s=>s,...u}){return s=>{const f={valueToJSON:l,...u,...s};return Object.assign(g(f),J(f),M(f))}}const B=11,D={title:"User",type:"object",required:["id","email","age","roles"],properties:{id:{type:"integer",minimum:1,$id:"v1"},email:{type:"string",format:"email",$id:"v2"},age:{type:"integer",minimum:21,maximum:100,$id:"v3"},roles:{type:"array",items:{type:"string",enum:["admin","editor","viewer"],$id:"v5"},uniqueItems:!0,minItems:1,$id:"v4"}},additionalProperties:!1,$id:"v0"},[G,X,H,K,Q,R]=(function(){const l=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?1<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},u=r=>{if(r.length>318)return!1;if(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i.test(r))return!0;if(!r.includes("@")||/(^\.|^"|\.@|\.\.)/.test(r))return!1;const[o,t,...i]=r.split("@");return!o||!t||i.length!==0||o.length>64||t.length>253||!/^[a-z0-9.-]+$/i.test(t)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o)?!1:t.split(".").every(n=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(n))},s=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):o===o&&(u(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/format",instanceLocation:"#"}),o++)),o===0},f=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?(21<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++),100>=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/maximum",instanceLocation:"#"}),o++)):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},p=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):e==="admin"||e==="editor"||e==="viewer"||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/enum",instanceLocation:"#"}),o++),o===0},a=Function.prototype.call.bind(Object.prototype.hasOwnProperty),m=({keywordLocation:r,instanceLocation:e},o,t)=>({keywordLocation:`${o}${r.slice(1)}`,instanceLocation:`${t}${e.slice(1)}`}),y=r=>{if(r.length<2)return!0;if(r.length===2)return!d(r[0],r[1]);const e=[],o=r.length>20?new Set:null;let t=0,i=0;for(const n of r){if(typeof n=="object")e.push(n);else if(o){if(o.add(n),o.size!==++t)return!1}else if(r.indexOf(n,i+1)!==-1)return!1;i++}for(let n=1;n<e.length;n++)for(let c=0;c<n;c++)if(d(e[n],e[c]))return!1;return!0},d=(r,e)=>{if(r===e)return!0;if(!r||!e||typeof r!=typeof e||r!==e&&typeof r!="object")return!1;const o=Object.getPrototypeOf(r);if(o!==Object.getPrototypeOf(e))return!1;if(o===Array.prototype)return!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length?!1:r.every((t,i)=>d(t,e[i]));if(o===Object.prototype){const[t,i]=[Object.keys(r),Object.keys(e)];return t.length!==i.length?!1:new Set([...t,...i]).size===t.length&&t.every(c=>d(r[c],e[c]))}return!1},h=function r(e){r.errors=null;let o=0;if(!Array.isArray(e))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{const t=o;e.length<1&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minItems",instanceLocation:"#"}),o++);for(let i=0;i<e.length;i++)if(i in e&&a(e,i)){const n=r.errors,c=p(e[i]),w=p.errors;r.errors=n,c||(r.errors===null&&(r.errors=[]),r.errors.push(...w.map($=>m($,"#/items/$ref","#/"+i))),o++)}o===t&&(y(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/uniqueItems",instanceLocation:"#"}),o++))}return o===0},L=r=>/~\//.test(r)?`${r}`.replace(/~/g,"~0").replace(/\//g,"~1"):r;return[l,s,f,p,h,function r(e){r.errors=null;let o=0;if(!(typeof e=="object"&&e&&!Array.isArray(e)))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{if("id"in e&&a(e,"id")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/id"}),o++),"email"in e&&a(e,"email")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/email"}),o++),"age"in e&&a(e,"age")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/age"}),o++),"roles"in e&&a(e,"roles")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/roles"}),o++),"id"in e&&a(e,"id")){const t=r.errors,i=l(e.id),n=l.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/id/$ref","#/id"))),o++)}if("email"in e&&a(e,"email")){const t=r.errors,i=s(e.email),n=s.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/email/$ref","#/email"))),o++)}if("age"in e&&a(e,"age")){const t=r.errors,i=f(e.age),n=f.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/age/$ref","#/age"))),o++)}if("roles"in e&&a(e,"roles")){const t=r.errors,i=h(e.roles),n=h.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/roles/$ref","#/roles"))),o++)}for(const t of Object.keys(e))t!=="id"&&t!=="email"&&t!=="age"&&t!=="roles"&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/additionalProperties",instanceLocation:"#/"+L(t)}),o++)}return o===0}]})(),W=Object.freeze(Object.defineProperty({__proto__:null,v0:R,v1:G,v2:X,v3:H,v4:Q,v5:K},Symbol.toStringTag,{value:"Module"}));var Y=O("<!> <pre> </pre>",1);function hr(l,u){k(u,!0);const s=I({...T,schema:D,validator:U({validateFunctions:W}),fieldsValidationMode:B,resolver:N});var f=Y(),p=z(f);C(p,{get form(){return s},novalidate:!0});var a=V(p,2),m=q(a,!0);S(a),F(y=>b(m,y),[()=>JSON.stringify(s.value,null,2)]),_(l,f),A()}export{hr as default};
