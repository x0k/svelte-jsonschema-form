import{e as S}from"./_commonjsHelpers.BLl3nBgh.js";import{p as _,m as F,e as O,g as i,u as v,b as m,a as y,f as W,ar as V,c as q,s as z,r as B,t as G,h as I}from"./render.BKpHmBbc.js";import{p as w,g as T,m as J,v as K,c as A,d as N,j as Q,a0 as U,a1 as X}from"./definitions.YIf4wLMH.js";import{c as Y,g as Z,b as P}from"./file.DehvqO_H.js";import{g as p,l as $,f as E,n as ee,i as j,d as te,m as ae,e as ne}from"./en.DWHtRyuw.js";function me(u,e){return function(s,a){const l=new Proxy(a,{get(t,r,c){const d=e[r];if(d!==void 0){const{transform:n}=d;if(n!==void 0)return n(t)}return Reflect.get(t,r,c)},set(t,r,c,d){const n=e[r];if(n!==void 0&&"recover"in n){const{recover:f}=n;if(f!==void 0)return f(t,c),!0}return Reflect.set(t,r,c,d)},has(t,r){return Reflect.has(t,r)||e?.[r]?.transform!==void 0}});return u(s,l)}}function be(u,e){_(e,!0);let s=w(e,"value",15);const a=T(),l=v(()=>N(a,"fieldTemplate",e.config)),t="fileWidget",r=v(()=>N(a,t,e.config)),c=J(a,()=>e.config,()=>K(a,e.config,s())),d=v(()=>Q(a,e.config.id)),n=Y({combinator:Z,async execute(g,o){if(!(o===void 0||o.length===0)){if(!await U(g,a,e.config,o))throw new X;return o[0]}},onSuccess(g){s(g)}});var f=F(),b=O(f);A(b,()=>i(l),(g,o)=>{o(g,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:t,get value(){return s()},get config(){return e.config},get errors(){return i(d)},children:(k,L)=>{var R=F(),C=O(R),D=()=>{const x=s(),h=new DataTransfer;return x&&h.items.add(x),h.files},H=n.run;A(C,()=>i(r),(x,h)=>{h(x,{type:"widget",get value(){return D()},set value(M){H(M)},get processing(){return n.isProcessed},loading:!1,get uiOption(){return e.uiOption},get handlers(){return c},get errors(){return i(d)},get config(){return e.config},multiple:!1})}),m(k,R)},$$slots:{default:!0}})}),m(u,f),y()}var re=W("<textarea></textarea>");function ie(u,e){_(e,!0);let s=w(e,"value",15);const a=T(),l=v(()=>$(a,e.config,"textarea",e.handlers,{style:"flex-grow: 1;"}));var t=re();V(t),P(t,()=>({...i(l)})),p(t,s),m(u,t),y()}E.textareaWidget=ie;var se=W("<input/>");function oe(u,e){_(e,!0);let s=w(e,"value",15);const a=T(),l=v(()=>j(a,e.config,"file",e.handlers,{multiple:e.multiple,style:"flex-grow: 1","data-loading":e.loading,"data-processing":e.processing}));var t=se();P(t,()=>({type:"file",...i(l)}),void 0,void 0,void 0,!0),ee(t,s),m(u,t),y()}E.fileWidget=oe;var ue=W("<label><input/> </label>");function le(u,e){_(e,!0);const s=[];let a=w(e,"value",15);const l=T(),t=v(()=>j(l,e.config,"checkboxes",e.handlers,{type:"checkbox"})),r=ae({mapper:()=>ne(e.options),value:()=>a(),update:n=>a(n)});var c=F(),d=O(c);S(d,19,()=>e.options,n=>n.id,(n,f,b)=>{var g=ue(),o=q(g);P(o,()=>({value:i(b),...i(t),id:i(f).id,disabled:i(f).disabled||i(t).disabled}),void 0,void 0,void 0,!0);var k=z(o);B(g),G(()=>I(k,` ${i(f).label??""}`)),te(s,[],o,()=>(i(b),r.value),L=>r.value=L),m(n,g)}),m(u,c),y()}E.checkboxesWidget=le;export{be as N,me as c};
