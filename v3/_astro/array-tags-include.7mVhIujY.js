import{p as O,k as Y,W as j,l as T,X as q,t as E,Y as z,Z as B,_ as D,$ as G,s as I,r as J,a0 as K}from"./definitions.ZtG-Tena.js";import"./each.QeOQJl6X.js";import{p as w,m as h,e as _,b as p,a as A,g as r,u as i,Z as M}from"./render.H0AegGA0.js";import{a as N}from"./assert.DXkGtDeT.js";import{s as Q}from"./snippet.BgtKOETU.js";const R="tagsField";function U(d,t){w(t,!0);const g=o=>{var a=h(),l=_(a);Q(l,()=>r(F)??M,()=>e,()=>t.config,()=>({get current(){return n()},set current(s){n(s)}}),()=>r(v)),p(o,a)};let n=O(t,"value",15);const c="tagsWidget",e=Y(),u=i(()=>E(e,"fieldTemplate",t.config)),C=i(()=>E(e,c,t.config)),P=j(e,()=>t.config,()=>q(e,t.config,n())),W=i(()=>t.uiOption("collectErrors")??!1);let f;const k=i(()=>{const o=n()?.length??0,a=t.config.path;if(f?.length===o+1&&f[0]===a)return f;const l=[a];for(let s=0;s<o;s++)l.push(D(e,a,s));return l}),v=i(()=>r(W)?z(e,r(k)):B(e,t.config.path)),F=i(()=>G(e,t.config,R));var b=h(),x=_(b);{let o=i(()=>r(F)&&g);T(x,()=>r(u),(a,l)=>{l(a,{type:"template",showTitle:!0,useLabel:!0,widgetType:c,get uiOption(){return t.uiOption},get value(){return n()},get config(){return t.config},get errors(){return r(v)},get action(){return r(o)},children:(s,$)=>{var y=h(),Z=_(y),H=()=>n()??void 0,L=m=>n(m);T(Z,()=>r(C),(m,S)=>{S(m,{type:"widget",get config(){return t.config},get errors(){return r(v)},get uiOption(){return t.uiOption},get value(){return H()},set value(X){L(X)},get handlers(){return P}})}),p(s,y)},$$slots:{default:!0}})})}p(d,b),A()}function V(d,t){w(t,!0);let g=O(t,"value",15),n=J(t,["$$slots","$$events","$$legacy","value"]);var c=()=>(N(g()),g()),e=u=>{g(u)};U(d,I(()=>n,{get value(){return c()},set value(u){e(u)}})),A()}K.arrayTagsField=V;
