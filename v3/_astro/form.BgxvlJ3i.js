import"./_commonjsHelpers.DWjMLJnj.js";import{p as $,f as k,e as O,t as z,b as F,a as _,s as A,h as V,c as b,r as q}from"./render.BD-ZvB3X.js";import"./definitions.D6l9tcG8.js";import{c as S}from"./en.CMtHn5PS.js";import{B as I}from"./basic-form.DRpOrAPz.js";import{D as C,r as E}from"./compat.UghWkaGC.js";import{t as N,a as P}from"./errors.BwY7geLT.js";import{d as x}from"./defaults.oR3g70v9.js";import"./snippet.B-gF8x--.js";import"./file.BEdc_U--.js";import"./form.D7qnpFVJ.js";import"./content.V0YyKqKl.js";import"./submit-button.Ef75R7yQ.js";import"./checkboxes-include.Dgd1f_cb.js";import"./file-include.BPa_l-if.js";function v({validateFunctions:f,augmentSuffix:u=C},{$id:s,allOf:l}){if(s===void 0){const a=l?.[0];if(typeof a=="object"&&a.$id!==void 0)s=a.$id+u;else throw new Error("Schema id not found")}const p=f[s];if(p===void 0)throw new Error(`Validate function with id "${s}" not found`);return p}function T(f){return{isValid(u,s,l){return typeof u=="boolean"?u:v(f,u)(f.valueToJSON(l))}}}function J(f){return{validateFormValue(u,s){const l=v(f,u);return l(f.valueToJSON(s)),N(u,l.errors,s)}}}function M(f){return{validateFieldValue(u,s){const l=v(f,u.schema);return l(f.valueToJSON(s)),P(u,l.errors,s)}}}function U({valueToJSON:f=s=>s,...u}){return s=>{const l={valueToJSON:f,...u,...s};return Object.assign(T(l),J(l),M(l))}}const B=11,D={title:"User",type:"object",required:["id","email","age","roles"],properties:{id:{type:"integer",minimum:1,$id:"v1"},email:{type:"string",format:"email",$id:"v2"},age:{type:"integer",minimum:21,maximum:100,$id:"v3"},roles:{type:"array",items:{type:"string",enum:["admin","editor","viewer"],$id:"v5"},uniqueItems:!0,minItems:1,$id:"v4"}},additionalProperties:!1,$id:"v0"},[G,X,H,K,Q,R]=(function(){const f=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?1<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},u=r=>{if(r.length>318)return!1;if(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i.test(r))return!0;if(!r.includes("@")||/(^\.|^"|\.@|\.\.)/.test(r))return!1;const[o,t,...i]=r.split("@");return!o||!t||i.length!==0||o.length>64||t.length>253||!/^[a-z0-9.-]+$/i.test(t)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o)?!1:t.split(".").every(n=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(n))},s=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):o===o&&(u(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/format",instanceLocation:"#"}),o++)),o===0},l=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?(21<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++),100>=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/maximum",instanceLocation:"#"}),o++)):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},p=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):e==="admin"||e==="editor"||e==="viewer"||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/enum",instanceLocation:"#"}),o++),o===0},a=Function.prototype.call.bind(Object.prototype.hasOwnProperty),m=({keywordLocation:r,instanceLocation:e},o,t)=>({keywordLocation:`${o}${r.slice(1)}`,instanceLocation:`${t}${e.slice(1)}`}),y=r=>{if(r.length<2)return!0;if(r.length===2)return!d(r[0],r[1]);const e=[],o=r.length>20?new Set:null;let t=0,i=0;for(const n of r){if(typeof n=="object")e.push(n);else if(o){if(o.add(n),o.size!==++t)return!1}else if(r.indexOf(n,i+1)!==-1)return!1;i++}for(let n=1;n<e.length;n++)for(let c=0;c<n;c++)if(d(e[n],e[c]))return!1;return!0},d=(r,e)=>{if(r===e)return!0;if(!r||!e||typeof r!=typeof e||r!==e&&typeof r!="object")return!1;const o=Object.getPrototypeOf(r);if(o!==Object.getPrototypeOf(e))return!1;if(o===Array.prototype)return!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length?!1:r.every((t,i)=>d(t,e[i]));if(o===Object.prototype){const[t,i]=[Object.keys(r),Object.keys(e)];return t.length!==i.length?!1:new Set([...t,...i]).size===t.length&&t.every(c=>d(r[c],e[c]))}return!1},h=function r(e){r.errors=null;let o=0;if(!Array.isArray(e))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{const t=o;e.length<1&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minItems",instanceLocation:"#"}),o++);for(let i=0;i<e.length;i++)if(i in e&&a(e,i)){const n=r.errors,c=p(e[i]),L=p.errors;r.errors=n,c||(r.errors===null&&(r.errors=[]),r.errors.push(...L.map(w=>m(w,"#/items/$ref","#/"+i))),o++)}o===t&&(y(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/uniqueItems",instanceLocation:"#"}),o++))}return o===0},g=r=>/~\//.test(r)?`${r}`.replace(/~/g,"~0").replace(/\//g,"~1"):r;return[f,s,l,p,h,function r(e){r.errors=null;let o=0;if(!(typeof e=="object"&&e&&!Array.isArray(e)))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{if("id"in e&&a(e,"id")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/id"}),o++),"email"in e&&a(e,"email")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/email"}),o++),"age"in e&&a(e,"age")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/age"}),o++),"roles"in e&&a(e,"roles")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/roles"}),o++),"id"in e&&a(e,"id")){const t=r.errors,i=f(e.id),n=f.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/id/$ref","#/id"))),o++)}if("email"in e&&a(e,"email")){const t=r.errors,i=s(e.email),n=s.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/email/$ref","#/email"))),o++)}if("age"in e&&a(e,"age")){const t=r.errors,i=l(e.age),n=l.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/age/$ref","#/age"))),o++)}if("roles"in e&&a(e,"roles")){const t=r.errors,i=h(e.roles),n=h.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...n.map(c=>m(c,"#/properties/roles/$ref","#/roles"))),o++)}for(const t of Object.keys(e))t!=="id"&&t!=="email"&&t!=="age"&&t!=="roles"&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/additionalProperties",instanceLocation:"#/"+g(t)}),o++)}return o===0}]})(),W=Object.freeze(Object.defineProperty({__proto__:null,v0:R,v1:G,v2:X,v3:H,v4:Q,v5:K},Symbol.toStringTag,{value:"Module"}));var Y=k("<!> <pre> </pre>",1);function dr(f,u){$(u,!0);const s=S({...x,schema:D,validator:U({validateFunctions:W}),fieldsValidationMode:B,resolver:E});var l=Y(),p=O(l);I(p,{get form(){return s},novalidate:!0});var a=A(p,2),m=b(a,!0);q(a),z(y=>V(m,y),[()=>JSON.stringify(s.value,null,2)]),F(f,l),_()}export{dr as default};
