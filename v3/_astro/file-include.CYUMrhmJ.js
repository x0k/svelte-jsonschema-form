import{ab as q,ac as E,q as I,ad as H,ae as M,p as L,m as U,U as A,n as y,V as S,w as p,X as W,Y as B,Z as X,_ as Y}from"./definitions.DVezzwJa.js";import"./_commonjsHelpers.CZ3AZj88.js";import{p as C,l as w,e as b,b as T,a as R,g as d,u as f}from"./render.C_uzIxE0.js";async function N(a,e,n,t){const{name:s,blob:r}=await a[q](e,t);n.items.add(new File([r],s,{type:r.type}))}function Q(a,e,n,t){const s=[];for(const r of t)s.push(N(a,e,n,r));return Promise.all(s)}function Z(a,e){return a.anyOf?[a.anyOf,e.anyOf]:[a.oneOf,e.oneOf]}function j(a,e,n,t){const s=t.enum,r=new Set(n("disabledEnumValues"));if(s){const i=n("enumNames");return s.map((o,u)=>{const g=i?.[u]??E(o);return{id:I(e.id,u,a),label:g,value:o,disabled:r.has(o)}})}const[m,O]=Z(t,e.uiSchema);return m&&m.map((i,o)=>{if(typeof i=="boolean")throw new Error(`Invalid enum definition in anyOf ${o}`);const u=H(i),g=M(a,O?.[o])["ui:options"]?.title??i.title??E(u);return{id:I(e.id,o,a),schema:i,label:g,value:u,disabled:r.has(u)}})}function z(a,e){C(e,!0);let n=L(e,"value",15);const t=U(),s=f(()=>p(t,"fieldTemplate",e.config)),r="selectWidget",m=f(()=>p(t,r,e.config)),O=A(t,()=>S(t,e.config,n())),i=f(()=>j(t,e.config,e.uiOption,e.config.schema)??[]),o=f(()=>W(t,e.config.id));var u=w(),g=b(u);y(g,()=>d(s),(c,l)=>{l(c,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return d(o)},children:(v,k)=>{var h=w(),_=b(h);y(_,()=>d(m),(F,P)=>{P(F,{type:"widget",get handlers(){return O},get config(){return e.config},get errors(){return d(o)},get uiOption(){return e.uiOption},get options(){return d(i)},get value(){return n()},set value(V){n(V)}})}),T(v,h)},$$slots:{default:!0}})}),T(a,u),R()}B.enumField=z;function D(a,e){C(e,!0);let n=L(e,"value",15);const t=U(),s=f(()=>p(t,"fieldTemplate",e.config)),r="fileWidget",m=f(()=>p(t,r,e.config)),O=A(t,()=>S(t,e.config,n())),i=X({initialOutput:void 0,getInput:()=>n(),setInput:c=>n(c),async toOutput(c,l){const v=new DataTransfer;return l!==void 0&&await N(t,c,v,l),v.files},async toInput(c,l){return l===void 0||l.length===0?void 0:Y(c,l[0])}}),o=f(()=>W(t,e.config.id));var u=w(),g=b(u);y(g,()=>d(s),(c,l)=>{l(c,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:r,get value(){return n()},get config(){return e.config},get errors(){return d(o)},children:(v,k)=>{var h=w(),_=b(h);y(_,()=>d(m),(F,P)=>{P(F,{type:"widget",get processing(){return i.inputProcessing},get loading(){return i.outputProcessing},get uiOption(){return e.uiOption},get handlers(){return O},get errors(){return d(o)},get config(){return e.config},multiple:!1,get value(){return i.current},set value(V){i.current=V}})}),T(v,h)},$$slots:{default:!0}})}),T(a,u),R()}B.fileField=D;export{Q as a,j as c};
