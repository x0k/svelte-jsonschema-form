import"./_commonjsHelpers.DeY__IKx.js";import{p as $,f as k,e as O,t as z,b as _,a as F,s as V,h as A,c as b,r as q}from"./render.BvCbmumc.js";import"./definitions.WtXJsyQU.js";import{c as S}from"./en.Bvx8K5l2.js";import{B as I}from"./basic-form.BDbMUkUH.js";import{D as C,r as E}from"./compat.BGyyk0Y5.js";import{c as N,t as P}from"./errors.BJxV6qRs.js";import{d as T}from"./defaults.BTJ5FIzd.js";import"./snippet.B_3_pwki.js";import"./file.B9n3EPbd.js";import"./form.DR0NuKiz.js";import"./content.DTls_71_.js";import"./submit-button.CQSpRvmb.js";import"./path.wG_Vemg9.js";import"./model.B0TAUPUd.js";import"./checkboxes-include.PBW3e4Uc.js";import"./file-include.DVYe__Bb.js";import"./validator.Dk6VWZ68.js";import"./ajv.CT5ug_Jq.js";function v({validateFunctions:l,augmentSuffix:u=C},{$id:n,allOf:f}){if(n===void 0){const a=f?.[0];if(typeof a=="object"&&a.$id!==void 0)n=a.$id+u;else throw new Error("Schema id not found")}const p=l[n];if(p===void 0)throw new Error(`Validate function with id "${n}" not found`);return p}function x(l){return{isValid(u,n,f){return typeof u=="boolean"?u:v(l,u)(l.valueToJSON(f))}}}function J(l){const u=N(l);return{validateFormValue(n,f){const p=v(l,n);return p(l.valueToJSON(f)),u(n,p.errors)}}}function M(l){return{validateFieldValue(u,n){const f=v(l,u.schema);return f(l.valueToJSON(n)),P(u,f.errors)}}}function U({valueToJSON:l=n=>n,...u}){return n=>{const f={valueToJSON:l,...u,...n};return Object.assign(x(f),J(f),M(f))}}const B=11,D={title:"User",type:"object",required:["id","email","age","roles"],properties:{id:{type:"integer",minimum:1,$id:"v1"},email:{type:"string",format:"email",$id:"v2"},age:{type:"integer",minimum:21,maximum:100,$id:"v3"},roles:{type:"array",items:{type:"string",enum:["admin","editor","viewer"],$id:"v5"},uniqueItems:!0,minItems:1,$id:"v4"}},additionalProperties:!1,$id:"v0"},[G,X,H,K,Q,R]=(function(){const l=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?1<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},u=r=>{if(r.length>318)return!1;if(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i.test(r))return!0;if(!r.includes("@")||/(^\.|^"|\.@|\.\.)/.test(r))return!1;const[o,t,...i]=r.split("@");return!o||!t||i.length!==0||o.length>64||t.length>253||!/^[a-z0-9.-]+$/i.test(t)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o)?!1:t.split(".").every(s=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(s))},n=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):o===o&&(u(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/format",instanceLocation:"#"}),o++)),o===0},f=function r(e){r.errors=null;let o=0;return Number.isInteger(e)?(21<=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minimum",instanceLocation:"#"}),o++),100>=e||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/maximum",instanceLocation:"#"}),o++)):(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++),o===0},p=function r(e){r.errors=null;let o=0;return typeof e!="string"?(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++):e==="admin"||e==="editor"||e==="viewer"||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/enum",instanceLocation:"#"}),o++),o===0},a=Function.prototype.call.bind(Object.prototype.hasOwnProperty),m=({keywordLocation:r,instanceLocation:e},o,t)=>({keywordLocation:`${o}${r.slice(1)}`,instanceLocation:`${t}${e.slice(1)}`}),y=r=>{if(r.length<2)return!0;if(r.length===2)return!d(r[0],r[1]);const e=[],o=r.length>20?new Set:null;let t=0,i=0;for(const s of r){if(typeof s=="object")e.push(s);else if(o){if(o.add(s),o.size!==++t)return!1}else if(r.indexOf(s,i+1)!==-1)return!1;i++}for(let s=1;s<e.length;s++)for(let c=0;c<s;c++)if(d(e[s],e[c]))return!1;return!0},d=(r,e)=>{if(r===e)return!0;if(!r||!e||typeof r!=typeof e||r!==e&&typeof r!="object")return!1;const o=Object.getPrototypeOf(r);if(o!==Object.getPrototypeOf(e))return!1;if(o===Array.prototype)return!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length?!1:r.every((t,i)=>d(t,e[i]));if(o===Object.prototype){const[t,i]=[Object.keys(r),Object.keys(e)];return t.length!==i.length?!1:new Set([...t,...i]).size===t.length&&t.every(c=>d(r[c],e[c]))}return!1},h=function r(e){r.errors=null;let o=0;if(!Array.isArray(e))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{const t=o;e.length<1&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/minItems",instanceLocation:"#"}),o++);for(let i=0;i<e.length;i++)if(i in e&&a(e,i)){const s=r.errors,c=p(e[i]),L=p.errors;r.errors=s,c||(r.errors===null&&(r.errors=[]),r.errors.push(...L.map(w=>m(w,"#/items/$ref","#/"+i))),o++)}o===t&&(y(e)||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/uniqueItems",instanceLocation:"#"}),o++))}return o===0},g=r=>/~\//.test(r)?`${r}`.replace(/~/g,"~0").replace(/\//g,"~1"):r;return[l,n,f,p,h,function r(e){r.errors=null;let o=0;if(!(typeof e=="object"&&e&&!Array.isArray(e)))r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/type",instanceLocation:"#"}),o++;else{if("id"in e&&a(e,"id")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/id"}),o++),"email"in e&&a(e,"email")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/email"}),o++),"age"in e&&a(e,"age")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/age"}),o++),"roles"in e&&a(e,"roles")||(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/required",instanceLocation:"#/roles"}),o++),"id"in e&&a(e,"id")){const t=r.errors,i=l(e.id),s=l.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...s.map(c=>m(c,"#/properties/id/$ref","#/id"))),o++)}if("email"in e&&a(e,"email")){const t=r.errors,i=n(e.email),s=n.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...s.map(c=>m(c,"#/properties/email/$ref","#/email"))),o++)}if("age"in e&&a(e,"age")){const t=r.errors,i=f(e.age),s=f.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...s.map(c=>m(c,"#/properties/age/$ref","#/age"))),o++)}if("roles"in e&&a(e,"roles")){const t=r.errors,i=h(e.roles),s=h.errors;r.errors=t,i||(r.errors===null&&(r.errors=[]),r.errors.push(...s.map(c=>m(c,"#/properties/roles/$ref","#/roles"))),o++)}for(const t of Object.keys(e))t!=="id"&&t!=="email"&&t!=="age"&&t!=="roles"&&(r.errors===null&&(r.errors=[]),r.errors.push({keywordLocation:"#/additionalProperties",instanceLocation:"#/"+g(t)}),o++)}return o===0}]})(),W=Object.freeze(Object.defineProperty({__proto__:null,v0:R,v1:G,v2:X,v3:H,v4:Q,v5:K},Symbol.toStringTag,{value:"Module"}));var Y=k("<!> <pre> </pre>",1);function gr(l,u){$(u,!0);const n=S({...T,schema:D,createValidator:U({validateFunctions:W}),fieldsValidationMode:B,resolver:E});var f=Y(),p=O(f);I(p,{get form(){return n},novalidate:!0});var a=V(p,2),m=b(a,!0);q(a),z(y=>A(m,y),[()=>JSON.stringify(n.value,null,2)]),_(l,f),F()}export{gr as default};
