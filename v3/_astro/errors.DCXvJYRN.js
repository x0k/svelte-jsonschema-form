import{e as p,g,h as u}from"./definitions.D5Ab5kbL.js";import{p as c,g as l}from"./path.CMkqNiuQ.js";import{g as y}from"./model.BJRwPy5W.js";import"./_commonjsHelpers.CZ3AZj88.js";function d(t,n,r,e){const i=u(n,e);if(i&&typeof i=="object"&&t in i)return String(i[t]);const o=l(n,n,r);if(typeof o=="object"&&o[t]!==void 0)return String(o[t])}function f({instanceLocation:t,keywordLocation:n}){const r=c(t),e=c(n),i=e[e.length-1]?.toString()??"invalid",o=e.slice(0,-1);return{instancePath:r,keywordPath:e,keyword:i,schemaPath:o}}function h(t,n){return n?`${t} (${n})`:t}function B(t){const n=(r,e,i,o)=>{let s=g(t.uiSchema??{},e);if(s!==void 0)return s;const a=u(r,i);return a&&typeof a=="object"&&"title"in a&&typeof a.title=="string"?a.title:y(r,e)??e[e.length-1]?.toString()??o.instanceLocation};return(r,e)=>e?e.map(i=>{const{instancePath:o,schemaPath:s,keyword:a}=f(i);return{instanceId:p(o,t),propertyTitle:n(r,o,s,i),message:h(a,d(a,r,o,s)),error:i}}):[]}function m(t){return t.instanceLocation==="#"}function P(t){return m(t)&&!t.keywordLocation.endsWith("type")}function b(t,n){return n?n.filter(t.required?m:P).map(r=>{const{keyword:e}=f(r);return{instanceId:t.id,propertyTitle:t.title,message:h(e,t.schema?.[e]?.toString()),error:r}})??[]:[]}export{B as c,b as t};
