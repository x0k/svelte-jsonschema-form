import{e as S}from"./_commonjsHelpers.B5dSTXEY.js";import{p as _,l as W,d as F,g as i,u as v,b as m,a as y,f as O,an as U,c as X,s as j,r as z,t as B,e as G}from"./render.DqqfR5yS.js";import{k as w,o as k,R as I,W as J,q as A,x as N,X as K,U as Q,V as Y}from"./definitions.DyoCK2HG.js";import{c as Z,g as p,b as P,r as V}from"./file.CGtKcauJ.js";import{g as $,l as ee,f as R,n as te,i as q,d as ae,m as ne,e as re}from"./en.CSK2UNyD.js";function be(o,e){return function(s,a){const l=new Proxy(a,{get(t,r,c){const d=e[r];if(d!==void 0){const{transform:n}=d;if(n!==void 0)return n(t)}return Reflect.get(t,r,c)},set(t,r,c,d){const n=e[r];if(n!==void 0&&"recover"in n){const{recover:f}=n;if(f!==void 0)return f(t,c),!0}return Reflect.set(t,r,c,d)},has(t,r){return Reflect.has(t,r)||e?.[r]?.transform!==void 0}});return o(s,l)}}function xe(o,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>N(a,"fieldTemplate",e.config)),t="fileWidget",r=v(()=>N(a,t,e.config)),c=I(a,()=>J(a,e.config,s())),d=v(()=>K(a,e.config.id)),n=Z({combinator:p,async execute(g,u){if(!(u===void 0||u.length===0)){if(!await Q(g,a,e.config,u))throw new Y;return u[0]}},onSuccess(g){s(g)}});var f=W(),b=F(f);A(b,()=>i(l),(g,u)=>{u(g,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return e.uiOption},widgetType:t,get value(){return s()},get config(){return e.config},get errors(){return i(d)},children:(T,E)=>{var L=W(),C=F(L),D=()=>{const x=s(),h=new DataTransfer;return x&&h.items.add(x),h.files},H=n.run;A(C,()=>i(r),(x,h)=>{h(x,{type:"widget",get value(){return D()},set value(M){H(M)},get processing(){return n.isProcessed},loading:!1,get uiOption(){return e.uiOption},get handlers(){return c},get errors(){return i(d)},get config(){return e.config},multiple:!1})}),m(T,L)},$$slots:{default:!0}})}),m(o,f),y()}var ie=O("<textarea></textarea>");function se(o,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>ee(a,e.config,"textarea",e.handlers,{style:"flex-grow: 1;"}));var t=ie();U(t),P(t,()=>({...i(l)})),$(t,s),m(o,t),y()}R.textareaWidget=se;var ue=O("<input/>");function oe(o,e){_(e,!0);let s=w(e,"value",15);const a=k(),l=v(()=>q(a,e.config,"file",e.handlers,{multiple:e.multiple,style:"flex-grow: 1","data-loading":e.loading,"data-processing":e.processing}));var t=ue();V(t),P(t,()=>({type:"file",...i(l)})),te(t,s),m(o,t),y()}R.fileWidget=oe;var le=O("<label><input/> </label>");function ce(o,e){_(e,!0);const s=[];let a=w(e,"value",15);const l=k(),t=v(()=>q(l,e.config,"checkboxes",e.handlers,{type:"checkbox"})),r=ne({mapper:()=>re(e.options),value:()=>a(),update:n=>a(n)});var c=W(),d=F(c);S(d,19,()=>e.options,n=>n.id,(n,f,b)=>{var g=le(),u=X(g);V(u),P(u,()=>({value:i(b),...i(t),id:i(f).id,disabled:i(f).disabled||i(t).disabled}));var T=j(u);z(g),B(()=>G(T,` ${i(f).label??""}`)),ae(s,[],u,()=>(i(b),r.value),E=>r.value=E),m(n,g)}),m(o,c),y()}R.checkboxesWidget=ce;export{xe as N,be as c};
