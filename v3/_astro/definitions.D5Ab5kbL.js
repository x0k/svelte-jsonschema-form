import{$ as Gn,aI as jt,aJ as Jn,x as Ue,F as H,H as Nt,E as Vt,an as Xn,ao as Zn,ap as Qn,U as xn,T as Ce,S as Dt,y as Oe,a9 as Je,ay as Ut,a6 as Lt,Y as $n,X as kt,G as Kt,_ as et,z as Xe,aK as er,aL as tr,aM as nr,g as u,aN as rr,aO as ir,aP as sr,aQ as or,d as ar,aR as ur,aS as cr,aT as fr,aU as lr,aV as dr,aW as Ze,w as gr,j as L,V as yr,aX as hr,aY as mr,aZ as pr,a5 as vr,a_ as he,aF as qt,a$ as Yt,b0 as br,b1 as Or,b2 as _r,b3 as Sr,v as Fe,q as Ar,b4 as wr,b5 as Er,i as G,b6 as dt,ad as Pr,b7 as me,av as tt,at as nt,k as we,u as O,p as K,f as Le,c as Tr,r as Ir,t as zt,h as Ht,b as M,a as q,l as V,e as N,as as Bt,s as Ie,M as Rr}from"./render.C_uzIxE0.js";import{s as gt,a as Cr,n as Wt,i as le}from"./function.D4bMrD2D.js";import{g as Fr,e as Gt}from"./_commonjsHelpers.CZ3AZj88.js";import{s as Mr}from"./snippet.Cynyr6SW.js";const jr=[];function Jt(t,e=!1,n=!1){return Re(t,new Map,"",jr,null,n)}function Re(t,e,n,r,i=null,s=!1){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Gn(t)){var c=Array(t.length);e.set(t,c),i!==null&&e.set(i,c);for(var d=0;d<t.length;d+=1){var o=t[d];d in t&&(c[d]=Re(o,e,n,r,null,s))}return c}if(jt(t)===Jn){c={},e.set(t,c),i!==null&&e.set(i,c);for(var l in t)c[l]=Re(t[l],e,n,r,null,s);return c}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function"&&!s)return Re(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function ce(t,e,n=!1){H&&Nt();var r=t,i=null,s=null,a=Ut,c=n?Vt:0,d=!1;const o=(m,f=!0)=>{d=!0,y(f,m)};var l=null;function g(){l!==null&&(l.lastChild.remove(),r.before(l),l=null);var m=a?i:s,f=a?s:i;m&&$n(m),f&&kt(f,()=>{a?s=null:i=null})}const y=(m,f)=>{if(a===(a=m))return;let b=!1;if(H){const w=Xn(r)===Zn;!!a===w&&(r=Qn(),xn(r),Ce(!1),b=!0)}var h=Lt(),p=r;if(h&&(l=document.createDocumentFragment(),l.append(p=Dt())),a?i??=f&&Oe(()=>f(p)):s??=f&&Oe(()=>f(p)),h){var S=Je,v=a?i:s,_=a?s:i;v&&S.skipped_effects.delete(v),_&&S.skipped_effects.add(_),S.add_callback(g)}else g();b&&Ce(!0)};Ue(()=>{d=!1,e(o),d||y(null,null)},c),H&&(r=Kt)}function D(t,e,n){H&&Nt();var r=t,i,s,a=null,c=null;function d(){s&&(kt(s),s=null),a&&(a.lastChild.remove(),r.before(a),a=null),s=c,c=null}Ue(()=>{if(i!==(i=e())){var o=Lt();if(i){var l=r;o&&(a=document.createDocumentFragment(),a.append(l=Dt()),s&&Je.skipped_effects.add(s)),c=Oe(()=>n(l,i))}o?Je.add_callback(d):d()}},Vt),H&&(r=Kt)}function js(t,e){et(()=>{var n=t.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+e.hash)){const i=document.createElement("style");i.id=e.hash,i.textContent=e.code,r.appendChild(i)}})}function Nr(t,e){var n=void 0,r;Ue(()=>{n!==(n=e())&&(r&&(Xe(r),r=null),n&&(r=Oe(()=>{et(()=>n(t))})))})}function Xt(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Xt(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Vr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Xt(t))&&(r&&(r+=" "),r+=e);return r}function Dr(t){return typeof t=="object"?Vr(t):t??""}const yt=[...` 	
\r\fÂ \v\uFEFF`];function Ur(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,a=0;(a=r.indexOf(i,a))>=0;){var c=a+s;(a===0||yt.includes(r[a-1]))&&(c===r.length||yt.includes(r[c]))?r=(a===0?"":r.substring(0,a))+r.substring(c+1):a=c}}return r===""?null:r}function ht(t,e=!1){var n=e?" !important;":";",r="";for(var i in t){var s=t[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function Be(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Lr(t,e){if(e){var n="",r,i;if(Array.isArray(e)?(r=e[0],i=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,a=0,c=!1,d=[];r&&d.push(...Object.keys(r).map(Be)),i&&d.push(...Object.keys(i).map(Be));var o=0,l=-1;const b=t.length;for(var g=0;g<b;g++){var y=t[g];if(c?y==="/"&&t[g-1]==="*"&&(c=!1):s?s===y&&(s=!1):y==="/"&&t[g+1]==="*"?c=!0:y==='"'||y==="'"?s=y:y==="("?a++:y===")"&&a--,!c&&s===!1&&a===0){if(y===":"&&l===-1)l=g;else if(y===";"||g===b-1){if(l!==-1){var m=Be(t.substring(o,l).trim());if(!d.includes(m)){y!==";"&&g++;var f=t.substring(o,g).trim();n+=" "+f+";"}}o=g+1,l=-1}}}}return r&&(n+=ht(r)),i&&(n+=ht(i,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function kr(t,e,n,r,i,s){var a=t.__className;if(H||a!==n||a===void 0){var c=Ur(n,r,s);(!H||c!==t.getAttribute("class"))&&(c==null?t.removeAttribute("class"):e?t.className=c:t.setAttribute("class",c)),t.__className=n}else if(s&&i!==s)for(var d in s){var o=!!s[d];(i==null||o!==!!i[d])&&t.classList.toggle(d,o)}return s}function We(t,e={},n,r){for(var i in n){var s=n[i];e[i]!==s&&(n[i]==null?t.style.removeProperty(i):t.style.setProperty(i,s,r))}}function Kr(t,e,n,r){var i=t.__style;if(H||i!==e){var s=Lr(e,r);(!H||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}else r&&(Array.isArray(r)?(We(t,n?.[0],r[0]),We(t,n?.[1],r[1],"important")):We(t,n,r));return r}const pe=Symbol("class"),ve=Symbol("style"),Zt=Symbol("is custom element"),Qt=Symbol("is html");function Ns(t){if(H){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;Me(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;Me(t,"checked",null),t.checked=i}}};t.__on_r=n,fr(n),lr()}}function qr(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Me(t,e,n,r){var i=xt(t);H&&(i[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||i[e]!==(i[e]=n)&&(e==="loading"&&(t[tr]=n),n==null?t.removeAttribute(e):typeof n!="string"&&$t(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Yr(t,e,n,r,i=!1){var s=xt(t),a=s[Zt],c=!s[Qt];let d=H&&a;d&&Ce(!1);var o=e||{},l=t.tagName==="OPTION";for(var g in e)g in n||(n[g]=null);n.class?n.class=Dr(n.class):(r||n[pe])&&(n.class=null),n[ve]&&(n.style??=null);var y=$t(t);for(const v in n){let _=n[v];if(l&&v==="value"&&_==null){t.value=t.__value="",o[v]=_;continue}if(v==="class"){var m=t.namespaceURI==="http://www.w3.org/1999/xhtml";kr(t,m,_,r,e?.[pe],n[pe]),o[v]=_,o[pe]=n[pe];continue}if(v==="style"){Kr(t,_,e?.[ve],n[ve]),o[v]=_,o[ve]=n[ve];continue}var f=o[v];if(!(_===f&&!(_===void 0&&t.hasAttribute(v)))){o[v]=_;var b=v[0]+v[1];if(b!=="$$")if(b==="on"){const w={},P="$$"+v;let A=v.slice(2);var h=dr(A);if(sr(A)&&(A=A.slice(0,-7),w.capture=!0),!h&&f){if(_!=null)continue;t.removeEventListener(A,o[P],w),o[P]=null}if(_!=null)if(h)t[`__${A}`]=_,ar([A]);else{let E=function(T){o[v].call(this,T)};o[P]=or(A,t,E,w)}else h&&(t[`__${A}`]=void 0)}else if(v==="style")Me(t,v,_);else if(v==="autofocus")ur(t,!!_);else if(!a&&(v==="__value"||v==="value"&&_!=null))t.value=t.__value=_;else if(v==="selected"&&l)qr(t,_);else{var p=v;c||(p=cr(p));var S=p==="defaultValue"||p==="defaultChecked";if(_==null&&!a&&!S)if(s[v]=null,p==="value"||p==="checked"){let w=t;const P=e===void 0;if(p==="value"){let A=w.defaultValue;w.removeAttribute(p),w.defaultValue=A,w.value=w.__value=P?A:null}else{let A=w.defaultChecked;w.removeAttribute(p),w.defaultChecked=A,w.checked=P?A:!1}}else t.removeAttribute(v);else S||y.includes(p)&&(a||typeof _!="string")?(t[p]=_,p in s&&(s[p]=Ut)):typeof _!="function"&&Me(t,p,_)}}}return d&&Ce(!0),o}function Vs(t,e,n=[],r=[],i,s=!1){er(n,r,a=>{var c=void 0,d={},o=t.nodeName==="SELECT",l=!1;if(Ue(()=>{var y=e(...a.map(u)),m=Yr(t,c,y,i,s);l&&o&&"value"in y&&gt(t,y.value);for(let b of Object.getOwnPropertySymbols(d))y[b]||Xe(d[b]);for(let b of Object.getOwnPropertySymbols(y)){var f=y[b];b.description===rr&&(!c||f!==c[b])&&(d[b]&&Xe(d[b]),d[b]=Oe(()=>Nr(t,()=>f))),m[b]=f}c=m}),o){var g=t;et(()=>{gt(g,c.value,!0),Cr(g)})}l=!0})}function xt(t){return t.__attributes??={[Zt]:t.nodeName.includes("-"),[Qt]:t.namespaceURI===nr}}var mt=new Map;function $t(t){var e=t.getAttribute("is")||t.nodeName,n=mt.get(e);if(n)return n;mt.set(e,n=[]);for(var r,i=t,s=Element.prototype;s!==i;){r=ir(i);for(var a in r)r[a].set&&n.push(a);i=jt(i)}return n}let Pe=!1;function zr(t){var e=Pe;try{return Pe=!1,[t(),Pe]}finally{Pe=e}}const Hr={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function Ds(t,e,n){return new Proxy({props:t,exclude:e},Hr)}const Br={get(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(he(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r)return r[e]}},set(t,e,n){let r=t.props.length;for(;r--;){let i=t.props[r];he(i)&&(i=i());const s=Ze(i,e);if(s&&s.set)return s.set(n),!0}return!1},getOwnPropertyDescriptor(t,e){let n=t.props.length;for(;n--;){let r=t.props[n];if(he(r)&&(r=r()),typeof r=="object"&&r!==null&&e in r){const i=Ze(r,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(t,e){if(e===qt||e===Yt)return!1;for(let n of t.props)if(he(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(t){const e=[];for(let n of t.props)if(he(n)&&(n=n()),!!n){for(const r in n)e.includes(r)||e.push(r);for(const r of Object.getOwnPropertySymbols(n))e.includes(r)||e.push(r)}return e}};function Us(...t){return new Proxy({props:t},Br)}function Y(t,e,n,r){var i=!Ar||(n&wr)!==0,s=(n&Sr)!==0,a=(n&Er)!==0,c=r,d=!0,o=()=>(d&&(d=!1,c=a?Fe(r):r),c),l;if(s){var g=qt in t||Yt in t;l=Ze(t,e)?.set??(g&&e in t?v=>t[e]=v:void 0)}var y,m=!1;s?[y,m]=zr(()=>t[e]):y=t[e],y===void 0&&r!==void 0&&(y=o(),l&&(i&&br(),l(y)));var f;if(i?f=()=>{var v=t[e];return v===void 0?o():(d=!0,v)}:f=()=>{var v=t[e];return v!==void 0&&(c=void 0),v===void 0?c:v},i&&(n&Or)===0)return f;if(l){var b=t.$$legacy;return(function(v,_){return arguments.length>0?((!i||!_||b||m)&&l(_?f():v),v):f()})}var h=!1,p=((n&_r)!==0?mr:vr)(()=>(h=!1,f()));s&&u(p);var S=yr;return(function(v,_){if(arguments.length>0){const w=_?u(p):i&&s?gr(v):v;return L(p,w),h=!0,c!==void 0&&(c=w),v}return pr&&h||(S.f&hr)!==0?p.v:u(p)})}function en(t,e){return(n,r)=>t(n,r)??e(n,r)}function tn(t){return e=>t[e]}function pt(t,e){return en(tn(e),t)}function Ls(t,e){return en(t,tn(e))}const J="$ref",ks="$id",vt="properties",Wr="items",nn="dependencies",Gr="if",rn="allOf",sn="anyOf",on="oneOf",Ks="__sjsf_rootSchema",rt="__additional_property",Jr="data-url";function Xr(t){return t.properties!==void 0}function Zr(t){return typeof t=="object"&&!Array.isArray(t)}function Qr(t,e){return Array.from(new Array(t),(n,r)=>e(r))}function bt(t){return Array.from(new Set(t))}function qs(t,e){const n=t.length;if(n===0)return e;let r=e.length;if(r===0)return t;if(n<r){const s=t;t=e,e=s,r=n}const i=new Set(t);for(let s=0;s<r;s++)i.add(e[s]);return Array.from(i)}function Ys(t,e){const n=[];if(t.length===0||e.length===0)return n;if(t.length>e.length){const i=t;t=e,e=i}const r=new Set(e);for(let i=0;i<t.length;i++){const s=t[i];r.has(s)&&n.push(s)}return n}function _e(t){return typeof t=="object"&&t!==null}function an(t){return _e(t)&&!Array.isArray(t)}function ne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e,n){let r=t;for(const i of e){if(Array.isArray(r)&&typeof i=="number"&&i>=0&&i<r.length){r=r[i];continue}else if(an(r)&&i in r){r=r[i];continue}return n}return r}const un=["$defs","definitions","properties","patternProperties","dependencies"];new Set(un);const cn=["items","allOf","oneOf","anyOf"],Hs=new Set(cn),fn=["items","additionalItems","additionalProperties","propertyNames","contains","if","then","else","not"];new Set(fn);[...un,...cn,...fn];function X(t){return typeof t=="object"}function Bs(t){return X(t)?ne(t):t===!0}function xr(t,e){return n=>{if(t.has(n))return t.get(n);const r=e(n);return t.set(n,r),r}}const $r=xr;function Se(t){if(t===null)return"null";if(Array.isArray(t))return"array";const e=typeof t;switch(e){case"boolean":case"number":case"object":case"string":return e;default:throw new Error(`Unsupported schema type: ${e}`)}}function ke(t){if(t.type)return t.type;if(t.const!==void 0)return Se(t.const);if(t.properties||t.additionalProperties||t.propertyNames||t.patternProperties)return"object";if(Array.isArray(t.enum)&&t.enum.length>0)return bt(t.enum.map(Se));const e=t.allOf??t.anyOf??t.oneOf;if(e){let n=[];for(let r=0;r<e.length;r++){const i=e[r];X(i)&&(n=n.concat(ke(i)))}return bt(n)}return"null"}function ei(t){return t==="null"||Array.isArray(t)&&t.includes("null")}function ln(t){return ei(ke(t))}function ti(t){if(t.length===0)throw new Error("Unsupported schema types: empty type array");const e=t[0];return t.length===1?e:e==="null"?t[1]:e}const Ke=t=>{const e=ke(t);return Array.isArray(e)?ti(e):e};function Ot(t){return t==="boolean"||t==="integer"||t==="number"||t==="string"||t==="null"}var be={},_t;function ni(){if(_t)return be;_t=1;var t=/~/,e=/~[01]/g;function n(o){switch(o){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+o)}function r(o){return t.test(o)?o.replace(e,n):o}function i(o,l,g){for(var y,m,f=1,b=l.length;f<b;){if(l[f]==="constructor"||l[f]==="prototype"||l[f]==="__proto__")return o;if(y=r(l[f++]),m=b>f,typeof o[y]>"u"&&(Array.isArray(o)&&y==="-"&&(y=o.length),m&&(l[f]!==""&&l[f]<1/0||l[f]==="-"?o[y]=[]:o[y]={})),!m)break;o=o[y]}var h=o[y];return g===void 0?delete o[y]:o[y]=g,h}function s(o){if(typeof o=="string"){if(o=o.split("/"),o[0]==="")return o;throw new Error("Invalid JSON pointer.")}else if(Array.isArray(o)){for(const l of o)if(typeof l!="string"&&typeof l!="number")throw new Error("Invalid JSON pointer. Must be of type string or number.");return o}throw new Error("Invalid JSON pointer.")}function a(o,l){if(typeof o!="object")throw new Error("Invalid input object.");l=s(l);var g=l.length;if(g===1)return o;for(var y=1;y<g;){if(o=o[r(l[y++])],g===y)return o;if(typeof o!="object"||o===null)return}}function c(o,l,g){if(typeof o!="object")throw new Error("Invalid input object.");if(l=s(l),l.length===0)throw new Error("Invalid JSON pointer for set.");return i(o,l,g)}function d(o){var l=s(o);return{get:function(g){return a(g,l)},set:function(g,y){return c(g,l,y)}}}return be.get=a,be.set=c,be.compile=d,be}var ri=ni();const ii=Fr(ri);function si(t,e){if(!t.startsWith("#"))throw new Error(`Invalid reference: ${t}, must start with #`);const n=ii.get(e,decodeURIComponent(t.substring(1)));if(n===void 0)throw new Error(`Could not find a definition for ${t}.`);return n}function it(t,e,n,r=new Set){const i=si(e,n);if(!X(i))throw new Error(`Definition for ${e} should be a schema (object)`);const s=i[J];if(s){if(r.has(s)){if(r.size===1)throw new Error(`Definition for ${e} is a circular reference`);const o=Array.from(r),l=o[0];throw o.push(e,l),new Error(`Definition for ${l} contains a circular reference through ${o.join(" -> ")}`)}const a=it(t,s,n,new Set(r).add(e));if(Object.keys(i).length<2)return a;const{[J]:c,...d}=i;return t.mergeSchemas(d,a)}return i}function I(t){return an(t)}function St(t){return _e(t)?Array.isArray(t)?t.length===0:Object.keys(t).length===0:!0}function Ws(t){return typeof t=="string"?t:JSON.stringify(t)}function de(t){return t.discriminator?.propertyName}function dn(t,e,n){if(n&&I(t)){const r=t[n];if(r===void 0)return;for(let i=0;i<e.length;i++){const a=e[i].properties?.[n]??{};if(a===!0)return i;if(!(a===!1||a.type==="object"||a.type==="array")&&(a.const===r||a.enum?.includes(r)))return i}}}function oi({required:t,...e}){return{allOf:[e,{anyOf:Object.keys(e.properties).map(n=>({required:[n]}))}]}}const ai=new WeakMap,ui=$r(ai,oi);function gn(t,e,n,r,i,s){if(!Xr(t))return e.isValid(t,r,n);const a=i!==void 0?t.properties[i]:void 0;return a!==void 0?e.isValid(a,r,s):e.isValid(ui(t),r,n)}function ci(t,e,n,r,i){if(e===void 0)return 0;const s=dn(e,n,i);if(s!==void 0)return s;const a=I(e)&&i!==void 0;for(let c=0;c<n.length;c++)if(gn(n[c],t,e,r,a?i:void 0,a?e[i]:void 0))return c;return 0}function Qe(t,e,n,r,i){let s=0;if(r){const a=r.properties;if(a&&I(i))for(const[c,d]of Object.entries(a)){const o=i[c];if(typeof d=="boolean")continue;if(d[J]!==void 0){const g=W(t,e,d,n,o);s+=Qe(t,e,n,g,o);continue}const l=d.oneOf||d.anyOf;if(l&&o){const g=de(d);s+=je(t,e,n,o,l.filter(X),-1,g);continue}if(d.type==="object"){I(o)&&(s+=1),s+=Qe(t,e,n,d,o);continue}if(o!==void 0&&d.type===Se(o)){s+=1;const g=d.default??d.const;g!==void 0&&(s+=o===g?1:-1);continue}}else i!==void 0&&typeof r.type=="string"&&r.type===Se(i)&&(s+=1)}return s}function je(t,e,n,r,i,s=-1,a){if(i.length===0)return s;const c=i.map(m=>fe(e,m,n)),d=dn(r,i,a);if(typeof d=="number")return d;const o=[];if(r!==void 0){const m=I(r)&&a!==void 0;for(let f=0;f<c.length;f++)gn(c[f],t,r,n,m?a:void 0,m?r[a]:void 0)&&o.push(f);if(o.length===1)return o[0]}if(o.length===0)for(let m=0;m<c.length;m++)o.push(m);const l=new Set;let g=0,y=s;for(let m=0;m<o.length;m++){const f=o[m],b=c[f],h=Qe(t,e,n,b,r);l.add(h),h>g&&(g=h,y=f)}return o.length>1&&l.size===1&&s>=0?s:y}function Ne(t,e){if(t===e)return!0;if(_e(t)&&_e(e)){if(Array.isArray(t)){if(!Array.isArray(e))return!1;const{length:i}=t;if(i!==e.length)return!1;for(let s=i;s--!==0;)if(!Ne(t[s],e[s]))return!1;return!0}if(Array.isArray(e))return!1;const n=Object.keys(t);let r;for(let i=n.length;i--!==0;)if(r=n[i],!Ne(t[r],e[r]))return!1;return Object.keys(e).length===n.length}return t!==t&&e!==e}const yn=Ne;function W(t,e,n,r={},i){return B(t,e,n,r,i)[0]}function fe(t,e,n,r=new Set){let i=e;const s=i[J];if(s){if(r.has(s))return i;r.add(s);const{[J]:d,...o}=i,l=it(t,s,n);return fe(t,ne(o)?l:t.mergeSchemas(l,o),n,r)}const a=i[vt];if(a){const d=new Map,o=[];for(const[g,y]of Object.entries(a))if(typeof y=="boolean")d.set(g,y);else{const m=new Set(r);d.set(g,fe(t,y,n,m)),o.push(m)}const l=r.size;for(const g of o)g.size!==l&&g.forEach(r.add,r);i={...i,[vt]:Object.fromEntries(d)}}const c=i[Wr];return c&&!Array.isArray(c)&&typeof c!="boolean"&&(i={...i,items:fe(t,c,n,r)}),i}function hn(t,e,n,r,i,s,a){const c=fe(e,n,r,s);return yn(n,c)?[n]:B(t,e,c,r,a,i,s)}function B(t,e,n,r,i,s=!1,a=new Set){return di(t,e,n,r,s,a,i).flatMap(d=>{let o=d;if(Gr in o)return fi(t,e,o,r,s,a,i);const l=o.allOf;if(l){if(s){const{allOf:h,...p}=o,S=[];for(let v=0;v<l.length;v++){const _=l[v];typeof _!="boolean"&&S.push(_)}return S.push(p),S}try{const h=[],p=[];o.allOf?.forEach(S=>{X(S)&&S.contains?h.push(S):p.push(S)}),h.length&&(o={...o,allOf:p}),o=e.mergeAllOf(o),h.length&&(o.allOf=h)}catch(h){console.warn(`could not merge subschemas in allOf:
`,h);const{allOf:p,...S}=o;return S}}const g=o.patternProperties,y=g!==void 0,m=o.additionalProperties!==void 0&&o.additionalProperties!==!1;if(!y&&!m)return o;const f={...o.properties},b=I(i);if(y)for(const h of Object.keys(f)){const p=bn(g,h);p.length>0&&(p.push(f[h]),f[h]=W(t,e,{allOf:p},r,b?i[h]:void 0))}return li(t,e,{...o,properties:f},r,b?i:void 0)})}function fi(t,e,n,r,i,s,a){const{if:c,then:d,else:o,...l}=n,g=c!==void 0&&t.isValid(c,r,a||{});let y=[l],m=[];if(i)d&&typeof d!="boolean"&&(m=m.concat(B(t,e,d,r,a,i,s))),o&&typeof o!="boolean"&&(m=m.concat(B(t,e,o,r,a,i,s)));else{const f=g?d:o;f&&typeof f!="boolean"&&(m=m.concat(B(t,e,f,r,a,i,s)))}return m.length&&(y=ne(l)?m:m.map(f=>e.mergeSchemas(l,f))),y.flatMap(f=>B(t,e,f,r,a,i,s))}function li(t,e,n,r,i){const{additionalProperties:s,patternProperties:a}=n,c=typeof s!="boolean"&&s,d=s===!0||c&&Object.keys(s).length===0;function o(l){if(a!==void 0){const g=bn(a,l);if(g.length>0)return{...W(t,e,{allOf:g},r,i?.[l])}}if(c){if(J in s)return{...W(t,e,{$ref:s[J]},r,i)};if("type"in s)return{...s};if(sn in s||on in s)return{type:"object",...s}}if(d){const g=i?.[l];if(g!==void 0)return{type:Se(g)}}return{type:"null"}}if(i!==void 0)for(const l of Object.keys(i)){if(l in n.properties)continue;const g=o(l);g[rt]=!0,n.properties[l]=g}return n}function di(t,e,n,r,i,s,a){const c=hn(t,e,n,r,i,s,a);if(c.length>1||c[0]!==n)return c;if(nn in n)return mn(t,e,n,r,i,s,a).flatMap(o=>B(t,e,o,r,a,i,s));if(rn in n&&Array.isArray(n.allOf)){const d=n.allOf.filter(l=>typeof l!="boolean").map(l=>B(t,e,l,r,a,i,s));return vn(d).map(l=>({...n,allOf:l}))}return[n]}function mn(t,e,n,r,i,s,a){const{dependencies:c,...d}=n;return gi(t,e,d,r,i,a).flatMap(l=>pn(t,e,c,l,r,i,s,a))}function gi(t,e,n,r,i,s){let a;const{oneOf:c,anyOf:d,...o}=n;if(Array.isArray(c)?a=c:Array.isArray(d)&&(a=d),a){const l=s===void 0&&i?{}:s,g=de(n);a=a.map(f=>fe(e,f,r));const y=ci(t,l,a,r,g),m=ne(o);if(i)return m?a:a.map(f=>e.mergeSchemas(o,f));n=m?a[y]:e.mergeSchemas(o,a[y])}return[n]}function pn(t,e,n,r,i,s,a,c){let d=[r];for(const o in n){if(!s&&(!I(c)||c[o]===void 0)||r.properties&&!(o in r.properties))continue;const{[o]:l,...g}=n;return Array.isArray(l)?d[0]=e.mergeSchemas(r,{required:l}):typeof l!="boolean"&&l&&(d=yi(t,e,r,i,o,l,s,a,c)),d.flatMap(y=>pn(t,e,g,y,i,s,a,c))}return d}function yi(t,e,n,r,i,s,a,c,d){return B(t,e,s,r,d,a,c).flatMap(l=>{const{oneOf:g,...y}=l,m=ne(y)?n:e.mergeSchemas(n,y);if(g===void 0)return m;const f=g.map(h=>typeof h=="boolean"||!(J in h)?[h]:hn(t,e,h,r,a,c,d));return vn(f).flatMap(h=>hi(t,e,m,r,i,h,a,c,d))})}function hi(t,e,n,r,i,s,a,c,d){const o=s.filter(l=>{if(typeof l=="boolean"||!l||!l.properties)return!1;const{[i]:g}=l.properties;if(g){const y={type:"object",properties:{[i]:g}};return t.isValid(y,r,d)||a}return!1});return!a&&o.length!==1?(console.warn("ignoring oneOf in dependencies because there isn't exactly one subschema that is valid"),[n]):o.flatMap(l=>{const g=l,{[i]:y,...m}=g.properties,f={...g,properties:m};return B(t,e,f,r,d,a,c).map(h=>e.mergeSchemas(n,h))})}function vn(t){return t.reduce((n,r)=>r.length>1?r.flatMap(i=>Qr(n.length,s=>[...n[s]].concat(i))):(n.forEach(i=>i.push(r[0])),n),[[]])}function bn(t,e){const n=[];for(const[r,i]of Object.entries(t))new RegExp(r).test(e)&&n.push(i);return n}function st(t){return t.const!==void 0||Array.isArray(t.enum)&&t.enum.length===1}function mi(t){const e=t.enum;if(Array.isArray(e)&&e.length===1)return e[0];const n=t.const;if(n!==void 0)return n;throw new Error("schema cannot be inferred as a constant")}function ot(t,e,n,r){const i=W(t,e,n,r);if(Array.isArray(i.enum))return!0;const s=i.oneOf||i.anyOf;return Array.isArray(s)?s.every(a=>typeof a!="boolean"&&st(a)):!1}function pi({enum:t,oneOf:e,anyOf:n}){if(t!==void 0)return t;const r=e??n;if(r!==void 0)return r.map((i,s)=>{if(!X(i))throw new Error(`Invalid enum definition in altSchema.${s}`);return mi(i)})}function On(t,e,{items:n,uniqueItems:r},i){return r===!0&&I(n)&&ot(t,e,n,i)}function vi(t){const{items:e}=t;return Array.isArray(e)&&e.length>0&&e.every(I)}function At(t){return t==null}function Ae(t,e,n=!1,r=!1,i=!1){if(Array.isArray(e)){const s=Array.isArray(t)?t:[],a=i?s:e,c=i?e:s,d=a.map((o,l)=>c[l]!==void 0?Ae(s[l],e[l],n,r,i):o);return(n||i)&&d.length<c.length&&d.push(...c.slice(d.length)),d}if(I(e)){const s=Object.assign({},t),a=I(t)?t:{};for(const[c,d]of Object.entries(e)){const o=c in a,l=a[c];if(I(l)&&I(d)&&!Object.values(l).some(I)){s[c]={...l,...d};continue}s[c]=Ae(a[c],d,n,r,i&&o)}return s}return r&&(t!==void 0&&At(e)||typeof e=="number"&&isNaN(e))||i&&!At(e)?t:e}function _n(t,e,n=!1){const r=Object.assign({},t);for(const[i,s]of Object.entries(e)){const a=t?t[i]:{};I(a)&&I(s)?r[i]=_n(a,s,n):n&&Array.isArray(a)&&Array.isArray(s)?r[i]=a.concat(n==="preventDuplicates"?s.filter(c=>!a.includes(c)):s):r[i]=s}return r}function Sn(t){switch(t){case"array":return[];case"object":return{};case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"null":return null;default:{const e=t;throw new Error(`Unsupported schema type: ${e}`)}}}function Gs(t,e,n,r=void 0,i={},s=!1,a={}){const c=W(t,e,n,i,r),d=$(t,e,c,{rootSchema:i,includeUndefinedValues:s,experimental_defaultFormStateBehavior:a,rawFormData:r,parentDefaults:void 0,required:!1,isSchemaRoot:!0,stack:new Set,shouldMergeDefaultsIntoFormData:!0});if(c.type!=="object"&&I(c.default)&&(d===void 0||typeof d=="object")&&(r===void 0||typeof r=="object"))return{...d,...r};if(I(r)||Array.isArray(r)){const{mergeDefaultsIntoFormData:o}=a||{};return Ae(d,r,!0,o==="useDefaultIfFormDataUndefined",!0)}return d}function $(t,e,n,r){const{parentDefaults:i,rawFormData:s,rootSchema:a,includeUndefinedValues:c,stack:d,experimental_defaultFormStateBehavior:o,required:l,isSchemaRoot:g,shouldMergeDefaultsIntoFormData:y}=r,m=I(s),f=m?s:{},b=I(n)?n:{};let h=i,p=null,S=f,v=o,_=d;const{default:w,$ref:P,oneOf:A,anyOf:E,allOf:T}=b;if(st(b)&&o.constAsDefaults!=="never")h=b.const??b.enum?.[0];else if(I(h)&&I(w))h=_n(h,w);else if(w!==void 0&&A===void 0&&E===void 0&&P===void 0)h=w;else if(P!==void 0)d.has(P)||(_=new Set(d).add(P),p=it(e,P,a)),p&&h===void 0&&(h=w),y&&p&&!m&&(S=s);else if(nn in b){const C={...An(t,e,b,{...r,rawFormData:f},h),...f};p=mn(t,e,b,a,!1,new Set,C)[0]}else if(vi(b))h=b.items.map((C,F)=>$(t,e,C,{rootSchema:a,includeUndefinedValues:c,stack:d,experimental_defaultFormStateBehavior:o,parentDefaults:Array.isArray(i)?i[F]:void 0,rawFormData:f,required:l,isSchemaRoot:!1,shouldMergeDefaultsIntoFormData:y}));else if(A!==void 0){const{oneOf:C,...F}=b;if(A.length===0)return;const R=ke(b);(Array.isArray(R)?R.every(Ot):Ot(R))&&v?.constAsDefaults==="skipOneOf"&&(v={...v,constAsDefaults:"never"});const U=A[je(t,e,a,s??w,A.filter(X),0,de(b))];if(typeof U=="boolean")return;p=ne(F)?U:e.mergeSchemas(F,U)}else if(E!==void 0){const{anyOf:C,...F}=b;if(E.length===0)return;const R=E[je(t,e,a,s??w,E.filter(X),0,de(b))];if(typeof R=="boolean")return;p=ne(F)?R:e.mergeSchemas(F,R)}if(p)return $(t,e,p,{isSchemaRoot:g,rootSchema:a,includeUndefinedValues:c,stack:_,experimental_defaultFormStateBehavior:v,parentDefaults:h,rawFormData:s??S,required:l,shouldMergeDefaultsIntoFormData:y});h===void 0&&(h=b.default);let j=Oi(t,e,b,r,h)??h;if(y){const{arrayMinItems:C={}}=o||{},{mergeExtraDefaults:F}=C,R=bi(t,e,b,a,s,o);(!I(s)||T!==void 0)&&(j=Ae(j,R,F,!0))}return j}function bi(t,e,n,r,i,s){let a=i;return i!==void 0&&!st(n)&&ot(t,e,n,r)&&(a=pi(n)?.some(g=>Ne(g,i))?i:void 0),n.const!==void 0&&s?.constAsDefaults==="always"&&(a=n.const),a}function wt(t,e,n,r,i,s,a,c,d){const{emptyObjectFields:o="populateAllDefaults"}=d;if(r===!0||i)t.set(e,n);else if(r==="excludeObjectChildren")(Array.isArray(n)?n.length>0:!_e(n)||!ne(n))&&t.set(e,n);else if(o!=="skipDefaults"){const l=s?c.has(e):a;I(n)?o==="skipEmptyDefaults"?St(n)||t.set(e,n):(!St(n)||c.has(e))&&(l||o!=="populateRequiredDefaults")&&t.set(e,n):n!==void 0&&(o==="populateAllDefaults"||o==="skipEmptyDefaults"||l&&c.has(e))&&t.set(e,n)}}var ge;(function(t){t[t.Ignore=0]="Ignore",t[t.Invert=1]="Invert",t[t.Fallback=2]="Fallback"})(ge||(ge={}));function Ge(t,e=ge.Ignore,n=-1){if(n>=0){if(Array.isArray(t.items)&&n<t.items.length){const r=t.items[n];if(typeof r!="boolean")return r}}else if(t.items&&!Array.isArray(t.items)&&typeof t.items!="boolean")return t.items;return e!==ge.Ignore&&I(t.additionalItems)?t.additionalItems:{}}function Oi(t,e,n,r,i){switch(Ke(n)){case"object":{const{rawFormData:s}=r;return An(t,e,n,{...r,rawFormData:I(s)?s:{}},i)}case"array":return _i(t,e,n,r,Array.isArray(i)?i:void 0);default:return}}function An(t,e,n,{rootSchema:r,includeUndefinedValues:i,stack:s,experimental_defaultFormStateBehavior:a,required:c,isSchemaRoot:d,rawFormData:o,shouldMergeDefaultsIntoFormData:l},g){const y=a?.allOf==="populateDefaults"&&rn in n?W(t,e,n,r,o):n,m=new Set(y.required),f=I(y.const)?y.const:{},b=new Map,h=y.properties,p=I(g)?g:void 0,S=I(o)?o:void 0;if(h!==void 0)for(const[_,w]of Object.entries(h)){if(typeof w=="boolean")continue;const P=$(t,e,w,{rootSchema:r,stack:s,experimental_defaultFormStateBehavior:a,includeUndefinedValues:i===!0,parentDefaults:p?.[_],rawFormData:S?.[_],required:m.has(_),isSchemaRoot:!1,shouldMergeDefaultsIntoFormData:l}),A=(w.const!==void 0||f[_]!==void 0)&&a.constAsDefaults!=="never";wt(b,_,P,i,A,d,c,new Set(y.required),a)}const v=y.additionalProperties;if(v!==void 0){let _=new Set(I(g)?h===void 0?Object.keys(g):Object.keys(g).filter(E=>!(E in h)):void 0);const w=Object.keys(o),P=new Set(h===void 0?w:w.filter(E=>!(E in h)));_=_.union(P);const A=typeof v=="boolean"?{}:v;_.forEach(E=>{const T=$(t,e,A,{rootSchema:r,stack:s,experimental_defaultFormStateBehavior:a,includeUndefinedValues:i===!0,parentDefaults:p?.[E],rawFormData:S?.[E],required:m.has(E),isSchemaRoot:d,shouldMergeDefaultsIntoFormData:l});wt(b,E,T,i,!1,d,c,P,{})})}return Object.fromEntries(b)}function _i(t,e,n,{rawFormData:r,rootSchema:i,stack:s,experimental_defaultFormStateBehavior:a,required:c,shouldMergeDefaultsIntoFormData:d},o){const{populate:l,mergeExtraDefaults:g,computeSkipPopulate:y=()=>!1}=a?.arrayMinItems??{},m=l==="never",f=l==="requiredOnly",b=l==="all"||!m&&!f,p=a?.emptyObjectFields==="skipEmptyDefaults"?void 0:[];if(o!==void 0&&(o=o.map((P,A)=>{const E=Ge(n,ge.Fallback,A);return $(t,e,E,{rootSchema:i,stack:s,experimental_defaultFormStateBehavior:a,parentDefaults:P,required:c,includeUndefinedValues:!1,rawFormData:void 0,isSchemaRoot:!1,shouldMergeDefaultsIntoFormData:d})})),Array.isArray(r)){const P=Ge(n);if(m)o=r;else{const A=r.map((T,j)=>$(t,e,P,{rootSchema:i,stack:s,experimental_defaultFormStateBehavior:a,rawFormData:T,parentDefaults:o?.[j],required:c,includeUndefinedValues:!1,isSchemaRoot:!1,shouldMergeDefaultsIntoFormData:d}));o=Ae(o,A,(f&&c||b)&&g===!0)}}if(n.const===void 0||a.constAsDefaults==="never"){if(m)return o??p;if(f&&!c)return o}const S=o?.length??0;if(!n.minItems||On(t,e,n,i)||y(t,n,i)||n.minItems<=S)return o??p;const v=Ge(n,ge.Invert),_=v.default,w=Array.from({length:n.minItems-S},()=>$(t,e,v,{parentDefaults:_,rootSchema:i,stack:s,experimental_defaultFormStateBehavior:a,required:c,includeUndefinedValues:!1,rawFormData:void 0,isSchemaRoot:!1,shouldMergeDefaultsIntoFormData:d}));return S?o.concat(w):w}const Si=t=>t.length>1?`properties '${t.join("', '")}'`:`property '${t[0]}'`;function Ai(t,e){const n=Object.keys(t);if(e===void 0)return n;const r=e.filter(c=>c==="*"||t[c]),i=new Set(r),s=n.filter(c=>!i.has(c)),a=r.indexOf("*");if(a===-1){if(s.length)throw new Error(`uiSchema order list does not contain ${Si(s)}`);return r}if(a!==r.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");return r.splice(a,1,...s),r}function wi(t,e){const n=t[e];return typeof n=="boolean"||!n?!1:rt in n}function Ei({type:t,format:e}){return t==="string"&&e===Jr}function Pi(t,e,n,r){const{items:i}=n;if(Zr(i)){const s=W(t,e,i,r);return Ei(s)}return!1}function Ti(t,e){return(I(t.additionalProperties)||t.patternProperties!==void 0)&&I(e)&&(t.maxProperties===void 0||Object.keys(e).length<t.maxProperties)}const Q=Symbol("no Value");function Te(t,e,n,r,i){return n[J]!==void 0?W(t,e,n,r,i):n}function Ii(t,e,n,r,i,s,a){const c=e.type,d=n.type;if(!c||c===d){const o=t.maxItems??-1;return d==="object"?a.reduce((l,g)=>{const y=at(r,i,s,n,e,g);return y!==void 0&&(o<0||l.length<o)&&l.push(y),l},[]):o>0&&a.length>o?a.slice(0,o):a}return Q}function at(t,e,n,r,i,s){let a;const c=r.properties,d=I(s);if(c!==void 0){const o={},l=i.properties;l!==void 0&&d&&Object.keys(l).forEach(m=>{m in s&&(o[m]=void 0)});const g=Object.keys(c),y={};g.forEach(m=>{const f=d?s[m]:void 0,b=l?.[m];let h=typeof b=="object"?b:{};const p=c?.[m];let S=typeof p=="object"?p:{};h=Te(t,e,h,n,f),S=Te(t,e,S,n,f);const v=h.type,_=S.type;if(!v||v===_)if(m in o&&delete o[m],_==="object"||_==="array"&&Array.isArray(f)){const w=at(t,e,n,S,h,f);(w!==void 0||_==="array")&&(y[m]=w)}else{const w=S.default??Q,P=h.default??Q;w!==Q&&w!==f&&(P===f?o[m]=w:S.readOnly===!0&&(o[m]=void 0));const A=S.const??Q,E=h.const??Q;A!==Q&&A!==f&&(o[m]=E===f?A:void 0)}}),a={...d?s:void 0,...o,...y}}else if(i.type==="array"&&r.type==="array"&&Array.isArray(s)){const o=i.items,l=r.items;if(I(o)&&I(l)){const g=Ii(r,Te(t,e,o,n,s),Te(t,e,l,n,s),t,e,n,s);g!==Q&&(a=g)}else typeof o=="boolean"&&typeof l=="boolean"&&o===l&&(a=s)}return a}function Ri(t){return typeof t?.$ref=="string"}function xe(t,e){return Ri(e)?t["ui:definitions"]?.[e.$ref]:e}function Ci(t,e,n,r){let i=n["ui:options"]?.[r];return i===void 0&&(i=t["ui:globalOptions"]?.[r]),typeof i=="string"&&i.startsWith("registry:")?e[i.substring(9)]:i}function wn(t,e,n){let r=xe(t,e);for(let i=0;i<n.length;i++){if(r===void 0)return;const s=r.anyOf??r.oneOf;if(s){let l;const g=n.slice(i);for(const y of s)if(l=wn(t,y,g),l!==void 0)return l}const a=n[i],{items:c,additionalItems:d,additionalProperties:o}=r;r=xe(t,r[a]??(Array.isArray(c)?c[a]:c)??o??d)}return r}function Js(t,e){return wn(t,t,e)?.["ui:options"]?.title}class Et extends Map{#e=new Map;#t=G(0);#n=G(0);#s=dt||-1;constructor(e){if(super(),e){for(var[n,r]of e)super.set(n,r);this.#n.v=super.size}}#r(e){return dt===this.#s?G(e):Pr(e)}has(e){var n=this.#e,r=n.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#r(0),n.set(e,r);else return u(this.#t),!1}return u(r),!0}forEach(e,n){this.#i(),super.forEach(e,n)}get(e){var n=this.#e,r=n.get(e);if(r===void 0){var i=super.get(e);if(i!==void 0)r=this.#r(0),n.set(e,r);else{u(this.#t);return}}return u(r),super.get(e)}set(e,n){var r=this.#e,i=r.get(e),s=super.get(e),a=super.set(e,n),c=this.#t;if(i===void 0)i=this.#r(0),r.set(e,i),L(this.#n,super.size),me(c);else if(s!==n){me(i);var d=c.reactions===null?null:new Set(c.reactions),o=d===null||!i.reactions?.every(l=>d.has(l));o&&me(c)}return a}delete(e){var n=this.#e,r=n.get(e),i=super.delete(e);return r!==void 0&&(n.delete(e),L(this.#n,super.size),L(r,-1),me(this.#t)),i}clear(){if(super.size!==0){super.clear();var e=this.#e;L(this.#n,0);for(var n of e.values())L(n,-1);me(this.#t),e.clear()}}#i(){u(this.#t);var e=this.#e;if(this.#n.v!==e.size){for(var n of super.keys())if(!e.has(n)){var r=this.#r(0);e.set(n,r)}}for([,r]of this.#e)u(r)}keys(){return u(this.#t),super.keys()}values(){return this.#i(),super.values()}entries(){return this.#i(),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return u(this.#n),super.size}}class Fi{}class Xs{state;constructor(e){this.state=e}}class Zs extends Error{}function Qs(t){return new Et(Et.groupBy(t,e=>e.instanceId))}const En=1,Pn=En<<1,Tn=Pn<<1,In=Tn<<1,Rn=In<<1,Cn=Rn<<1,Fn=Cn<<1,ut=Fn<<1;function xs(t){return"validateFormValue"in t}function $s(t){return"validateFormValueAsync"in t}function eo(t){return"validateFieldValue"in t}function to(t){return"validateFieldValueAsync"in t}function Mi(t){return"validateAdditionalPropertyKey"in t}const ji="root",Mn=".",Ni="::";function Vi(t,{idPrefix:e=ji,idSeparator:n=Mn}={}){return t.length===0?e:`${e}${n}${t.join(n)}`}const no=Vi;function $e(t,e,{idPseudoSeparator:n=Ni}={}){return`${t}${n}${e}`}function ct(t,e,{idSeparator:n=Mn}={}){return`${t}${n}${e}`}function Di(t){return(e,n)=>{const r=t(e,n);return r===void 0?`Label "${e}" is not translated`:typeof r=="string"?r:r(n)}}const jn=Symbol("form-context"),ro=Symbol("form-value"),Ui=Symbol("form-mark-schema-change"),Pt=Symbol("form-keyed-arrays"),Nn=Symbol("form-fields-validation-mode"),ye=Symbol("form-schema"),Vn=Symbol("form-ui-schema-root"),io=Symbol("form-ui-schema"),Li=Symbol("form-ui-options-registry"),qe=Symbol("form-ui-extra-options"),oe=Symbol("form-validator"),ae=Symbol("form-merger"),ki=Symbol("form-icons"),so=Symbol("form-disabled"),oo=Symbol("form-data-url-to-blob"),Ki=Symbol("form-translation"),Tt=Symbol("form-translate"),qi=Symbol("form-resolver"),It=Symbol("form-theme"),ao=Symbol("form-root-id");function Z(){return tt(jn)}function uo(t){nt(jn,t)}function co(t,e){return ot(t[oe],t[ae],e,t[ye])}function fo(t,e){return On(t[oe],t[ae],e,t[ye])}function lo(t,e){return Pi(t[oe],t[ae],e,t[ye])}function ee(t,e,n){return W(t[oe],t[ae],e,t[ye],n)}function Yi(t,e,n,r){return at(t[oe],t[ae],t[ye],e,n,r)}function zi(t,e,n,r,i){return je(t[oe],t[ae],t[ye],e,n,r,i)}function ft(t,e,n){return t[ae].mergeFormDataAndSchemaDefaults(n,e)}function Hi(t){t[Ui]()}function se(t,e){return xe(t[Vn],e)??{}}function Ee(t,e,n){return Ci(t[Vn],t[Li],e,n)}function x(t,e){return Ee(t,e,"title")}function te(t,e,n){return t[qe]?.(n,e)??Ee(t,e.uiSchema,n)}function go(t){return(e,n,r)=>Object.assign(e,Ee(r,n.uiSchema,t),r[qe]?.(t,n))}function yo(t,e){return(n,r,i)=>{const s=Ee(i,r.uiSchema,t),a=i[qe]?.(t,r);return Object.assign(n,s&&e(s),a&&e(a))}}function Ve(t,e){let n=t[Ki];const r=Ee(t,e.uiSchema,"translations");n=r?pt(n,r):n;const i=t[qe]?.("translations",e);return n=i?pt(n,i):n,Di(n)}function Dn(t){return t[Nn]}function re(t,e){return t.errors.get(e)??[]}function lt(t,e,n){t.fieldsValidation.run(e,n)}function Bi(t,e,n,r){const i=t[oe];if(!Mi(i))return!0;const s=i.validateAdditionalPropertyKey(n,e.schema);return t.errors.set(r.id,s.map(a=>({propertyTitle:r.title,message:a,error:new Fi}))),s.length===0}function Wi(t,e){let n=G(!1),r=G(!1);we(()=>{t.isSubmitted||(L(n,!1),L(r,!1))});const i=d=>{const o=t[Nn];if(!(!(o&d)||o&ut&&!t.isSubmitted||o&Cn&&!u(n)||o&Fn&&!u(r)))return e},s=O(()=>i(En)),a=O(()=>i(Pn)),c=O(()=>i(Tn));return{oninput(){u(s)?.()},onchange(){L(n,!0),t.isChanged=!0,u(a)?.()},onblur(){L(r,!0),u(c)?.()}}}function Rt(t){return e=>Ji(e,{message:t})}var Gi=Le('<pre style="color: red;"> </pre>');function Ji(t,e){K(e,!0);var n=Gi(),r=Tr(n,!0);Ir(n),zt(()=>Ht(r,e.message)),M(t,n),q()}function k(t,e,n){const r=n.uiSchema["ui:components"]?.[e];switch(typeof r){case"undefined":return t[It](e,n)??Rt(t[Tt]("component-not-found",{type:e}));case"string":return t[It](r,n)??Rt(t[Tt]("component-not-found",{type:r}));default:return r}}function De(t,e){return k(t,t[qi](e),e)}function Xi(t,e,n,r){let i=Number.MIN_SAFE_INTEGER;return()=>{let s;const a=e();return a===void 0?s=n():(s=t[Pt].get(a),s===void 0&&(s=r(a,()=>i++),t[Pt].set(a,s))),s}}const Ct=()=>"abort",Zi=({status:t})=>t!=="processing";class Qi{state;constructor(e){this.state=e}}class xi{state;constructor(e){this.state=e}}function Ft(t){const e=O(()=>t.delayedMs??500),n=O(()=>t.timeoutMs??8e3),r=O(()=>t.combinator??Zi);let i=G({status:"idle"}),s,a;function c(){clearTimeout(s),clearTimeout(a)}function d(f){f.abortController.abort()}function o(f,b){if(u(i).status==="failed")throw new xi(u(i));u(i).status==="processing"&&u(i).promise===f&&(c(),b())}function l(f){if(u(i).status==="processing"){if(f!=="abort")return u(i).abortController;d(u(i))}return new AbortController}async function g(f,b){if(f===!1)throw new Qi(u(i));const h=l(f),p=t.execute(h.signal,...b);if(f==="untrack")return p;const S=p.then(v=>(o(S,()=>{L(i,{status:"success"}),t.onSuccess?.(v,...b)}),v),v=>(o(S,()=>{L(i,{status:"failed",reason:"error",error:v}),t.onFailure?.(u(i),...b)}),Promise.reject(v)));return L(i,{status:"processing",delayed:m.isDelayed,args:b,promise:S,abortController:h}),c(),s=setTimeout(()=>{u(i).status!=="processing"||u(i).promise!==S||L(i,{...u(i),delayed:!0})},u(e)),a=setTimeout(()=>{u(i).status!=="processing"||u(i).promise!==S||(d(u(i)),L(i,{status:"failed",reason:"timeout"}),t.onFailure?.(u(i),...b))},u(n)),S}function y(f){return Fe(()=>g(u(r)(u(i)),f))}const m={get state(){return u(i)},get status(){return u(i).status},get isSuccess(){return u(i).status==="success"},get isFailed(){return u(i).status==="failed"},get isProcessed(){return u(i).status==="processing"},get isDelayed(){return u(i).status==="processing"&&u(i).delayed},matches(f){return u(i).status===f},run(...f){y(f).catch(Wt)},runAsync(...f){return y(f)},abort(){Fe(()=>{if(u(i).status!=="processing")return;const{args:f}=u(i);d(u(i)),c(),L(i,{status:"failed",reason:"aborted"}),t.onFailure?.(u(i),...f)})}};return m}function ho([t,e]){return{get current(){return t()},set current(n){e(n)}}}function mo({initialOutput:t,getInput:e,setInput:n,toInput:r,toOutput:i,isEqual:s=Object.is}){let a;const c=Ft({combinator:Ct,execute:r,onSuccess(l){a=l,n(l)}});let d=G(t);const o=Ft({combinator:Ct,execute:i,onSuccess(l){L(d,l)}});return we(()=>{const l=e();s(l,a)||(c.abort(),o.run(l))}),{get current(){return u(d)},set current(l){o.abort(),c.run(l)},get inputProcessing(){return c.isProcessed},get outputProcessing(){return o.isProcessed}}}const $i=8192;function po(t){return async(e,n)=>{if(!n.startsWith("data:"))throw new Error("File is invalid: URI must be a dataURI");const i=n.slice(5).split(";base64,");if(i.length!==2)throw new Error("File is invalid: dataURI must be base64");const[s,a]=i,[c,...d]=s.split(";"),o=c||"",l=decodeURI(d.map(g=>g.split("=")).find(([g])=>g==="name")?.[1]||"unknown");try{const g=atob(a);await t({signal:e});const y=new Array(g.length);for(let f=0;f<g.length;f++)f%$i===0&&await t({signal:e}),y[f]=g.charCodeAt(f);return{blob:new Blob([new Uint8Array(y)],{type:o}),name:l}}catch(g){throw g instanceof DOMException&&g.name==="AbortError"?g:new Error("File is invalid: "+g.message)}}}function es(t,e){return t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function vo(t,e){const n=new FileReader,r=()=>{n.abort()};return t.addEventListener("abort",r),new Promise((i,s)=>{n.onerror=s,n.onabort=s,n.onload=a=>{const c=a.target?.result;if(typeof c!="string"){s(new Error("File is invalid: result must be a string"));return}i(es(c,e.name))},n.readAsDataURL(e)}).finally(()=>{t.removeEventListener("abort",r)})}function ie(t,e){K(e,!0);const n=Z(),r=Y(e,"args",19,()=>({})),i=O(()=>e.translate(e.id,r())),s=O(()=>({config:e.config,params:r(),translation:u(i)})),a=O(()=>n[ki]?.(e.id,u(s)));var c=V(),d=N(c);{var o=g=>{var y=V(),m=N(y);Mr(m,()=>u(a),()=>u(s)),M(g,y)},l=g=>{var y=Bt();zt(()=>Ht(y,u(i))),M(g,y)};ce(d,g=>{u(a)?g(o):g(l,!1)})}M(t,c),q()}var ts=Le("<!> <!>",1);function Un(t,e){K(e,!0);let n=Y(e,"value",15);const r=Z(),i=O(()=>k(r,"multiFieldTemplate",e.config)),s=O(()=>k(r,"selectWidget",e.config)),a=O(()=>{const{[e.combinationKey]:A,...E}=e.config.schema;return Ke(E)!=="null"?{...e.config,schema:E}:null}),c=O(()=>u(a)&&De(r,u(a))),d=O(()=>(e.config.schema[e.combinationKey]??[]).map(A=>typeof A!="boolean"?ee(r,A,n()):{}));let o=G(0),l=O(()=>zi(r,n(),u(d),u(o),de(e.config.schema)));we(()=>{const A=u(l);u(o)!==A&&(n(Fe(()=>{const E=u(d)[A];if(E===void 0)return;const T=u(d)[u(o)];return ft(r,E,T!==void 0?Yi(r,E,T,n()):n())})),L(o,A,!0))});const g=O(()=>{const A=e.config.uiSchema[e.combinationKey];return Array.isArray(A)?A.map(E=>se(r,E)):[]}),y=O(()=>{const A=x(r,e.config.uiSchema)??e.config.schema.title;return A?E=>e.translate("multi-schema-option-label-with-title",{index:E,title:A}):E=>e.translate("multi-schema-option-label",{index:E})}),m=O(()=>{const A=de(e.config.schema);return u(d).map((E,T)=>{if(A!==void 0){const C=u(g)[T]?.[A];if(typeof C=="object"&&!Array.isArray(C)){const R=x(r,se(r,C));if(R!==void 0)return R}const F=E.properties?.[A];if(F!==void 0&&typeof F!="boolean"){const{title:R}=ee(r,F,void 0);if(R!==void 0)return R}}const j=u(g)[T];return(j&&x(r,j))??E.title??u(y)(T)})}),f=O(()=>u(m).map((A,E)=>({id:$e(e.config.id,E,r),label:A,value:E,disabled:!1}))),b=O(()=>{const A=e.combinationKey.toLowerCase(),E=se(r,e.config.uiSchema.combinationFieldOptionSelector);return{id:$e(e.config.id,A,r),title:x(r,E)??e.config.title,schema:{type:"integer",default:0},uiSchema:E,required:!0}}),h=O(()=>re(r,e.config.id)),p=O(()=>{const A=u(o);if(A<0)return null;const E=u(d)[A],{required:T}=e.config.schema,j=T?{...E,required:E.required?T.concat(E.required):T}:E,C=A<u(g).length?u(g)[A]:e.config.uiSchema;return{id:e.config.id,title:"",schema:j,uiSchema:C,required:e.config.required}}),S=O(()=>u(p)&&De(r,u(p)));var v=ts(),_=N(v);{var w=A=>{var E=V(),T=N(E);{let j=O(()=>Ve(r,u(a)));D(T,()=>u(c),(C,F)=>{F(C,{type:"field",get config(){return u(a)},uiOption:R=>te(r,u(a),R),get translate(){return u(j)},get value(){return n()},set value(R){n(R)}})})}M(A,E)};ce(_,A=>{u(a)&&A(w)})}var P=Ie(_,2);{const A=E=>{var T=V(),j=N(T),C=()=>u(o),F=R=>L(l,R);D(j,()=>u(s),(R,U)=>{U(R,{type:"widget",get errors(){return u(h)},handlers:{},get config(){return u(b)},uiOption:z=>te(r,u(b),z),get options(){return u(f)},get value(){return C()},set value(z){F(z)}})}),M(E,T)};D(P,()=>u(i),(E,T)=>{T(E,{type:"template",get config(){return e.config},get value(){return n()},get errors(){return u(h)},get uiOption(){return e.uiOption},optionSelector:A,children:(j,C)=>{var F=V(),R=N(F);{var U=z=>{var ue=V(),ze=N(ue);{let Hn=O(()=>Ve(r,u(p)));D(ze,()=>u(S),(Bn,Wn)=>{Wn(Bn,{type:"field",get config(){return u(p)},uiOption:He=>te(r,u(p),He),get translate(){return u(Hn)},get value(){return n()},set value(He){n(He)}})})}M(z,ue)};ce(R,z=>{u(p)&&z(U)})}M(j,F)},$$slots:{optionSelector:!0,default:!0}})})}M(t,v),q()}class ns{array;nextKey;#e=G(0);get changesPropagator(){return u(this.#e)}set changesPropagator(e){L(this.#e,e)}keys;constructor(e,n){this.array=e,this.nextKey=n;const r=new Array(e.length);for(let i=0;i<e.length;i++)r[i]=n();this.keys=r}key(e){return this.changesPropagator,this.keys[e]}push(e){return this.keys.push(this.nextKey()),this.array.push(e)}swap(e,n){const r=this.keys[e];if(this.keys[e]=this.keys[n],this.keys[n]=r,this.array[e]===this.array[n])this.changesPropagator++;else{const i=this.array[e];this.array[e]=this.array[n],this.array[n]=i}}insert(e,n){this.keys.splice(e,0,this.nextKey()),this.array.splice(e,0,n)}remove(e){return this.keys.splice(e,1),this.array.splice(e,1)[0]}splice(e,n,...r){const i=r.length;if(i>0){const s=new Array(r.length);for(let a=0;a<i;a++)s[a]=this.nextKey();return this.keys.splice(e,n,...s),this.array.splice(e,n,...r)}else return this.keys.splice(e,n),this.array.splice(e,n)}}function rs(t,e,n){return e>=n?`${t}-${e-n+1}`:t}const Ln=Symbol("array-context");function is(){return tt(Ln)}function ss(t){nt(Ln,t)}function kn({ctx:t,config:e,itemSchema:n,keyedArray:r,value:i}){const s=f=>te(t,e(),f);function a(){const f=Dn(t);!(f&In)||f&ut&&!t.isSubmitted||lt(t,e(),i())}const c=O(r),d=O(()=>re(t,e().id)),o=O(()=>s("addable")??!0),l=O(()=>s("orderable")??!0),g=O(()=>s("removable")??!0),y=O(()=>s("copyable")??!1),m=O(()=>s("itemTitle")??rs);return{config:e,uiOption:s,validate:a,itemTitle(f,b,h,p){return u(m)(f,b,h,p)},addable:()=>u(o),orderable:()=>u(l),removable:()=>u(g),copyable:()=>u(y),errors:()=>u(d),key:f=>u(c).key(f),pushItem:()=>{const f=n();f!==void 0&&(u(c).push(ft(t,f,void 0)??Sn(Ke(f))),a())},moveItemUp(f){u(c).swap(f,f-1),a()},moveItemDown(f){u(c).swap(f,f+1),a()},copyItem(f){u(c).insert(f,Jt(i()[f])),a()},removeItem(f){u(c).remove(f),a()}}}function Kn(t,e,n){let r;return()=>n()&&(r=t().schema.maxItems,r===void 0||e()<r)}function os({ctx:t,config:e,value:n,keyedArray:r}){const i=O(n),s=O(()=>{const{schema:{items:g}}=e();return I(g)?g:{}}),a=kn({ctx:t,config:e,value:n,keyedArray:r,itemSchema:()=>u(s)}),c=O(()=>{const{uiSchema:{items:g}}=e();return se(t,Array.isArray(g)?void 0:g)}),d=O(()=>x(t,u(c))),o=()=>u(i)?.length??0,l=O(Kn(e,o,a.addable));return{...a,length:o,set(g,y){u(i)[g]=y},canAdd(){return u(l)},canCopy(){return a.copyable()&&u(l)},canRemove:a.removable,canMoveUp(g){return a.orderable()&&g>0},canMoveDown(g){return a.orderable()&&g<u(i).length-1},itemConfig(g,y,m){const f=ee(t,u(s),y);return{id:ct(g.id,m,t),title:a.itemTitle(u(d)??f.title??g.title,m,0,y),schema:f,uiSchema:u(c),required:!ln(f)}}}}function as({ctx:t,config:e,value:n,keyedArray:r}){const i=O(n),s=O(()=>{const{items:f}=e().schema;return Array.isArray(f)?f.map((b,h)=>{if(typeof b=="boolean")throw new Error("Invalid schema: items must be an array of schemas");return ee(t,b,u(i)?.[h])}):[]}),a=f=>f>=u(s).length,c=O(()=>{const{additionalItems:f}=e().schema;return I(f)?f:void 0}),d=O(r),o=kn({ctx:t,config:e,value:n,keyedArray:()=>u(d),itemSchema:()=>u(c)}),l=O(()=>Math.max(u(i)?.length??0,u(s).length)),g=()=>u(l),y=O(Kn(e,g,()=>o.addable()&&u(c)!==void 0));function m(f=Wt){const b=new Array(u(l));f(b),u(d).splice(0,0,...b)}return{...o,length:g,pushItem(){u(i)===void 0&&m(),o.pushItem()},set(f,b){u(i)!==void 0?u(i)[f]=b:m(h=>{h[f]=b})},canAdd(){return u(y)},canCopy(f){return o.copyable()&&u(y)&&a(f)},canRemove(f){return o.removable()&&a(f)},canMoveUp(f){return o.orderable()&&f>u(s).length},canMoveDown(f){return o.orderable()&&f<u(l)-1&&a(f)},itemConfig(f,b,h){const p=a(h),S=ee(t,p?u(c):u(s)[h],b),v=se(t,p?f.uiSchema.additionalItems:Array.isArray(f.uiSchema.items)?f.uiSchema.items[h]:f.uiSchema.items);return{id:ct(f.id,h,t),title:o.itemTitle(x(t,v)??S.title??f.title,h,u(s).length,b),schema:S,uiSchema:v,required:!ln(S)}}}}class us{setValue;constructor(e){this.setValue=e}key(e){return e}push(e){return this.setValue([e]),1}swap(){throw new Error('Method "swap" cannot be called on "VirtualKeyedArray" instance')}insert(e,n){if(e!==0)throw new Error(`Method "insert" cannot be called on "VirtualKeyedArray" instance with those args (index=${e}), expected (0)`);this.setValue([n])}remove(e){throw new Error('Method "remove" cannot be called on "VirtualKeyedArray" instance')}splice(e,n,...r){if(e!==0||n!==0)throw new Error(`Method "splice" cannot be called on "VirtualKeyedArray" instance with those args(start=${e}, count=${n}) expected (0, 0)`);return this.setValue(r),[]}}function qn(t,e){K(e,!0);const n=g=>{var y=V(),m=N(y);{let f=O(()=>s.errors());D(m,()=>u(d),(b,h)=>{h(b,{get errors(){return u(f)},get config(){return e.config},disabled:!1,type:"array-item-add",get onclick(){return s.pushItem},children:(p,S)=>{ie(p,{get config(){return e.config},id:"add-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})})}M(g,y)};let r=Y(e,"value",15);const i=Z(),s=e.createArrayContext({ctx:i,config:()=>e.config,value:()=>r(),keyedArray:Xi(i,()=>r(),()=>new us(g=>r(g)),(g,y)=>new ns(g,y))});ss(s);const a=O(()=>k(i,"arrayItemField",e.config)),c=O(()=>k(i,"arrayTemplate",e.config)),d=O(()=>k(i,"button",e.config));var o=V(),l=N(o);{let g=O(()=>s.errors()),y=O(()=>s.canAdd()?n:void 0);D(l,()=>u(c),(m,f)=>{f(m,{type:"template",get errors(){return u(g)},get config(){return e.config},get value(){return r()},get addButton(){return u(y)},get uiOption(){return e.uiOption},children:(b,h)=>{var p=V(),S=N(p);Gt(S,19,()=>({length:s.length()}),(v,_)=>s.key(_),(v,_,w)=>{const P=O(()=>s.itemConfig(e.config,r()?.[u(w)],u(w)));var A=V(),E=N(A),T=()=>r()?.[u(w)],j=C=>s.set(u(w),C);{let C=O(()=>Ve(i,u(P)));D(E,()=>u(a),(F,R)=>{R(F,{type:"field",get index(){return u(w)},get config(){return u(P)},get value(){return T()},set value(U){j(U)},uiOption:U=>te(i,u(P),U),get translate(){return u(C)}})})}M(v,A)}),M(b,p)},$$slots:{default:!0}})})}M(t,o),q()}function cs(t,e){K(e,!0);let n=Y(e,"value",15);qn(t,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get createArrayContext(){return os},get value(){return n()},set value(r){n(r)}}),q()}function fs(t,e){K(e,!0);let n=Y(e,"value",15);qn(t,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get createArrayContext(){return as},get value(){return n()},set value(r){n(r)}}),q()}var ls=Le("<!> <!>",1),ds=Le("<!> <!> <!>",1);function gs(t,e){K(e,!0);const n=p=>{var S=ds(),v=N(S);{var _=T=>{var j=ls(),C=N(j);{let R=O(()=>!u(g));D(C,()=>u(d),(U,z)=>{z(U,{get errors(){return u(f)},get config(){return e.config},type:"array-item-move-up",get disabled(){return u(R)},onclick:()=>{s.moveItemUp(e.index)},children:(ue,ze)=>{ie(ue,{get config(){return e.config},id:"move-array-item-up",get translate(){return e.translate}})},$$slots:{default:!0}})})}var F=Ie(C,2);{let R=O(()=>!u(y));D(F,()=>u(d),(U,z)=>{z(U,{get errors(){return u(f)},get config(){return e.config},get disabled(){return u(R)},type:"array-item-move-down",onclick:()=>{s.moveItemDown(e.index)},children:(ue,ze)=>{ie(ue,{get config(){return e.config},id:"move-array-item-down",get translate(){return e.translate}})},$$slots:{default:!0}})})}M(T,j)};ce(v,T=>{s.orderable()&&T(_)})}var w=Ie(v,2);{var P=T=>{var j=V(),C=N(j);D(C,()=>u(d),(F,R)=>{R(F,{get errors(){return u(f)},get config(){return e.config},type:"array-item-copy",onclick:()=>{s.copyItem(e.index)},disabled:!1,children:(U,z)=>{ie(U,{get config(){return e.config},id:"copy-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})}),M(T,j)};ce(w,T=>{u(o)&&T(P)})}var A=Ie(w,2);{var E=T=>{var j=V(),C=N(j);D(C,()=>u(d),(F,R)=>{R(F,{get errors(){return u(f)},get config(){return e.config},disabled:!1,type:"array-item-remove",onclick:()=>{s.removeItem(e.index)},children:(U,z)=>{ie(U,{get config(){return e.config},id:"remove-array-item",get translate(){return e.translate}})},$$slots:{default:!0}})}),M(T,j)};ce(A,T=>{u(l)&&T(E)})}M(p,S)};let r=Y(e,"value",15);const i=Z(),s=is(),a=O(()=>k(i,"arrayItemTemplate",e.config)),c=O(()=>De(i,e.config)),d=O(()=>k(i,"button",e.config)),o=O(()=>s.canCopy(e.index)),l=O(()=>s.canRemove(e.index)),g=O(()=>s.canMoveUp(e.index)),y=O(()=>s.canMoveDown(e.index)),m=O(()=>u(o)||u(l)||u(g)||u(y)),f=O(()=>re(i,e.config.id));var b=V(),h=N(b);{let p=O(()=>u(m)?n:void 0);D(h,()=>u(a),(S,v)=>{v(S,{type:"template",get index(){return e.index},get value(){return r()},get config(){return e.config},get errors(){return u(f)},get buttons(){return u(p)},get uiOption(){return e.uiOption},children:(_,w)=>{var P=V(),A=N(P);D(A,()=>u(c),(E,T)=>{T(E,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get value(){return r()},set value(j){r(j)}})}),M(_,P)},$$slots:{default:!0}})})}M(t,b),q()}function Mt(t,e,n){let r=0,i;do i=n(e,r++);while(i in t);return i}function ys(t,e){return e===0?t:`${t}-${e}`}function hs(t){const e=[],n=Object.keys(t);for(const r of n){const i=t[r];!X(i)||rt in i||e.push(r)}return e.length<n.length&&e.push("*"),e}const Yn=Symbol("object-context");function zn(){return tt(Yn)}function ms(t){nt(Yn,t)}function ps({ctx:t,config:e,value:n,translate:r}){const i=O(()=>ee(t,e().schema,n()));let s;const a=O(()=>{const h=Jt(u(i).properties);return yn(s,h)||(s=h),s});we(()=>{u(a),Hi(t)});const c=h=>te(t,e(),h),d=O(()=>I(u(a))?Ai(u(a),c("order")??hs(u(a))):[]),o=O(()=>new Set(u(i).required)),l=O(()=>{const{additionalProperties:h,patternProperties:p}=u(i);if(I(h))return _=>ee(t,h,_);let S;if(p===void 0||(S=Object.keys(p),S.length===0))return()=>({});const v=S.map(_=>{const w=p[_];return[new RegExp(_),typeof w=="boolean"?{}:w]});return(_,w)=>ee(t,v.find(([P])=>P.test(w))?.[1]??v[0][1],_)}),g=O(()=>c("expandable")!==!1&&Ti(u(i),n())),y=O(()=>re(t,e().id)),m=O(()=>r("additional-property",{}));function f(h){const p=Dn(t);!(p&Rn)||p&ut&&!t.isSubmitted||lt(t,e(),h)}const b=O(()=>c("additionalPropertyKey")??ys);return{validate(){f(n())},errors(){return u(y)},canExpand(){return u(g)},propertiesOrder(){return u(d)},isAdditionalProperty(h){return wi(u(a),h)},propertyConfig(h,p,S){const v=u(a)[p]??!1,_=typeof v=="boolean"?{}:v,w=se(t,S?h.uiSchema.additionalProperties:h.uiSchema[p]);return{id:ct(h.id,p,t),title:x(t,w)??_.title??p,schema:_,uiSchema:w,required:u(o).has(p)}},addProperty(){const h=n();if(h===void 0)return;const p=Mt(h,u(m),u(b)),S=u(l)(h,p);h[p]=ft(t,S,void 0)??Sn(Ke(S)),f(h)},removeProperty(h){const p=n();p!==void 0&&(delete p[h],f(p))},renameProperty(h,p,S){const v=n();if(v===void 0)return;const _=Mt(v,p,u(b));Bi(t,e(),_,S)&&(v[_]=v[h],delete v[h],f(v))}}}function vs(t,e){K(e,!0);const n=g=>{var y=V(),m=N(y);{let f=O(()=>s.errors());D(m,()=>u(d),(b,h)=>{h(b,{type:"object-property-add",get config(){return e.config},get errors(){return u(f)},disabled:!1,get onclick(){return s.addProperty},children:(p,S)=>{ie(p,{get config(){return e.config},id:"add-object-property",get translate(){return e.translate}})},$$slots:{default:!0}})})}M(g,y)},r=Z();let i=Y(e,"value",15);const s=ps({ctx:r,config:()=>e.config,value:()=>i(),translate:e.translate});ms(s);const a=O(()=>k(r,"objectPropertyField",e.config)),c=O(()=>k(r,"objectTemplate",e.config)),d=O(()=>k(r,"button",e.config));var o=V(),l=N(o);{let g=O(()=>s.errors()),y=O(()=>s.canExpand()?n:void 0);D(l,()=>u(c),(m,f)=>{f(m,{type:"template",get value(){return i()},get config(){return e.config},get errors(){return u(g)},get addButton(){return u(y)},get uiOption(){return e.uiOption},children:(b,h)=>{var p=V(),S=N(p);Gt(S,16,()=>s.propertiesOrder(),v=>v,(v,_)=>{const w=O(()=>s.isAdditionalProperty(_)),P=O(()=>s.propertyConfig(e.config,_,u(w)));var A=V(),E=N(A),T=()=>i()?.[_],j=C=>{const F=i();F===void 0?i({[_]:C}):F[_]=C};{let C=O(()=>Ve(r,u(P)));D(E,()=>u(a),(F,R)=>{R(F,{type:"field",get property(){return _},get isAdditional(){return u(w)},get value(){return T()},set value(U){j(U)},get config(){return u(P)},uiOption:U=>te(r,u(P),U),get translate(){return u(C)}})})}M(v,A)}),M(b,p)},$$slots:{default:!0}})})}M(t,o),q()}function bs(t,e){K(e,!0);const n=Z(),r=zn(),i=O(()=>$e(e.parentId,"key-input",n)),s=O(()=>({id:u(i),name:u(i),title:x(n,e.uiSchema)??e.translate("key-input-title",{name:e.property}),schema:{type:"string"},uiSchema:e.uiSchema,required:!0})),a=O(()=>k(n,"fieldTemplate",u(s))),c="textWidget",d=O(()=>k(n,c,u(s)));let o=O(()=>e.property);const l={onblur:()=>{u(o)===void 0||u(o)===e.property||r.renameProperty(e.property,u(o),u(s))}},g=O(()=>re(n,u(i))),y=b=>te(n,u(s),b);var m=V(),f=N(m);D(f,()=>u(a),(b,h)=>{h(b,{type:"template",showTitle:!0,useLabel:!0,widgetType:c,get value(){return e.property},get config(){return u(s)},get errors(){return u(g)},uiOption:y,children:(p,S)=>{var v=V(),_=N(v);D(_,()=>u(d),(w,P)=>{P(w,{type:"widget",get errors(){return u(g)},get handlers(){return l},get config(){return u(s)},uiOption:y,get value(){return u(o)},set value(A){L(o,A)}})}),M(p,v)},$$slots:{default:!0}})}),M(t,m),q()}function Os(t,e){K(e,!0);const n=m=>{{let f=O(()=>se(s,e.config.uiSchema.additionalPropertyKeyInput));bs(m,{get translate(){return e.translate},get property(){return e.property},get parentId(){return e.config.id},get uiSchema(){return u(f)}})}},r=m=>{var f=V(),b=N(f);D(b,()=>u(o),(h,p)=>{p(h,{get errors(){return u(l)},get config(){return e.config},type:"object-property-remove",disabled:!1,onclick:()=>{a.removeProperty(e.property)},children:(S,v)=>{ie(S,{get config(){return e.config},id:"remove-object-property",get translate(){return e.translate}})},$$slots:{default:!0}})}),M(m,f)};let i=Y(e,"value",15);const s=Z(),a=zn(),c=O(()=>k(s,"objectPropertyTemplate",e.config)),d=O(()=>De(s,e.config)),o=O(()=>k(s,"button",e.config)),l=O(()=>re(s,e.config.id));var g=V(),y=N(g);{let m=O(()=>e.isAdditional?n:void 0),f=O(()=>e.isAdditional?r:void 0);D(y,()=>u(c),(b,h)=>{h(b,{type:"template",get property(){return e.property},get value(){return i()},get config(){return e.config},get errors(){return u(l)},get keyInput(){return u(m)},get removeButton(){return u(f)},get uiOption(){return e.uiOption},children:(p,S)=>{var v=V(),_=N(v);D(_,()=>u(d),(w,P)=>{P(w,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get value(){return i()},set value(A){i(A)}})}),M(p,v)},$$slots:{default:!0}})})}M(t,g),q()}function Ye(t,e){K(e,!0);const n=Z();let r=Y(e,"value",15);const i=O(()=>k(n,"fieldTemplate",e.config)),s=O(()=>k(n,e.widgetType,e.config)),a=Wi(n,()=>lt(n,e.config,r())),c=O(()=>re(n,e.config.id));var d=V(),o=N(d);D(o,()=>u(i),(l,g)=>{g(l,{type:"template",get showTitle(){return e.showTitle},get useLabel(){return e.useLabel},get widgetType(){return e.widgetType},get uiOption(){return e.uiOption},get value(){return r()},get config(){return e.config},get errors(){return u(c)},children:(y,m)=>{var f=V(),b=N(f),h=()=>e.fromValue(r()),p=S=>r(e.toValue(S));D(b,()=>u(s),(S,v)=>{v(S,{type:"widget",get config(){return e.config},get errors(){return u(c)},get uiOption(){return e.uiOption},get value(){return h()},set value(_){p(_)},get handlers(){return a}})}),M(y,f)},$$slots:{default:!0}})}),M(t,d),q()}function _s(t,e){K(e,!0);let n=Y(e,"value",15);{let r=O(()=>e.uiOption("hideTitle")===!1);Ye(t,{get config(){return e.config},get uiOption(){return e.uiOption},widgetType:"checkboxWidget",get showTitle(){return u(r)},useLabel:!0,get fromValue(){return le},get toValue(){return le},get value(){return n()},set value(i){n(i)}})}q()}function Ss(t,e){K(e,!0);let n=Y(e,"value",15);var r=()=>n(),i=s=>{Number.isInteger(s)?n(s):s===void 0&&n(e.uiOption("numberEmptyValue"))};Ye(t,{get config(){return e.config},get uiOption(){return e.uiOption},showTitle:!0,useLabel:!0,widgetType:"numberWidget",get value(){return r()},set value(s){i(s)},get fromValue(){return le},get toValue(){return le}}),q()}function As(t,e){K(e,!0);let n=Y(e,"value",15);we(()=>{n()===void 0&&n(null)});const r=Z(),i=O(()=>k(r,"fieldTemplate",e.config)),s=O(()=>re(r,e.config.id));var a=V(),c=N(a);D(c,()=>u(i),(d,o)=>{o(d,{type:"template",showTitle:!0,useLabel:!1,widgetType:"nullField",get uiOption(){return e.uiOption},get errors(){return u(s)},get value(){return n()},get config(){return e.config},children:(l,g)=>{Rr();var y=Bt();y.nodeValue="",M(l,y)},$$slots:{default:!0}})}),M(t,a),q()}function ws(t,e){K(e,!0);let n=Y(e,"value",15);Ye(t,{get config(){return e.config},get uiOption(){return e.uiOption},showTitle:!0,useLabel:!0,widgetType:"numberWidget",get fromValue(){return le},toValue:r=>r??e.uiOption("numberEmptyValue"),get value(){return n()},set value(r){n(r)}}),q()}function Es(t,e){K(e,!0);let n=Y(e,"value",15);Ye(t,{get config(){return e.config},get uiOption(){return e.uiOption},showTitle:!0,useLabel:!0,widgetType:"textWidget",get fromValue(){return le},toValue:r=>r||e.uiOption("stringEmptyValue"),get value(){return n()},set value(r){n(r)}}),q()}function Ps(t,e){K(e,!0);let n=Y(e,"value",15);Un(t,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get combinationKey(){return sn},get value(){return n()},set value(r){n(r)}}),q()}function Ts(t,e){K(e,!0);let n=Y(e,"value",15);Un(t,{type:"field",get config(){return e.config},get uiOption(){return e.uiOption},get translate(){return e.translate},get combinationKey(){return on},get value(){return n()},set value(r){n(r)}}),q()}const Is=Object.freeze(Object.defineProperty({__proto__:null,anyOfField:Ps,arrayField:cs,arrayItemField:gs,booleanField:_s,integerField:Ss,nullField:As,numberField:ws,objectField:vs,objectPropertyField:Os,oneOfField:Ts,stringField:Es,tupleField:fs},Symbol.toStringTag,{value:"Module"})),bo=Object.assign({},Is);export{go as $,De as A,ee as B,_e as C,Jt as D,wn as E,Ye as F,Vn as G,Vi as H,Nr as I,Mn as J,co as K,fo as L,vi as M,lo as N,En as O,Ei as P,Ns as Q,Vs as R,Hs as S,ie as T,Wi as U,lt as V,I as W,re as X,bo as Y,mo as Z,vo as _,uo as a,Me as a0,Kr as a1,cn as a2,un as a3,fn as a4,J as a5,rt as a6,Ks as a7,ks as a8,$r as a9,Nn as aA,$s as aB,Zs as aC,Qs as aD,xs as aE,Ct as aF,Xs as aG,Di as aH,xe as aI,po as aJ,ho as aK,ji as aL,Ni as aM,to as aN,eo as aO,Et as aP,Ne as aQ,Gs as aR,ve as aS,qr as aT,ct as aa,oo as ab,Ws as ac,mi as ad,se as ae,Vr as af,Dr as ag,kr as ah,yo as ai,Ls as aj,js as ak,Ys as al,Bs as am,qs as an,so as ao,Ui as ap,ki as aq,Tt as ar,Ki as as,It as at,qi as au,ae as av,oe as aw,Li as ax,qe as ay,Pt as az,Pn as b,Ft as c,In as d,no as e,tn as f,Js as g,zs as h,ce as i,X as j,si as k,Ke as l,Z as m,D as n,Ve as o,Y as p,$e as q,Ds as r,Us as s,io as t,ye as u,ao as v,k as w,te as x,ro as y,x as z};
