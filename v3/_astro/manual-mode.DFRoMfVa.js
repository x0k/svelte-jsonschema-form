import"./_commonjsHelpers.DWjMLJnj.js";import{p as w,m as y,e as S,b as g,a as E,g as e,u as l,f as L,c as T,s as U,J as j,r as N}from"./render.BD-ZvB3X.js";import{a as k}from"./file.CB3AE7uM.js";import{p as B,a as D,i as J,C as K,e as z,D as p,J as G,K as V,E as Q,G as W,H as X,L as Y,M as Z,N as $,z as ee,P as te,I as re,A as d}from"./definitions.MJ4hHTJ0.js";import{c as ae,h as ne}from"./en.DQ4APLFd.js";import{s as se}from"./snippet.B-gF8x--.js";import{g as A}from"./checkboxes-include.4dZxm2Nr.js";import{d as oe}from"./defaults.DSkAhv1X.js";import"./file-include.BoYneJ0W.js";function M(v,o){w(o,!0);const r=B(o,"form",7),a=l(()=>Y(r()[Z],o.path)),u=l(()=>{if(e(a).length===0)return{get value(){return r()[p]},set value(i){r()[p]=i}};let t=r()[p],n=-1;const s=e(a).length-1;for(;G(t)&&++n<s;)t=t[e(a)[n]];if(n!==s)throw console.error("Current form state",V(r()[p])),new Error(`Path "[${e(a).join(", ")}]" is not populated or invalid, check current form state`);const m=e(a)[s];return{get value(){return t[m]},set value(i){t[m]=i}}}),c=l(()=>{if(e(a).length<2)return r()[d];const n=A(r()[d],r()[d],e(a).slice(0,-1));return n===void 0||typeof n=="boolean"?{}:n}),_=l(()=>{if(e(a).length===0)return r()[d];const t=A(r()[d],e(c),e(a).slice(-1));return t===void 0||typeof t=="boolean"?{}:t}),h=l(()=>re(r(),e(_),e(u).value)),b=l(()=>o.uiSchema??$(r()[te],r()[ee],e(a))??{}),P=l(()=>{if(o.required!==void 0)return o.required;if(e(a).length===0)return!1;const t=e(a)[e(a).length-1],{required:n,items:s,minItems:m}=e(c);if(Array.isArray(n))return n.includes(t);const i=Number(t);if(Number.isInteger(i)&&i>=0){if(m!==void 0)return i<m;if(Array.isArray(s))return i<s.length}return!1}),f=l(()=>({path:e(a),title:W(r(),e(b))??e(h).title??"",schema:e(h),uiSchema:e(b),required:e(P)})),F=l(()=>Q(r(),e(f))),O=t=>K(r(),e(f),t);D(r());var R=y(),x=S(R);{var C=t=>{var n=y(),s=S(n);se(s,()=>o.render,()=>({type:"field",config:e(f),translate:e(F),uiOption:O,valueRef:e(u)})),g(t,n)},I=t=>{const n=l(()=>X(r(),e(f)));var s=y(),m=S(s);z(m,()=>e(n),(i,q)=>{q(i,{type:"field",get config(){return e(f)},uiOption:O,get translate(){return e(F)},get value(){return e(u).value},set value(H){e(u).value=H}})}),g(t,s)};J(x,t=>{o.render?t(C):t(I,!1)})}g(v,R),E()}var ie=L('<form novalidate="" style="display: flex; flex-direction: column; gap: 1rem;"><!> <!> <button type="submit">Submit</button></form>');function ve(v,o){w(o,!0);const a=ae({...oe,schema:{type:"object",properties:{login:{title:"Login",type:"string",minLength:3},password:{title:"Password",type:"string",minLength:6}},required:["login","password"],additionalProperties:!1},onSubmit(h){console.log(h)}});var u=ie(),c=T(u);M(c,{get form(){return a},path:["login"]});var _=U(c,2);M(_,{get form(){return a},path:["password"],uiSchema:{"ui:options":{text:{type:"password"}}}}),j(2),N(u),k(u,()=>ne(a)),g(v,u),E()}export{ve as default};
