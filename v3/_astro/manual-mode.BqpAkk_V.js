import"./_commonjsHelpers.DeY__IKx.js";import{p as x,l as _,e as b,b as p,a as C,g as e,u as s,f as L,c as B,s as T,M as j,r as k}from"./render.BvCbmumc.js";import{a as D}from"./file.B_KPueyH.js";import{p as N,a as z,i as G,y as J,q as K,z as h,E as V,G as Q,A as W,B as X,C as Y,H as Z,u as $,I as ee,D as te,J as re,v as d}from"./definitions.C_vWxCYR.js";import{c as ne,h as ae}from"./en.hnw_2O20.js";import{s as oe}from"./snippet.B_3_pwki.js";import{g as w}from"./path.brDYzWCR.js";import{d as ie}from"./defaults.C7HDVKP6.js";import"./file-include.t4Sbet-o.js";import"./file-include.CoVe1OkB.js";import"./validator.cEjJKxxo.js";import"./ajv.CT5ug_Jq.js";function q(v,o){x(o,!0);const r=N(o,"form",7),n=s(()=>o.name===""?[]:o.name.split(".")),c=s(()=>re(e(n),r())),m=s(()=>{if(e(n).length===0)return{get value(){return r()[h]},set value(l){r()[h]=l}};let t=r()[h],a=-1;const i=e(n).length-1;for(;V(t)&&++a<i;)t=t[e(n)[a]];if(a!==i)throw console.error("Current form state",Q(r()[h])),new Error(`Path "${o.name}" is not populated or invalid, check current form state`);const u=e(n)[i];return{get value(){return t[u]},set value(l){t[u]=l}}}),g=s(()=>{if(e(n).length<2)return r()[d];const a=w(r()[d],r()[d],e(n).slice(0,-1));return a===void 0||typeof a=="boolean"?{}:a}),y=s(()=>{if(e(n).length===0)return r()[d];const t=w(r()[d],e(g),e(n).slice(-1));return t===void 0||typeof t=="boolean"?{}:t}),S=s(()=>te(r(),e(y),e(m).value)),F=s(()=>o.uiSchema??Z(r()[ee],r()[$],e(n))??{}),P=s(()=>{if(o.required!==void 0)return o.required;if(e(n).length===0)return!1;const t=e(n)[e(n).length-1],{required:a,items:i,minItems:u}=e(g);if(Array.isArray(a))return a.includes(t);const l=Number(t);if(Number.isInteger(l)&&l>=0){if(u!==void 0)return l<u;if(Array.isArray(i))return l<i.length}return!1}),f=s(()=>({id:e(c),title:X(r(),e(F))??e(S).title??"",schema:e(S),uiSchema:e(F),required:e(P)})),O=s(()=>W(r(),e(f))),A=t=>J(r(),e(f),t);z(r());var M=_(),R=b(M);{var E=t=>{var a=_(),i=b(a);oe(i,()=>o.render,()=>({type:"field",config:e(f),translate:e(O),uiOption:A,valueRef:e(m)})),p(t,a)},I=t=>{const a=s(()=>Y(r(),e(f)));var i=_(),u=b(i);K(u,()=>e(a),(l,U)=>{U(l,{type:"field",get config(){return e(f)},uiOption:A,get translate(){return e(O)},get value(){return e(m).value},set value(H){e(m).value=H}})}),p(t,i)};G(R,t=>{o.render?t(E):t(I,!1)})}p(v,M),C()}var se=L('<form novalidate="" style="display: flex; flex-direction: column; gap: 1rem;"><!> <!> <button type="submit">Submit</button></form>');function be(v,o){x(o,!0);const n=ne({...ie,schema:{type:"object",properties:{login:{title:"Login",type:"string",minLength:3},password:{title:"Password",type:"string",minLength:6}},required:["login","password"],additionalProperties:!1},onSubmit(y){console.log(y)}});var c=se(),m=B(c);q(m,{get form(){return n},name:"login"});var g=T(m,2);q(g,{get form(){return n},name:"password",uiSchema:{"ui:options":{text:{type:"password"}}}}),j(2),k(c),D(c,()=>ae(n)),p(v,c),C()}export{be as default};
