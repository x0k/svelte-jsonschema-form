import{p as x,n as I,V as W,a2 as C,$ as D,a0 as V,a3 as k,o as m,W as q,w as p,Y as B,Z as H}from"./definitions.B4_vGVaR.js";import"./_commonjsHelpers.C50WZpYe.js";import{p as R,l as v,e as y,b as h,a as U,g as o,u,a2 as Y}from"./render.ByIQ4bwk.js";import{a as Z}from"./file-include.Cdq1mPI_.js";function b(w,n){R(n,!0);let i=x(n,"value",15);const a=I(),F=u(()=>p(a,"fieldTemplate",n.config)),l="fileWidget",_=u(()=>p(a,l,n.config)),A=W(a,()=>q(a,n.config,i())),s=C({initialOutput:void 0,getInput:()=>i(),setInput:e=>i(e),isEqual:(e,t)=>e===void 0&&t===void 0||Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((r,f)=>r===t[f]),async toOutput(e,t){const r=new DataTransfer;return t!==void 0&&await Z(a,e,r,t),r.files},async toInput(e,t){if(t!==void 0){if(!await D(e,a,n.config,t))throw new V;return Promise.all(Array.from(t).map(r=>k(e,r)))}}}),d=u(()=>B(a,n.config.id));var g=v(),O=y(g);m(O,()=>o(F),(e,t)=>{t(e,{type:"template",showTitle:!0,useLabel:!0,get uiOption(){return n.uiOption},widgetType:l,get value(){return i()},get config(){return n.config},get errors(){return o(d)},children:(r,f)=>{var c=v(),T=y(c);m(T,()=>o(_),(E,L)=>{L(E,{type:"widget",get processing(){return s.inputProcessing},get loading(){return s.outputProcessing},get uiOption(){return n.uiOption},get handlers(){return A},get errors(){return o(d)},get config(){return n.config},multiple:!0,get value(){return s.current},set value(P){s.current=P}})}),h(r,c)},$$slots:{default:!0}})}),h(w,g),U()}H.filesField=b;Y();export{b as F};
