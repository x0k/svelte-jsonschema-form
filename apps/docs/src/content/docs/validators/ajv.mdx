---
title: Ajv
sidebar:
  order: 0
---

import { LinkButton, Code, Card, TabItem, Tabs } from '@astrojs/starlight/components';

import Npm from '@/components/npm.astro';

import Form from './_ajv.astro';
import formCode from './_ajv.svelte?raw';
import sharedCode from './_shared.ts?raw';
import apiCode from './_ajv.ts.api?raw'

Form validator implementation based on [Ajv@8 JSON schema validator](https://github.com/ajv-validator/ajv).

:::note

Currently this validator supports in place schema mutations
but in the next major version it will check only for reference equality by default.

:::

## Installation

<Npm pkg="@sjsf/ajv8-validator ajv@8" />

## Example

<Tabs>
  <TabItem label="form.svelte">
    <Code code={formCode} lang='svelte' />
  </TabItem>
  <TabItem label="_shared.ts">
    <Code code={sharedCode} lang='typescript' />
  </TabItem>
</Tabs>

<Card>
  <Form />
</Card>

## Async validation

This validator supports async validation.

<LinkButton
  href="https://ajv.js.org/guide/async-validation.html"
  variant="secondary"
  icon="external"
  iconPlacement="end"
  target="_blank"
>
  Asynchronous validation
</LinkButton>

```typescript
import { createAsyncValidator } from "@sjsf/ajv8-validator";

const validator = createAsyncValidator({
  ajv: yourAjvInstance,
})
```

## API

<Code code={apiCode} lang="typescript" />
