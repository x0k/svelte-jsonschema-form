---
title: Validator
---

Validator - a set of functions called by the form to check the data:

- `isValid` (called to correctly handle the following keywords `oneOf`, `anyOf` and `if,then,else`, required)
- `validateFormValue` (optional)
- `validateFormValueAsync` (optional)
- `validateFieldValue` (optional)
- `validateFieldValueAsync` (optional)
- `validateAdditionalPropertyKey` (optional)

You can easily extend/modify the validator to suit your needs.

```ts
import type { FormValueValidator } from "@sjsf/form";
import { createFormValidator } from "@sjsf/ajv8-validator";

export function createValidator() {
  const validator = createFormValidator();
  return {
    ...validator,
    validateFormValue(rootSchema, formValue) {
      const errors = validator.validateFormValue(rootSchema, formValue);
      // Your logic
      return errors
    },
  } satisfies FormValueValidator;
}
```

## API

```typescript
export interface Validator {
  isValid(
    schema: SchemaDefinition,
    rootSchema: Schema,
    formValue: SchemaValue | undefined
  ): boolean;
}

export interface ValidationError {
  path: Path;
  message: string;
}

export interface FormValueValidator {
  validateFormValue: (
    rootSchema: Schema,
    formValue: FormValue
  ) => ValidationError[];
}

export interface AsyncFormValueValidator {
  validateFormValueAsync: (
    signal: AbortSignal,
    rootSchema: Schema,
    formValue: FormValue
  ) => Promise<ValidationError[]>;
}

export type AnyFormValueValidator =
  | FormValueValidator
  | AsyncFormValueValidator;

export type Update<T> = T | ((data: T) => T);

export interface FieldValueValidator {
  validateFieldValue: (
    field: Config,
    fieldValue: FieldValue
  ) => Update<string[]>;
}

export interface AsyncFieldValueValidator {
  validateFieldValueAsync: (
    signal: AbortSignal,
    field: Config,
    fieldValue: FieldValue
  ) => Promise<Update<string[]>>;
}

export type AnyFieldValueValidator =
  | FieldValueValidator
  | AsyncFieldValueValidator;

export interface AdditionalPropertyKeyValidator {
  validateAdditionalPropertyKey: (
    key: string,
    schema: Schema
  ) => Update<string[]>;
}

export interface AsyncFileListValidator {
  validateFileListAsync: (
    signal: AbortSignal,
    fileList: FileList,
    config: Config
  ) => Promise<Update<string[]>>;
}
