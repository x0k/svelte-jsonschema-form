import{H as an,J as _n,K as vn,L as gn,M as Kt,P as $n,q as wn,D as bn,Q as En,r as Lt,p as Sn,T as Pn,R as Rn,I as Ht,U as Nn}from"./en.DGEgCmcp.js";import{g as On}from"./_commonjsHelpers.Cpj98o6Y.js";import"./props.D-KTQNlX.js";function ht(e,r,d={type:"root",path:[]}){if(!an(e))return r(e,d);const i={...e};for(const u of _n){const c=e[u];if(c===void 0||!Array.isArray(c))continue;const f={type:"array",parent:e,key:u,index:0,path:d.path.concat(u,0)};i[u]=c.map((g,v)=>(f.index=v,f.path[f.path.length-1]=v,ht(g,r,f)))}const y=new Map;for(const u of vn){const c=e[u];if(c===void 0)continue;const f={type:"record",parent:e,key:u,property:"",path:d.path.concat(u,"")};for(const[g,v]of Object.entries(c))Array.isArray(v)||(f.property=g,f.path[f.path.length-1]=g,y.set(g,ht(v,r,f)));i[u]=Object.fromEntries(y),y.clear()}const a={type:"sub",parent:e,key:"items",path:d.path.concat("")};for(const u of gn){const c=e[u];c===void 0||Array.isArray(c)||(a.key=u,a.path[a.path.length-1]=u,i[u]=ht(c,r,a))}return r(i,d)}function jn(e,r){return ht(e,d=>{if(!an(d))return d;const i=d[Kt];return i!==void 0&&i.startsWith("#")&&(d[Kt]=`${r}${i}`),d})}var je={exports:{}},St={},he={},ge={},Pt={},Rt={},Nt={},Gt;function mt(){return Gt||(Gt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class d extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=d;class i extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((s,h)=>`${s}${h}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((s,h)=>(h instanceof d&&(s[h.str]=(s[h.str]||0)+1),s),{})}}e._Code=i,e.nil=new i("");function y(o,...t){const s=[o[0]];let h=0;for(;h<t.length;)c(s,t[h]),s.push(o[++h]);return new i(s)}e._=y;const a=new i("+");function u(o,...t){const s=[P(o[0])];let h=0;for(;h<t.length;)s.push(a),c(s,t[h]),s.push(a,P(o[++h]));return f(s),new i(s)}e.str=u;function c(o,t){t instanceof i?o.push(...t._items):t instanceof d?o.push(t):o.push(E(t))}e.addCodeArg=c;function f(o){let t=1;for(;t<o.length-1;){if(o[t]===a){const s=g(o[t-1],o[t+1]);if(s!==void 0){o.splice(t-1,3,s);continue}o[t++]="+"}t++}}function g(o,t){if(t==='""')return o;if(o==='""')return t;if(typeof o=="string")return t instanceof d||o[o.length-1]!=='"'?void 0:typeof t!="string"?`${o.slice(0,-1)}${t}"`:t[0]==='"'?o.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(o instanceof d))return`"${o}${t.slice(1)}`}function v(o,t){return t.emptyStr()?o:o.emptyStr()?t:u`${o}${t}`}e.strConcat=v;function E(o){return typeof o=="number"||typeof o=="boolean"||o===null?o:P(Array.isArray(o)?o.join(","):o)}function R(o){return new i(P(o))}e.stringify=R;function P(o){return JSON.stringify(o).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=P;function p(o){return typeof o=="string"&&e.IDENTIFIER.test(o)?new i(`.${o}`):y`[${o}]`}e.getProperty=p;function b(o){if(typeof o=="string"&&e.IDENTIFIER.test(o))return new i(`${o}`);throw new Error(`CodeGen: invalid export name: ${o}, use explicit $id name mapping`)}e.getEsmExportName=b;function n(o){return new i(o.toString())}e.regexpCode=n}(Nt)),Nt}var Ot={},Jt;function Wt(){return Jt||(Jt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=mt();class d extends Error{constructor(g){super(`CodeGen: "code" for ${g} not defined`),this.value=g.value}}var i;(function(f){f[f.Started=0]="Started",f[f.Completed=1]="Completed"})(i||(e.UsedValueState=i={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class y{constructor({prefixes:g,parent:v}={}){this._names={},this._prefixes=g,this._parent=v}toName(g){return g instanceof r.Name?g:this.name(g)}name(g){return new r.Name(this._newName(g))}_newName(g){const v=this._names[g]||this._nameGroup(g);return`${g}${v.index++}`}_nameGroup(g){var v,E;if(!((E=(v=this._parent)===null||v===void 0?void 0:v._prefixes)===null||E===void 0)&&E.has(g)||this._prefixes&&!this._prefixes.has(g))throw new Error(`CodeGen: prefix "${g}" is not allowed in this scope`);return this._names[g]={prefix:g,index:0}}}e.Scope=y;class a extends r.Name{constructor(g,v){super(v),this.prefix=g}setValue(g,{property:v,itemIndex:E}){this.value=g,this.scopePath=(0,r._)`.${new r.Name(v)}[${E}]`}}e.ValueScopeName=a;const u=(0,r._)`\n`;class c extends y{constructor(g){super(g),this._values={},this._scope=g.scope,this.opts={...g,_n:g.lines?u:r.nil}}get(){return this._scope}name(g){return new a(g,this._newName(g))}value(g,v){var E;if(v.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const R=this.toName(g),{prefix:P}=R,p=(E=v.key)!==null&&E!==void 0?E:v.ref;let b=this._values[P];if(b){const t=b.get(p);if(t)return t}else b=this._values[P]=new Map;b.set(p,R);const n=this._scope[P]||(this._scope[P]=[]),o=n.length;return n[o]=v.ref,R.setValue(v,{property:P,itemIndex:o}),R}getValue(g,v){const E=this._values[g];if(E)return E.get(v)}scopeRefs(g,v=this._values){return this._reduceValues(v,E=>{if(E.scopePath===void 0)throw new Error(`CodeGen: name "${E}" has no value`);return(0,r._)`${g}${E.scopePath}`})}scopeCode(g=this._values,v,E){return this._reduceValues(g,R=>{if(R.value===void 0)throw new Error(`CodeGen: name "${R}" has no value`);return R.value.code},v,E)}_reduceValues(g,v,E={},R){let P=r.nil;for(const p in g){const b=g[p];if(!b)continue;const n=E[p]=E[p]||new Map;b.forEach(o=>{if(n.has(o))return;n.set(o,i.Started);let t=v(o);if(t){const s=this.opts.es5?e.varKinds.var:e.varKinds.const;P=(0,r._)`${P}${s} ${o} = ${t};${this.opts._n}`}else if(t=R?.(o))P=(0,r._)`${P}${t}${this.opts._n}`;else throw new d(o);n.set(o,i.Completed)})}return P}}e.ValueScope=c}(Ot)),Ot}var Bt;function J(){return Bt||(Bt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=mt(),d=Wt();var i=mt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var y=Wt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return y.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return y.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return y.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return y.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class a{optimizeNodes(){return this}optimizeNames(l,w){return this}}class u extends a{constructor(l,w,I){super(),this.varKind=l,this.name=w,this.rhs=I}render({es5:l,_n:w}){const I=l?d.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${V};`+w}optimizeNames(l,w){if(l[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,l,w)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends a{constructor(l,w,I){super(),this.lhs=l,this.rhs=w,this.sideEffects=I}render({_n:l}){return`${this.lhs} = ${this.rhs};`+l}optimizeNames(l,w){if(!(this.lhs instanceof r.Name&&!l[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,l,w),this}get names(){const l=this.lhs instanceof r.Name?{}:{...this.lhs.names};return K(l,this.rhs)}}class f extends c{constructor(l,w,I,V){super(l,I,V),this.op=w}render({_n:l}){return`${this.lhs} ${this.op}= ${this.rhs};`+l}}class g extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`${this.label}:`+l}}class v extends a{constructor(l){super(),this.label=l,this.names={}}render({_n:l}){return`break${this.label?` ${this.label}`:""};`+l}}class E extends a{constructor(l){super(),this.error=l}render({_n:l}){return`throw ${this.error};`+l}get names(){return this.error.names}}class R extends a{constructor(l){super(),this.code=l}render({_n:l}){return`${this.code};`+l}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(l,w){return this.code=B(this.code,l,w),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class P extends a{constructor(l=[]){super(),this.nodes=l}render(l){return this.nodes.reduce((w,I)=>w+I.render(l),"")}optimizeNodes(){const{nodes:l}=this;let w=l.length;for(;w--;){const I=l[w].optimizeNodes();Array.isArray(I)?l.splice(w,1,...I):I?l[w]=I:l.splice(w,1)}return l.length>0?this:void 0}optimizeNames(l,w){const{nodes:I}=this;let V=I.length;for(;V--;){const z=I[V];z.optimizeNames(l,w)||(x(l,z.names),I.splice(V,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce((l,w)=>L(l,w.names),{})}}class p extends P{render(l){return"{"+l._n+super.render(l)+"}"+l._n}}class b extends P{}class n extends p{}n.kind="else";class o extends p{constructor(l,w){super(w),this.condition=l}render(l){let w=`if(${this.condition})`+super.render(l);return this.else&&(w+="else "+this.else.render(l)),w}optimizeNodes(){super.optimizeNodes();const l=this.condition;if(l===!0)return this.nodes;let w=this.else;if(w){const I=w.optimizeNodes();w=this.else=Array.isArray(I)?new n(I):I}if(w)return l===!1?w instanceof o?w:w.nodes:this.nodes.length?this:new o(de(l),w instanceof o?[w]:w.nodes);if(!(l===!1||!this.nodes.length))return this}optimizeNames(l,w){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames(l,w),!!(super.optimizeNames(l,w)||this.else))return this.condition=B(this.condition,l,w),this}get names(){const l=super.names;return K(l,this.condition),this.else&&L(l,this.else.names),l}}o.kind="if";class t extends p{}t.kind="for";class s extends t{constructor(l){super(),this.iteration=l}render(l){return`for(${this.iteration})`+super.render(l)}optimizeNames(l,w){if(super.optimizeNames(l,w))return this.iteration=B(this.iteration,l,w),this}get names(){return L(super.names,this.iteration.names)}}class h extends t{constructor(l,w,I,V){super(),this.varKind=l,this.name=w,this.from=I,this.to=V}render(l){const w=l.es5?d.varKinds.var:this.varKind,{name:I,from:V,to:z}=this;return`for(${w} ${I}=${V}; ${I}<${z}; ${I}++)`+super.render(l)}get names(){const l=K(super.names,this.from);return K(l,this.to)}}class _ extends t{constructor(l,w,I,V){super(),this.loop=l,this.varKind=w,this.name=I,this.iterable=V}render(l){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(l)}optimizeNames(l,w){if(super.optimizeNames(l,w))return this.iterable=B(this.iterable,l,w),this}get names(){return L(super.names,this.iterable.names)}}class m extends p{constructor(l,w,I){super(),this.name=l,this.args=w,this.async=I}render(l){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(l)}}m.kind="func";class $ extends P{render(l){return"return "+super.render(l)}}$.kind="return";class k extends p{render(l){let w="try"+super.render(l);return this.catch&&(w+=this.catch.render(l)),this.finally&&(w+=this.finally.render(l)),w}optimizeNodes(){var l,w;return super.optimizeNodes(),(l=this.catch)===null||l===void 0||l.optimizeNodes(),(w=this.finally)===null||w===void 0||w.optimizeNodes(),this}optimizeNames(l,w){var I,V;return super.optimizeNames(l,w),(I=this.catch)===null||I===void 0||I.optimizeNames(l,w),(V=this.finally)===null||V===void 0||V.optimizeNames(l,w),this}get names(){const l=super.names;return this.catch&&L(l,this.catch.names),this.finally&&L(l,this.finally.names),l}}class C extends p{constructor(l){super(),this.error=l}render(l){return`catch(${this.error})`+super.render(l)}}C.kind="catch";class M extends p{render(l){return"finally"+super.render(l)}}M.kind="finally";class F{constructor(l,w={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...w,_n:w.lines?`
`:""},this._extScope=l,this._scope=new d.Scope({parent:l}),this._nodes=[new b]}toString(){return this._root.render(this.opts)}name(l){return this._scope.name(l)}scopeName(l){return this._extScope.name(l)}scopeValue(l,w){const I=this._extScope.value(l,w);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue(l,w){return this._extScope.getValue(l,w)}scopeRefs(l){return this._extScope.scopeRefs(l,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(l,w,I,V){const z=this._scope.toName(w);return I!==void 0&&V&&(this._constants[z.str]=I),this._leafNode(new u(l,z,I)),z}const(l,w,I){return this._def(d.varKinds.const,l,w,I)}let(l,w,I){return this._def(d.varKinds.let,l,w,I)}var(l,w,I){return this._def(d.varKinds.var,l,w,I)}assign(l,w,I){return this._leafNode(new c(l,w,I))}add(l,w){return this._leafNode(new f(l,e.operators.ADD,w))}code(l){return typeof l=="function"?l():l!==r.nil&&this._leafNode(new R(l)),this}object(...l){const w=["{"];for(const[I,V]of l)w.length>1&&w.push(","),w.push(I),(I!==V||this.opts.es5)&&(w.push(":"),(0,r.addCodeArg)(w,V));return w.push("}"),new r._Code(w)}if(l,w,I){if(this._blockNode(new o(l)),w&&I)this.code(w).else().code(I).endIf();else if(w)this.code(w).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(l){return this._elseNode(new o(l))}else(){return this._elseNode(new n)}endIf(){return this._endBlockNode(o,n)}_for(l,w){return this._blockNode(l),w&&this.code(w).endFor(),this}for(l,w){return this._for(new s(l),w)}forRange(l,w,I,V,z=this.opts.es5?d.varKinds.var:d.varKinds.let){const Q=this._scope.toName(l);return this._for(new h(z,Q,w,I),()=>V(Q))}forOf(l,w,I,V=d.varKinds.const){const z=this._scope.toName(l);if(this.opts.es5){const Q=w instanceof r.Name?w:this.var("_arr",w);return this.forRange("_i",0,(0,r._)`${Q}.length`,W=>{this.var(z,(0,r._)`${Q}[${W}]`),I(z)})}return this._for(new _("of",V,z,w),()=>I(z))}forIn(l,w,I,V=this.opts.es5?d.varKinds.var:d.varKinds.const){if(this.opts.ownProperties)return this.forOf(l,(0,r._)`Object.keys(${w})`,I);const z=this._scope.toName(l);return this._for(new _("in",V,z,w),()=>I(z))}endFor(){return this._endBlockNode(t)}label(l){return this._leafNode(new g(l))}break(l){return this._leafNode(new v(l))}return(l){const w=new $;if(this._blockNode(w),this.code(l),w.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode($)}try(l,w,I){if(!w&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new k;if(this._blockNode(V),this.code(l),w){const z=this.name("e");this._currNode=V.catch=new C(z),w(z)}return I&&(this._currNode=V.finally=new M,this.code(I)),this._endBlockNode(C,M)}throw(l){return this._leafNode(new E(l))}block(l,w){return this._blockStarts.push(this._nodes.length),l&&this.code(l).endBlock(w),this}endBlock(l){const w=this._blockStarts.pop();if(w===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-w;if(I<0||l!==void 0&&I!==l)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${l} expected`);return this._nodes.length=w,this}func(l,w=r.nil,I,V){return this._blockNode(new m(l,w,I)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(m)}optimize(l=1){for(;l-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(l){return this._currNode.nodes.push(l),this}_blockNode(l){this._currNode.nodes.push(l),this._nodes.push(l)}_endBlockNode(l,w){const I=this._currNode;if(I instanceof l||w&&I instanceof w)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${w?`${l.kind}/${w.kind}`:l.kind}"`)}_elseNode(l){const w=this._currNode;if(!(w instanceof o))throw new Error('CodeGen: "else" without "if"');return this._currNode=w.else=l,this}get _root(){return this._nodes[0]}get _currNode(){const l=this._nodes;return l[l.length-1]}set _currNode(l){const w=this._nodes;w[w.length-1]=l}}e.CodeGen=F;function L(j,l){for(const w in l)j[w]=(j[w]||0)+(l[w]||0);return j}function K(j,l){return l instanceof r._CodeOrName?L(j,l.names):j}function B(j,l,w){if(j instanceof r.Name)return I(j);if(!V(j))return j;return new r._Code(j._items.reduce((z,Q)=>(Q instanceof r.Name&&(Q=I(Q)),Q instanceof r._Code?z.push(...Q._items):z.push(Q),z),[]));function I(z){const Q=w[z.str];return Q===void 0||l[z.str]!==1?z:(delete l[z.str],Q)}function V(z){return z instanceof r._Code&&z._items.some(Q=>Q instanceof r.Name&&l[Q.str]===1&&w[Q.str]!==void 0)}}function x(j,l){for(const w in l)j[w]=(j[w]||0)-(l[w]||0)}function de(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,r._)`!${q(j)}`}e.not=de;const fe=N(e.operators.AND);function Z(...j){return j.reduce(fe)}e.and=Z;const ye=N(e.operators.OR);function A(...j){return j.reduce(ye)}e.or=A;function N(j){return(l,w)=>l===r.nil?w:w===r.nil?l:(0,r._)`${q(l)} ${j} ${q(w)}`}function q(j){return j instanceof r.Name?j:(0,r._)`(${j})`}}(Rt)),Rt}var H={},Xt;function X(){if(Xt)return H;Xt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=J(),r=mt();function d(_){const m={};for(const $ of _)m[$]=!0;return m}H.toHash=d;function i(_,m){return typeof m=="boolean"?m:Object.keys(m).length===0?!0:(y(_,m),!a(m,_.self.RULES.all))}H.alwaysValidSchema=i;function y(_,m=_.schema){const{opts:$,self:k}=_;if(!$.strictSchema||typeof m=="boolean")return;const C=k.RULES.keywords;for(const M in m)C[M]||h(_,`unknown keyword: "${M}"`)}H.checkUnknownRules=y;function a(_,m){if(typeof _=="boolean")return!_;for(const $ in _)if(m[$])return!0;return!1}H.schemaHasRules=a;function u(_,m){if(typeof _=="boolean")return!_;for(const $ in _)if($!=="$ref"&&m.all[$])return!0;return!1}H.schemaHasRulesButRef=u;function c({topSchemaRef:_,schemaPath:m},$,k,C){if(!C){if(typeof $=="number"||typeof $=="boolean")return $;if(typeof $=="string")return(0,e._)`${$}`}return(0,e._)`${_}${m}${(0,e.getProperty)(k)}`}H.schemaRefOrVal=c;function f(_){return E(decodeURIComponent(_))}H.unescapeFragment=f;function g(_){return encodeURIComponent(v(_))}H.escapeFragment=g;function v(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=v;function E(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=E;function R(_,m){if(Array.isArray(_))for(const $ of _)m($);else m(_)}H.eachItem=R;function P({mergeNames:_,mergeToName:m,mergeValues:$,resultToName:k}){return(C,M,F,L)=>{const K=F===void 0?M:F instanceof e.Name?(M instanceof e.Name?_(C,M,F):m(C,M,F),F):M instanceof e.Name?(m(C,F,M),M):$(M,F);return L===e.Name&&!(K instanceof e.Name)?k(C,K):K}}H.mergeEvaluated={props:P({mergeNames:(_,m,$)=>_.if((0,e._)`${$} !== true && ${m} !== undefined`,()=>{_.if((0,e._)`${m} === true`,()=>_.assign($,!0),()=>_.assign($,(0,e._)`${$} || {}`).code((0,e._)`Object.assign(${$}, ${m})`))}),mergeToName:(_,m,$)=>_.if((0,e._)`${$} !== true`,()=>{m===!0?_.assign($,!0):(_.assign($,(0,e._)`${$} || {}`),b(_,$,m))}),mergeValues:(_,m)=>_===!0?!0:{..._,...m},resultToName:p}),items:P({mergeNames:(_,m,$)=>_.if((0,e._)`${$} !== true && ${m} !== undefined`,()=>_.assign($,(0,e._)`${m} === true ? true : ${$} > ${m} ? ${$} : ${m}`)),mergeToName:(_,m,$)=>_.if((0,e._)`${$} !== true`,()=>_.assign($,m===!0?!0:(0,e._)`${$} > ${m} ? ${$} : ${m}`)),mergeValues:(_,m)=>_===!0?!0:Math.max(_,m),resultToName:(_,m)=>_.var("items",m)})};function p(_,m){if(m===!0)return _.var("props",!0);const $=_.var("props",(0,e._)`{}`);return m!==void 0&&b(_,$,m),$}H.evaluatedPropsToName=p;function b(_,m,$){Object.keys($).forEach(k=>_.assign((0,e._)`${m}${(0,e.getProperty)(k)}`,!0))}H.setEvaluated=b;const n={};function o(_,m){return _.scopeValue("func",{ref:m,code:n[m.code]||(n[m.code]=new r._Code(m.code))})}H.useFunc=o;var t;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(t||(H.Type=t={}));function s(_,m,$){if(_ instanceof e.Name){const k=m===t.Num;return $?k?(0,e._)`"[" + ${_} + "]"`:(0,e._)`"['" + ${_} + "']"`:k?(0,e._)`"/" + ${_}`:(0,e._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return $?(0,e.getProperty)(_).toString():"/"+v(_)}H.getErrorPath=s;function h(_,m,$=_.opts.strictSchema){if($){if(m=`strict mode: ${m}`,$===!0)throw new Error(m);_.self.logger.warn(m)}}return H.checkStrictMode=h,H}var ke={},Qt;function ve(){if(Qt)return ke;Qt=1,Object.defineProperty(ke,"__esModule",{value:!0});const e=J(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return ke.default=r,ke}var Yt;function _t(){return Yt||(Yt=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=J(),d=X(),i=ve();e.keywordError={message:({keyword:n})=>(0,r.str)`must pass "${n}" keyword validation`},e.keyword$DataError={message:({keyword:n,schemaType:o})=>o?(0,r.str)`"${n}" keyword must be ${o} ($data)`:(0,r.str)`"${n}" keyword is invalid ($data)`};function y(n,o=e.keywordError,t,s){const{it:h}=n,{gen:_,compositeRule:m,allErrors:$}=h,k=E(n,o,t);s??(m||$)?f(_,k):g(h,(0,r._)`[${k}]`)}e.reportError=y;function a(n,o=e.keywordError,t){const{it:s}=n,{gen:h,compositeRule:_,allErrors:m}=s,$=E(n,o,t);f(h,$),_||m||g(s,i.default.vErrors)}e.reportExtraError=a;function u(n,o){n.assign(i.default.errors,o),n.if((0,r._)`${i.default.vErrors} !== null`,()=>n.if(o,()=>n.assign((0,r._)`${i.default.vErrors}.length`,o),()=>n.assign(i.default.vErrors,null)))}e.resetErrorsCount=u;function c({gen:n,keyword:o,schemaValue:t,data:s,errsCount:h,it:_}){if(h===void 0)throw new Error("ajv implementation error");const m=n.name("err");n.forRange("i",h,i.default.errors,$=>{n.const(m,(0,r._)`${i.default.vErrors}[${$}]`),n.if((0,r._)`${m}.instancePath === undefined`,()=>n.assign((0,r._)`${m}.instancePath`,(0,r.strConcat)(i.default.instancePath,_.errorPath))),n.assign((0,r._)`${m}.schemaPath`,(0,r.str)`${_.errSchemaPath}/${o}`),_.opts.verbose&&(n.assign((0,r._)`${m}.schema`,t),n.assign((0,r._)`${m}.data`,s))})}e.extendErrors=c;function f(n,o){const t=n.const("err",o);n.if((0,r._)`${i.default.vErrors} === null`,()=>n.assign(i.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${i.default.vErrors}.push(${t})`),n.code((0,r._)`${i.default.errors}++`)}function g(n,o){const{gen:t,validateName:s,schemaEnv:h}=n;h.$async?t.throw((0,r._)`new ${n.ValidationError}(${o})`):(t.assign((0,r._)`${s}.errors`,o),t.return(!1))}const v={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function E(n,o,t){const{createErrors:s}=n.it;return s===!1?(0,r._)`{}`:R(n,o,t)}function R(n,o,t={}){const{gen:s,it:h}=n,_=[P(h,t),p(n,t)];return b(n,o,_),s.object(..._)}function P({errorPath:n},{instancePath:o}){const t=o?(0,r.str)`${n}${(0,d.getErrorPath)(o,d.Type.Str)}`:n;return[i.default.instancePath,(0,r.strConcat)(i.default.instancePath,t)]}function p({keyword:n,it:{errSchemaPath:o}},{schemaPath:t,parentSchema:s}){let h=s?o:(0,r.str)`${o}/${n}`;return t&&(h=(0,r.str)`${h}${(0,d.getErrorPath)(t,d.Type.Str)}`),[v.schemaPath,h]}function b(n,{params:o,message:t},s){const{keyword:h,data:_,schemaValue:m,it:$}=n,{opts:k,propertyName:C,topSchemaRef:M,schemaPath:F}=$;s.push([v.keyword,h],[v.params,typeof o=="function"?o(n):o||(0,r._)`{}`]),k.messages&&s.push([v.message,typeof t=="function"?t(n):t]),k.verbose&&s.push([v.schema,m],[v.parentSchema,(0,r._)`${M}${F}`],[i.default.data,_]),C&&s.push([v.propertyName,C])}}(Pt)),Pt}var Zt;function kn(){if(Zt)return ge;Zt=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.boolOrEmptySchema=ge.topBoolOrEmptySchema=void 0;const e=_t(),r=J(),d=ve(),i={message:"boolean schema is false"};function y(c){const{gen:f,schema:g,validateName:v}=c;g===!1?u(c,!1):typeof g=="object"&&g.$async===!0?f.return(d.default.data):(f.assign((0,r._)`${v}.errors`,null),f.return(!0))}ge.topBoolOrEmptySchema=y;function a(c,f){const{gen:g,schema:v}=c;v===!1?(g.var(f,!1),u(c)):g.var(f,!0)}ge.boolOrEmptySchema=a;function u(c,f){const{gen:g,data:v}=c,E={gen:g,keyword:"false schema",data:v,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(E,i,void 0,f)}return ge}var re={},$e={},xt;function on(){if(xt)return $e;xt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.getRules=$e.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function d(y){return typeof y=="string"&&r.has(y)}$e.isJSONType=d;function i(){const y={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...y,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},y.number,y.string,y.array,y.object],post:{rules:[]},all:{},keywords:{}}}return $e.getRules=i,$e}var me={},er;function cn(){if(er)return me;er=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:i,self:y},a){const u=y.RULES.types[a];return u&&u!==!0&&r(i,u)}me.schemaHasRulesForType=e;function r(i,y){return y.rules.some(a=>d(i,a))}me.shouldUseGroup=r;function d(i,y){var a;return i[y.keyword]!==void 0||((a=y.definition.implements)===null||a===void 0?void 0:a.some(u=>i[u]!==void 0))}return me.shouldUseRule=d,me}var tr;function pt(){if(tr)return re;tr=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=on(),r=cn(),d=_t(),i=J(),y=X();var a;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(a||(re.DataType=a={}));function u(t){const s=c(t.type);if(s.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!s.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&s.push("null")}return s}re.getSchemaTypes=u;function c(t){const s=Array.isArray(t)?t:t?[t]:[];if(s.every(e.isJSONType))return s;throw new Error("type must be JSONType or JSONType[]: "+s.join(","))}re.getJSONTypes=c;function f(t,s){const{gen:h,data:_,opts:m}=t,$=v(s,m.coerceTypes),k=s.length>0&&!($.length===0&&s.length===1&&(0,r.schemaHasRulesForType)(t,s[0]));if(k){const C=p(s,_,m.strictNumbers,a.Wrong);h.if(C,()=>{$.length?E(t,s,$):n(t)})}return k}re.coerceAndCheckDataType=f;const g=new Set(["string","number","integer","boolean","null"]);function v(t,s){return s?t.filter(h=>g.has(h)||s==="array"&&h==="array"):[]}function E(t,s,h){const{gen:_,data:m,opts:$}=t,k=_.let("dataType",(0,i._)`typeof ${m}`),C=_.let("coerced",(0,i._)`undefined`);$.coerceTypes==="array"&&_.if((0,i._)`${k} == 'object' && Array.isArray(${m}) && ${m}.length == 1`,()=>_.assign(m,(0,i._)`${m}[0]`).assign(k,(0,i._)`typeof ${m}`).if(p(s,m,$.strictNumbers),()=>_.assign(C,m))),_.if((0,i._)`${C} !== undefined`);for(const F of h)(g.has(F)||F==="array"&&$.coerceTypes==="array")&&M(F);_.else(),n(t),_.endIf(),_.if((0,i._)`${C} !== undefined`,()=>{_.assign(m,C),R(t,C)});function M(F){switch(F){case"string":_.elseIf((0,i._)`${k} == "number" || ${k} == "boolean"`).assign(C,(0,i._)`"" + ${m}`).elseIf((0,i._)`${m} === null`).assign(C,(0,i._)`""`);return;case"number":_.elseIf((0,i._)`${k} == "boolean" || ${m} === null
              || (${k} == "string" && ${m} && ${m} == +${m})`).assign(C,(0,i._)`+${m}`);return;case"integer":_.elseIf((0,i._)`${k} === "boolean" || ${m} === null
              || (${k} === "string" && ${m} && ${m} == +${m} && !(${m} % 1))`).assign(C,(0,i._)`+${m}`);return;case"boolean":_.elseIf((0,i._)`${m} === "false" || ${m} === 0 || ${m} === null`).assign(C,!1).elseIf((0,i._)`${m} === "true" || ${m} === 1`).assign(C,!0);return;case"null":_.elseIf((0,i._)`${m} === "" || ${m} === 0 || ${m} === false`),_.assign(C,null);return;case"array":_.elseIf((0,i._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${m} === null`).assign(C,(0,i._)`[${m}]`)}}}function R({gen:t,parentData:s,parentDataProperty:h},_){t.if((0,i._)`${s} !== undefined`,()=>t.assign((0,i._)`${s}[${h}]`,_))}function P(t,s,h,_=a.Correct){const m=_===a.Correct?i.operators.EQ:i.operators.NEQ;let $;switch(t){case"null":return(0,i._)`${s} ${m} null`;case"array":$=(0,i._)`Array.isArray(${s})`;break;case"object":$=(0,i._)`${s} && typeof ${s} == "object" && !Array.isArray(${s})`;break;case"integer":$=k((0,i._)`!(${s} % 1) && !isNaN(${s})`);break;case"number":$=k();break;default:return(0,i._)`typeof ${s} ${m} ${t}`}return _===a.Correct?$:(0,i.not)($);function k(C=i.nil){return(0,i.and)((0,i._)`typeof ${s} == "number"`,C,h?(0,i._)`isFinite(${s})`:i.nil)}}re.checkDataType=P;function p(t,s,h,_){if(t.length===1)return P(t[0],s,h,_);let m;const $=(0,y.toHash)(t);if($.array&&$.object){const k=(0,i._)`typeof ${s} != "object"`;m=$.null?k:(0,i._)`!${s} || ${k}`,delete $.null,delete $.array,delete $.object}else m=i.nil;$.number&&delete $.integer;for(const k in $)m=(0,i.and)(m,P(k,s,h,_));return m}re.checkDataTypes=p;const b={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:s})=>typeof t=="string"?(0,i._)`{type: ${t}}`:(0,i._)`{type: ${s}}`};function n(t){const s=o(t);(0,d.reportError)(s,b)}re.reportTypeError=n;function o(t){const{gen:s,data:h,schema:_}=t,m=(0,y.schemaRefOrVal)(t,_,"type");return{gen:s,keyword:"type",data:h,schema:_.type,schemaCode:m,schemaValue:m,parentSchema:_,params:{},it:t}}return re}var Re={},rr;function In(){if(rr)return Re;rr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.assignDefaults=void 0;const e=J(),r=X();function d(y,a){const{properties:u,items:c}=y.schema;if(a==="object"&&u)for(const f in u)i(y,f,u[f].default);else a==="array"&&Array.isArray(c)&&c.forEach((f,g)=>i(y,g,f.default))}Re.assignDefaults=d;function i(y,a,u){const{gen:c,compositeRule:f,data:g,opts:v}=y;if(u===void 0)return;const E=(0,e._)`${g}${(0,e.getProperty)(a)}`;if(f){(0,r.checkStrictMode)(y,`default is ignored for: ${E}`);return}let R=(0,e._)`${E} === undefined`;v.useDefaults==="empty"&&(R=(0,e._)`${R} || ${E} === null || ${E} === ""`),c.if(R,(0,e._)`${E} = ${(0,e.stringify)(u)}`)}return Re}var ue={},Y={},nr;function le(){if(nr)return Y;nr=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.validateUnion=Y.validateArray=Y.usePattern=Y.callValidateCode=Y.schemaProperties=Y.allSchemaProperties=Y.noPropertyInData=Y.propertyInData=Y.isOwnProperty=Y.hasPropFunc=Y.reportMissingProp=Y.checkMissingProp=Y.checkReportMissingProp=void 0;const e=J(),r=X(),d=ve(),i=X();function y(t,s){const{gen:h,data:_,it:m}=t;h.if(v(h,_,s,m.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${s}`},!0),t.error()})}Y.checkReportMissingProp=y;function a({gen:t,data:s,it:{opts:h}},_,m){return(0,e.or)(..._.map($=>(0,e.and)(v(t,s,$,h.ownProperties),(0,e._)`${m} = ${$}`)))}Y.checkMissingProp=a;function u(t,s){t.setParams({missingProperty:s},!0),t.error()}Y.reportMissingProp=u;function c(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}Y.hasPropFunc=c;function f(t,s,h){return(0,e._)`${c(t)}.call(${s}, ${h})`}Y.isOwnProperty=f;function g(t,s,h,_){const m=(0,e._)`${s}${(0,e.getProperty)(h)} !== undefined`;return _?(0,e._)`${m} && ${f(t,s,h)}`:m}Y.propertyInData=g;function v(t,s,h,_){const m=(0,e._)`${s}${(0,e.getProperty)(h)} === undefined`;return _?(0,e.or)(m,(0,e.not)(f(t,s,h))):m}Y.noPropertyInData=v;function E(t){return t?Object.keys(t).filter(s=>s!=="__proto__"):[]}Y.allSchemaProperties=E;function R(t,s){return E(s).filter(h=>!(0,r.alwaysValidSchema)(t,s[h]))}Y.schemaProperties=R;function P({schemaCode:t,data:s,it:{gen:h,topSchemaRef:_,schemaPath:m,errorPath:$},it:k},C,M,F){const L=F?(0,e._)`${t}, ${s}, ${_}${m}`:s,K=[[d.default.instancePath,(0,e.strConcat)(d.default.instancePath,$)],[d.default.parentData,k.parentData],[d.default.parentDataProperty,k.parentDataProperty],[d.default.rootData,d.default.rootData]];k.opts.dynamicRef&&K.push([d.default.dynamicAnchors,d.default.dynamicAnchors]);const B=(0,e._)`${L}, ${h.object(...K)}`;return M!==e.nil?(0,e._)`${C}.call(${M}, ${B})`:(0,e._)`${C}(${B})`}Y.callValidateCode=P;const p=(0,e._)`new RegExp`;function b({gen:t,it:{opts:s}},h){const _=s.unicodeRegExp?"u":"",{regExp:m}=s.code,$=m(h,_);return t.scopeValue("pattern",{key:$.toString(),ref:$,code:(0,e._)`${m.code==="new RegExp"?p:(0,i.useFunc)(t,m)}(${h}, ${_})`})}Y.usePattern=b;function n(t){const{gen:s,data:h,keyword:_,it:m}=t,$=s.name("valid");if(m.allErrors){const C=s.let("valid",!0);return k(()=>s.assign(C,!1)),C}return s.var($,!0),k(()=>s.break()),$;function k(C){const M=s.const("len",(0,e._)`${h}.length`);s.forRange("i",0,M,F=>{t.subschema({keyword:_,dataProp:F,dataPropType:r.Type.Num},$),s.if((0,e.not)($),C)})}}Y.validateArray=n;function o(t){const{gen:s,schema:h,keyword:_,it:m}=t;if(!Array.isArray(h))throw new Error("ajv implementation error");if(h.some(M=>(0,r.alwaysValidSchema)(m,M))&&!m.opts.unevaluated)return;const k=s.let("valid",!1),C=s.name("_valid");s.block(()=>h.forEach((M,F)=>{const L=t.subschema({keyword:_,schemaProp:F,compositeRule:!0},C);s.assign(k,(0,e._)`${k} || ${C}`),t.mergeValidEvaluated(L,C)||s.if((0,e.not)(k))})),t.result(k,()=>t.reset(),()=>t.error(!0))}return Y.validateUnion=o,Y}var sr;function Tn(){if(sr)return ue;sr=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.validateKeywordUsage=ue.validSchemaType=ue.funcKeywordCode=ue.macroKeywordCode=void 0;const e=J(),r=ve(),d=le(),i=_t();function y(R,P){const{gen:p,keyword:b,schema:n,parentSchema:o,it:t}=R,s=P.macro.call(t.self,n,o,t),h=g(p,b,s);t.opts.validateSchema!==!1&&t.self.validateSchema(s,!0);const _=p.name("valid");R.subschema({schema:s,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${b}`,topSchemaRef:h,compositeRule:!0},_),R.pass(_,()=>R.error(!0))}ue.macroKeywordCode=y;function a(R,P){var p;const{gen:b,keyword:n,schema:o,parentSchema:t,$data:s,it:h}=R;f(h,P);const _=!s&&P.compile?P.compile.call(h.self,o,t,h):P.validate,m=g(b,n,_),$=b.let("valid");R.block$data($,k),R.ok((p=P.valid)!==null&&p!==void 0?p:$);function k(){if(P.errors===!1)F(),P.modifying&&u(R),L(()=>R.error());else{const K=P.async?C():M();P.modifying&&u(R),L(()=>c(R,K))}}function C(){const K=b.let("ruleErrs",null);return b.try(()=>F((0,e._)`await `),B=>b.assign($,!1).if((0,e._)`${B} instanceof ${h.ValidationError}`,()=>b.assign(K,(0,e._)`${B}.errors`),()=>b.throw(B))),K}function M(){const K=(0,e._)`${m}.errors`;return b.assign(K,null),F(e.nil),K}function F(K=P.async?(0,e._)`await `:e.nil){const B=h.opts.passContext?r.default.this:r.default.self,x=!("compile"in P&&!s||P.schema===!1);b.assign($,(0,e._)`${K}${(0,d.callValidateCode)(R,m,B,x)}`,P.modifying)}function L(K){var B;b.if((0,e.not)((B=P.valid)!==null&&B!==void 0?B:$),K)}}ue.funcKeywordCode=a;function u(R){const{gen:P,data:p,it:b}=R;P.if(b.parentData,()=>P.assign(p,(0,e._)`${b.parentData}[${b.parentDataProperty}]`))}function c(R,P){const{gen:p}=R;p.if((0,e._)`Array.isArray(${P})`,()=>{p.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${P} : ${r.default.vErrors}.concat(${P})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,i.extendErrors)(R)},()=>R.error())}function f({schemaEnv:R},P){if(P.async&&!R.$async)throw new Error("async keyword in sync schema")}function g(R,P,p){if(p===void 0)throw new Error(`keyword "${P}" failed to compile`);return R.scopeValue("keyword",typeof p=="function"?{ref:p}:{ref:p,code:(0,e.stringify)(p)})}function v(R,P,p=!1){return!P.length||P.some(b=>b==="array"?Array.isArray(R):b==="object"?R&&typeof R=="object"&&!Array.isArray(R):typeof R==b||p&&typeof R>"u")}ue.validSchemaType=v;function E({schema:R,opts:P,self:p,errSchemaPath:b},n,o){if(Array.isArray(n.keyword)?!n.keyword.includes(o):n.keyword!==o)throw new Error("ajv implementation error");const t=n.dependencies;if(t?.some(s=>!Object.prototype.hasOwnProperty.call(R,s)))throw new Error(`parent schema must have dependencies of ${o}: ${t.join(",")}`);if(n.validateSchema&&!n.validateSchema(R[o])){const h=`keyword "${o}" value is invalid at path "${b}": `+p.errorsText(n.validateSchema.errors);if(P.validateSchema==="log")p.logger.error(h);else throw new Error(h)}}return ue.validateKeywordUsage=E,ue}var pe={},ar;function qn(){if(ar)return pe;ar=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.extendSubschemaMode=pe.extendSubschemaData=pe.getSubschema=void 0;const e=J(),r=X();function d(a,{keyword:u,schemaProp:c,schema:f,schemaPath:g,errSchemaPath:v,topSchemaRef:E}){if(u!==void 0&&f!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(u!==void 0){const R=a.schema[u];return c===void 0?{schema:R,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}`,errSchemaPath:`${a.errSchemaPath}/${u}`}:{schema:R[c],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(u)}${(0,e.getProperty)(c)}`,errSchemaPath:`${a.errSchemaPath}/${u}/${(0,r.escapeFragment)(c)}`}}if(f!==void 0){if(g===void 0||v===void 0||E===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:f,schemaPath:g,topSchemaRef:E,errSchemaPath:v}}throw new Error('either "keyword" or "schema" must be passed')}pe.getSubschema=d;function i(a,u,{dataProp:c,dataPropType:f,data:g,dataTypes:v,propertyName:E}){if(g!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:R}=u;if(c!==void 0){const{errorPath:p,dataPathArr:b,opts:n}=u,o=R.let("data",(0,e._)`${u.data}${(0,e.getProperty)(c)}`,!0);P(o),a.errorPath=(0,e.str)`${p}${(0,r.getErrorPath)(c,f,n.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${c}`,a.dataPathArr=[...b,a.parentDataProperty]}if(g!==void 0){const p=g instanceof e.Name?g:R.let("data",g,!0);P(p),E!==void 0&&(a.propertyName=E)}v&&(a.dataTypes=v);function P(p){a.data=p,a.dataLevel=u.dataLevel+1,a.dataTypes=[],u.definedProperties=new Set,a.parentData=u.data,a.dataNames=[...u.dataNames,p]}}pe.extendSubschemaData=i;function y(a,{jtdDiscriminator:u,jtdMetadata:c,compositeRule:f,createErrors:g,allErrors:v}){f!==void 0&&(a.compositeRule=f),g!==void 0&&(a.createErrors=g),v!==void 0&&(a.allErrors=v),a.jtdDiscriminator=u,a.jtdMetadata=c}return pe.extendSubschemaMode=y,pe}var ne={},jt,or;function un(){return or||(or=1,jt=function e(r,d){if(r===d)return!0;if(r&&d&&typeof r=="object"&&typeof d=="object"){if(r.constructor!==d.constructor)return!1;var i,y,a;if(Array.isArray(r)){if(i=r.length,i!=d.length)return!1;for(y=i;y--!==0;)if(!e(r[y],d[y]))return!1;return!0}if(r.constructor===RegExp)return r.source===d.source&&r.flags===d.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===d.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===d.toString();if(a=Object.keys(r),i=a.length,i!==Object.keys(d).length)return!1;for(y=i;y--!==0;)if(!Object.prototype.hasOwnProperty.call(d,a[y]))return!1;for(y=i;y--!==0;){var u=a[y];if(!e(r[u],d[u]))return!1}return!0}return r!==r&&d!==d}),jt}var kt={exports:{}},ir;function Cn(){if(ir)return kt.exports;ir=1;var e=kt.exports=function(i,y,a){typeof y=="function"&&(a=y,y={}),a=y.cb||a;var u=typeof a=="function"?a:a.pre||function(){},c=a.post||function(){};r(y,u,c,i,"",i)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(i,y,a,u,c,f,g,v,E,R){if(u&&typeof u=="object"&&!Array.isArray(u)){y(u,c,f,g,v,E,R);for(var P in u){var p=u[P];if(Array.isArray(p)){if(P in e.arrayKeywords)for(var b=0;b<p.length;b++)r(i,y,a,p[b],c+"/"+P+"/"+b,f,c,P,u,b)}else if(P in e.propsKeywords){if(p&&typeof p=="object")for(var n in p)r(i,y,a,p[n],c+"/"+P+"/"+d(n),f,c,P,u,n)}else(P in e.keywords||i.allKeys&&!(P in e.skipKeywords))&&r(i,y,a,p,c+"/"+P,f,c,P,u)}a(u,c,f,g,v,E,R)}}function d(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}return kt.exports}var cr;function vt(){if(cr)return ne;cr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=X(),r=un(),d=Cn(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function y(b,n=!0){return typeof b=="boolean"?!0:n===!0?!u(b):n?c(b)<=n:!1}ne.inlineRef=y;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function u(b){for(const n in b){if(a.has(n))return!0;const o=b[n];if(Array.isArray(o)&&o.some(u)||typeof o=="object"&&u(o))return!0}return!1}function c(b){let n=0;for(const o in b){if(o==="$ref")return 1/0;if(n++,!i.has(o)&&(typeof b[o]=="object"&&(0,e.eachItem)(b[o],t=>n+=c(t)),n===1/0))return 1/0}return n}function f(b,n="",o){o!==!1&&(n=E(n));const t=b.parse(n);return g(b,t)}ne.getFullPath=f;function g(b,n){return b.serialize(n).split("#")[0]+"#"}ne._getFullPath=g;const v=/#\/?$/;function E(b){return b?b.replace(v,""):""}ne.normalizeId=E;function R(b,n,o){return o=E(o),b.resolve(n,o)}ne.resolveUrl=R;const P=/^[a-z_][-a-z0-9._]*$/i;function p(b,n){if(typeof b=="boolean")return{};const{schemaId:o,uriResolver:t}=this.opts,s=E(b[o]||n),h={"":s},_=f(t,s,!1),m={},$=new Set;return d(b,{allKeys:!0},(M,F,L,K)=>{if(K===void 0)return;const B=_+F;let x=h[K];typeof M[o]=="string"&&(x=de.call(this,M[o])),fe.call(this,M.$anchor),fe.call(this,M.$dynamicAnchor),h[F]=x;function de(Z){const ye=this.opts.uriResolver.resolve;if(Z=E(x?ye(x,Z):Z),$.has(Z))throw C(Z);$.add(Z);let A=this.refs[Z];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?k(M,A.schema,Z):Z!==E(B)&&(Z[0]==="#"?(k(M,m[Z],Z),m[Z]=M):this.refs[Z]=B),Z}function fe(Z){if(typeof Z=="string"){if(!P.test(Z))throw new Error(`invalid anchor "${Z}"`);de.call(this,`#${Z}`)}}}),m;function k(M,F,L){if(F!==void 0&&!r(M,F))throw C(L)}function C(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return ne.getSchemaRefs=p,ne}var ur;function gt(){if(ur)return he;ur=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getData=he.KeywordCxt=he.validateFunctionCode=void 0;const e=kn(),r=pt(),d=cn(),i=pt(),y=In(),a=Tn(),u=qn(),c=J(),f=ve(),g=vt(),v=X(),E=_t();function R(S){if(_(S)&&($(S),h(S))){n(S);return}P(S,()=>(0,e.topBoolOrEmptySchema)(S))}he.validateFunctionCode=R;function P({gen:S,validateName:O,schema:T,schemaEnv:D,opts:U},G){U.code.es5?S.func(O,(0,c._)`${f.default.data}, ${f.default.valCxt}`,D.$async,()=>{S.code((0,c._)`"use strict"; ${t(T,U)}`),b(S,U),S.code(G)}):S.func(O,(0,c._)`${f.default.data}, ${p(U)}`,D.$async,()=>S.code(t(T,U)).code(G))}function p(S){return(0,c._)`{${f.default.instancePath}="", ${f.default.parentData}, ${f.default.parentDataProperty}, ${f.default.rootData}=${f.default.data}${S.dynamicRef?(0,c._)`, ${f.default.dynamicAnchors}={}`:c.nil}}={}`}function b(S,O){S.if(f.default.valCxt,()=>{S.var(f.default.instancePath,(0,c._)`${f.default.valCxt}.${f.default.instancePath}`),S.var(f.default.parentData,(0,c._)`${f.default.valCxt}.${f.default.parentData}`),S.var(f.default.parentDataProperty,(0,c._)`${f.default.valCxt}.${f.default.parentDataProperty}`),S.var(f.default.rootData,(0,c._)`${f.default.valCxt}.${f.default.rootData}`),O.dynamicRef&&S.var(f.default.dynamicAnchors,(0,c._)`${f.default.valCxt}.${f.default.dynamicAnchors}`)},()=>{S.var(f.default.instancePath,(0,c._)`""`),S.var(f.default.parentData,(0,c._)`undefined`),S.var(f.default.parentDataProperty,(0,c._)`undefined`),S.var(f.default.rootData,f.default.data),O.dynamicRef&&S.var(f.default.dynamicAnchors,(0,c._)`{}`)})}function n(S){const{schema:O,opts:T,gen:D}=S;P(S,()=>{T.$comment&&O.$comment&&K(S),M(S),D.let(f.default.vErrors,null),D.let(f.default.errors,0),T.unevaluated&&o(S),k(S),B(S)})}function o(S){const{gen:O,validateName:T}=S;S.evaluated=O.const("evaluated",(0,c._)`${T}.evaluated`),O.if((0,c._)`${S.evaluated}.dynamicProps`,()=>O.assign((0,c._)`${S.evaluated}.props`,(0,c._)`undefined`)),O.if((0,c._)`${S.evaluated}.dynamicItems`,()=>O.assign((0,c._)`${S.evaluated}.items`,(0,c._)`undefined`))}function t(S,O){const T=typeof S=="object"&&S[O.schemaId];return T&&(O.code.source||O.code.process)?(0,c._)`/*# sourceURL=${T} */`:c.nil}function s(S,O){if(_(S)&&($(S),h(S))){m(S,O);return}(0,e.boolOrEmptySchema)(S,O)}function h({schema:S,self:O}){if(typeof S=="boolean")return!S;for(const T in S)if(O.RULES.all[T])return!0;return!1}function _(S){return typeof S.schema!="boolean"}function m(S,O){const{schema:T,gen:D,opts:U}=S;U.$comment&&T.$comment&&K(S),F(S),L(S);const G=D.const("_errs",f.default.errors);k(S,G),D.var(O,(0,c._)`${G} === ${f.default.errors}`)}function $(S){(0,v.checkUnknownRules)(S),C(S)}function k(S,O){if(S.opts.jtd)return de(S,[],!1,O);const T=(0,r.getSchemaTypes)(S.schema),D=(0,r.coerceAndCheckDataType)(S,T);de(S,T,!D,O)}function C(S){const{schema:O,errSchemaPath:T,opts:D,self:U}=S;O.$ref&&D.ignoreKeywordsWithRef&&(0,v.schemaHasRulesButRef)(O,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${T}"`)}function M(S){const{schema:O,opts:T}=S;O.default!==void 0&&T.useDefaults&&T.strictSchema&&(0,v.checkStrictMode)(S,"default is ignored in the schema root")}function F(S){const O=S.schema[S.opts.schemaId];O&&(S.baseId=(0,g.resolveUrl)(S.opts.uriResolver,S.baseId,O))}function L(S){if(S.schema.$async&&!S.schemaEnv.$async)throw new Error("async schema in sync schema")}function K({gen:S,schemaEnv:O,schema:T,errSchemaPath:D,opts:U}){const G=T.$comment;if(U.$comment===!0)S.code((0,c._)`${f.default.self}.logger.log(${G})`);else if(typeof U.$comment=="function"){const ee=(0,c.str)`${D}/$comment`,ce=S.scopeValue("root",{ref:O.root});S.code((0,c._)`${f.default.self}.opts.$comment(${G}, ${ee}, ${ce}.schema)`)}}function B(S){const{gen:O,schemaEnv:T,validateName:D,ValidationError:U,opts:G}=S;T.$async?O.if((0,c._)`${f.default.errors} === 0`,()=>O.return(f.default.data),()=>O.throw((0,c._)`new ${U}(${f.default.vErrors})`)):(O.assign((0,c._)`${D}.errors`,f.default.vErrors),G.unevaluated&&x(S),O.return((0,c._)`${f.default.errors} === 0`))}function x({gen:S,evaluated:O,props:T,items:D}){T instanceof c.Name&&S.assign((0,c._)`${O}.props`,T),D instanceof c.Name&&S.assign((0,c._)`${O}.items`,D)}function de(S,O,T,D){const{gen:U,schema:G,data:ee,allErrors:ce,opts:se,self:ae}=S,{RULES:te}=ae;if(G.$ref&&(se.ignoreKeywordsWithRef||!(0,v.schemaHasRulesButRef)(G,te))){U.block(()=>V(S,"$ref",te.all.$ref.definition));return}se.jtd||Z(S,O),U.block(()=>{for(const ie of te.rules)be(ie);be(te.post)});function be(ie){(0,d.shouldUseGroup)(G,ie)&&(ie.type?(U.if((0,i.checkDataType)(ie.type,ee,se.strictNumbers)),fe(S,ie),O.length===1&&O[0]===ie.type&&T&&(U.else(),(0,i.reportTypeError)(S)),U.endIf()):fe(S,ie),ce||U.if((0,c._)`${f.default.errors} === ${D||0}`))}}function fe(S,O){const{gen:T,schema:D,opts:{useDefaults:U}}=S;U&&(0,y.assignDefaults)(S,O.type),T.block(()=>{for(const G of O.rules)(0,d.shouldUseRule)(D,G)&&V(S,G.keyword,G.definition,O.type)})}function Z(S,O){S.schemaEnv.meta||!S.opts.strictTypes||(ye(S,O),S.opts.allowUnionTypes||A(S,O),N(S,S.dataTypes))}function ye(S,O){if(O.length){if(!S.dataTypes.length){S.dataTypes=O;return}O.forEach(T=>{j(S.dataTypes,T)||w(S,`type "${T}" not allowed by context "${S.dataTypes.join(",")}"`)}),l(S,O)}}function A(S,O){O.length>1&&!(O.length===2&&O.includes("null"))&&w(S,"use allowUnionTypes to allow union type keyword")}function N(S,O){const T=S.self.RULES.all;for(const D in T){const U=T[D];if(typeof U=="object"&&(0,d.shouldUseRule)(S.schema,U)){const{type:G}=U.definition;G.length&&!G.some(ee=>q(O,ee))&&w(S,`missing type "${G.join(",")}" for keyword "${D}"`)}}}function q(S,O){return S.includes(O)||O==="number"&&S.includes("integer")}function j(S,O){return S.includes(O)||O==="integer"&&S.includes("number")}function l(S,O){const T=[];for(const D of S.dataTypes)j(O,D)?T.push(D):O.includes("integer")&&D==="number"&&T.push("integer");S.dataTypes=T}function w(S,O){const T=S.schemaEnv.baseId+S.errSchemaPath;O+=` at "${T}" (strictTypes)`,(0,v.checkStrictMode)(S,O,S.opts.strictTypes)}class I{constructor(O,T,D){if((0,a.validateKeywordUsage)(O,T,D),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=D,this.data=O.data,this.schema=O.schema[D],this.$data=T.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,v.schemaRefOrVal)(O,this.schema,D,this.$data),this.schemaType=T.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=T,this.$data)this.schemaCode=O.gen.const("vSchema",W(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,T.schemaType,T.allowUndefined))throw new Error(`${D} value must be ${JSON.stringify(T.schemaType)}`);("code"in T?T.trackErrors:T.errors!==!1)&&(this.errsCount=O.gen.const("_errs",f.default.errors))}result(O,T,D){this.failResult((0,c.not)(O),T,D)}failResult(O,T,D){this.gen.if(O),D?D():this.error(),T?(this.gen.else(),T(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,T){this.failResult((0,c.not)(O),void 0,T)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:T}=this;this.fail((0,c._)`${T} !== undefined && (${(0,c.or)(this.invalid$data(),O)})`)}error(O,T,D){if(T){this.setParams(T),this._error(O,D),this.setParams({});return}this._error(O,D)}_error(O,T){(O?E.reportExtraError:E.reportError)(this,this.def.error,T)}$dataError(){(0,E.reportError)(this,this.def.$dataError||E.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,E.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,T){T?Object.assign(this.params,O):this.params=O}block$data(O,T,D=c.nil){this.gen.block(()=>{this.check$data(O,D),T()})}check$data(O=c.nil,T=c.nil){if(!this.$data)return;const{gen:D,schemaCode:U,schemaType:G,def:ee}=this;D.if((0,c.or)((0,c._)`${U} === undefined`,T)),O!==c.nil&&D.assign(O,!0),(G.length||ee.validateSchema)&&(D.elseIf(this.invalid$data()),this.$dataError(),O!==c.nil&&D.assign(O,!1)),D.else()}invalid$data(){const{gen:O,schemaCode:T,schemaType:D,def:U,it:G}=this;return(0,c.or)(ee(),ce());function ee(){if(D.length){if(!(T instanceof c.Name))throw new Error("ajv implementation error");const se=Array.isArray(D)?D:[D];return(0,c._)`${(0,i.checkDataTypes)(se,T,G.opts.strictNumbers,i.DataType.Wrong)}`}return c.nil}function ce(){if(U.validateSchema){const se=O.scopeValue("validate$data",{ref:U.validateSchema});return(0,c._)`!${se}(${T})`}return c.nil}}subschema(O,T){const D=(0,u.getSubschema)(this.it,O);(0,u.extendSubschemaData)(D,this.it,O),(0,u.extendSubschemaMode)(D,O);const U={...this.it,...D,items:void 0,props:void 0};return s(U,T),U}mergeEvaluated(O,T){const{it:D,gen:U}=this;D.opts.unevaluated&&(D.props!==!0&&O.props!==void 0&&(D.props=v.mergeEvaluated.props(U,O.props,D.props,T)),D.items!==!0&&O.items!==void 0&&(D.items=v.mergeEvaluated.items(U,O.items,D.items,T)))}mergeValidEvaluated(O,T){const{it:D,gen:U}=this;if(D.opts.unevaluated&&(D.props!==!0||D.items!==!0))return U.if(T,()=>this.mergeEvaluated(O,c.Name)),!0}}he.KeywordCxt=I;function V(S,O,T,D){const U=new I(S,T,O);"code"in T?T.code(U,D):U.$data&&T.validate?(0,a.funcKeywordCode)(U,T):"macro"in T?(0,a.macroKeywordCode)(U,T):(T.compile||T.validate)&&(0,a.funcKeywordCode)(U,T)}const z=/^\/(?:[^~]|~0|~1)*$/,Q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(S,{dataLevel:O,dataNames:T,dataPathArr:D}){let U,G;if(S==="")return f.default.rootData;if(S[0]==="/"){if(!z.test(S))throw new Error(`Invalid JSON-pointer: ${S}`);U=S,G=f.default.rootData}else{const ae=Q.exec(S);if(!ae)throw new Error(`Invalid JSON-pointer: ${S}`);const te=+ae[1];if(U=ae[2],U==="#"){if(te>=O)throw new Error(se("property/index",te));return D[O-te]}if(te>O)throw new Error(se("data",te));if(G=T[O-te],!U)return G}let ee=G;const ce=U.split("/");for(const ae of ce)ae&&(G=(0,c._)`${G}${(0,c.getProperty)((0,v.unescapeJsonPointer)(ae))}`,ee=(0,c._)`${ee} && ${G}`);return ee;function se(ae,te){return`Cannot access ${ae} ${te} levels up, current level is ${O}`}}return he.getData=W,he}var Ie={},lr;function Mt(){if(lr)return Ie;lr=1,Object.defineProperty(Ie,"__esModule",{value:!0});class e extends Error{constructor(d){super("validation failed"),this.errors=d,this.ajv=this.validation=!0}}return Ie.default=e,Ie}var Te={},dr;function $t(){if(dr)return Te;dr=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=vt();class r extends Error{constructor(i,y,a,u){super(u||`can't resolve reference ${a} from id ${y}`),this.missingRef=(0,e.resolveUrl)(i,y,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(i,this.missingRef))}}return Te.default=r,Te}var oe={},fr;function Vt(){if(fr)return oe;fr=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const e=J(),r=Mt(),d=ve(),i=vt(),y=X(),a=gt();class u{constructor(o){var t;this.refs={},this.dynamicAnchors={};let s;typeof o.schema=="object"&&(s=o.schema),this.schema=o.schema,this.schemaId=o.schemaId,this.root=o.root||this,this.baseId=(t=o.baseId)!==null&&t!==void 0?t:(0,i.normalizeId)(s?.[o.schemaId||"$id"]),this.schemaPath=o.schemaPath,this.localRefs=o.localRefs,this.meta=o.meta,this.$async=s?.$async,this.refs={}}}oe.SchemaEnv=u;function c(n){const o=v.call(this,n);if(o)return o;const t=(0,i.getFullPath)(this.opts.uriResolver,n.root.baseId),{es5:s,lines:h}=this.opts.code,{ownProperties:_}=this.opts,m=new e.CodeGen(this.scope,{es5:s,lines:h,ownProperties:_});let $;n.$async&&($=m.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=m.scopeName("validate");n.validateName=k;const C={gen:m,allErrors:this.opts.allErrors,data:d.default.data,parentData:d.default.parentData,parentDataProperty:d.default.parentDataProperty,dataNames:[d.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:m.scopeValue("schema",this.opts.code.source===!0?{ref:n.schema,code:(0,e.stringify)(n.schema)}:{ref:n.schema}),validateName:k,ValidationError:$,schema:n.schema,schemaEnv:n,rootId:t,baseId:n.baseId||t,schemaPath:e.nil,errSchemaPath:n.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(n),(0,a.validateFunctionCode)(C),m.optimize(this.opts.code.optimize);const F=m.toString();M=`${m.scopeRefs(d.default.scope)}return ${F}`,this.opts.code.process&&(M=this.opts.code.process(M,n));const K=new Function(`${d.default.self}`,`${d.default.scope}`,M)(this,this.scope.get());if(this.scope.value(k,{ref:K}),K.errors=null,K.schema=n.schema,K.schemaEnv=n,n.$async&&(K.$async=!0),this.opts.code.source===!0&&(K.source={validateName:k,validateCode:F,scopeValues:m._values}),this.opts.unevaluated){const{props:B,items:x}=C;K.evaluated={props:B instanceof e.Name?void 0:B,items:x instanceof e.Name?void 0:x,dynamicProps:B instanceof e.Name,dynamicItems:x instanceof e.Name},K.source&&(K.source.evaluated=(0,e.stringify)(K.evaluated))}return n.validate=K,n}catch(F){throw delete n.validate,delete n.validateName,M&&this.logger.error("Error compiling schema, function code:",M),F}finally{this._compilations.delete(n)}}oe.compileSchema=c;function f(n,o,t){var s;t=(0,i.resolveUrl)(this.opts.uriResolver,o,t);const h=n.refs[t];if(h)return h;let _=R.call(this,n,t);if(_===void 0){const m=(s=n.localRefs)===null||s===void 0?void 0:s[t],{schemaId:$}=this.opts;m&&(_=new u({schema:m,schemaId:$,root:n,baseId:o}))}if(_!==void 0)return n.refs[t]=g.call(this,_)}oe.resolveRef=f;function g(n){return(0,i.inlineRef)(n.schema,this.opts.inlineRefs)?n.schema:n.validate?n:c.call(this,n)}function v(n){for(const o of this._compilations)if(E(o,n))return o}oe.getCompilingSchema=v;function E(n,o){return n.schema===o.schema&&n.root===o.root&&n.baseId===o.baseId}function R(n,o){let t;for(;typeof(t=this.refs[o])=="string";)o=t;return t||this.schemas[o]||P.call(this,n,o)}function P(n,o){const t=this.opts.uriResolver.parse(o),s=(0,i._getFullPath)(this.opts.uriResolver,t);let h=(0,i.getFullPath)(this.opts.uriResolver,n.baseId,void 0);if(Object.keys(n.schema).length>0&&s===h)return b.call(this,t,n);const _=(0,i.normalizeId)(s),m=this.refs[_]||this.schemas[_];if(typeof m=="string"){const $=P.call(this,n,m);return typeof $?.schema!="object"?void 0:b.call(this,t,$)}if(typeof m?.schema=="object"){if(m.validate||c.call(this,m),_===(0,i.normalizeId)(o)){const{schema:$}=m,{schemaId:k}=this.opts,C=$[k];return C&&(h=(0,i.resolveUrl)(this.opts.uriResolver,h,C)),new u({schema:$,schemaId:k,root:n,baseId:h})}return b.call(this,t,m)}}oe.resolveSchema=P;const p=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function b(n,{baseId:o,schema:t,root:s}){var h;if(((h=n.fragment)===null||h===void 0?void 0:h[0])!=="/")return;for(const $ of n.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const k=t[(0,y.unescapeFragment)($)];if(k===void 0)return;t=k;const C=typeof t=="object"&&t[this.opts.schemaId];!p.has($)&&C&&(o=(0,i.resolveUrl)(this.opts.uriResolver,o,C))}let _;if(typeof t!="boolean"&&t.$ref&&!(0,y.schemaHasRulesButRef)(t,this.RULES)){const $=(0,i.resolveUrl)(this.opts.uriResolver,o,t.$ref);_=P.call(this,s,$)}const{schemaId:m}=this.opts;if(_=_||new u({schema:t,schemaId:m,root:s,baseId:o}),_.schema!==_.root.schema)return _}return oe}const An="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Dn="Meta-schema for $data reference (JSON AnySchema extension proposal)",Mn="object",Vn=["$data"],Fn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Un=!1,zn={$id:An,description:Dn,type:Mn,required:Vn,properties:Fn,additionalProperties:Un};var qe={},Ne={exports:{}},It,hr;function Kn(){return hr||(hr=1,It={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),It}var Tt,mr;function Ln(){if(mr)return Tt;mr=1;const{HEX:e}=Kn();function r(p){if(u(p,".")<3)return{host:p,isIPV4:!1};const b=p.match(/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/u)||[],[n]=b;return n?{host:a(n,"."),isIPV4:!0}:{host:p,isIPV4:!1}}function d(p,b=!1){let n="",o=!0;for(const t of p){if(e[t]===void 0)return;t!=="0"&&o===!0&&(o=!1),o||(n+=t)}return b&&n.length===0&&(n="0"),n}function i(p){let b=0;const n={error:!1,address:"",zone:""},o=[],t=[];let s=!1,h=!1,_=!1;function m(){if(t.length){if(s===!1){const $=d(t);if($!==void 0)o.push($);else return n.error=!0,!1}t.length=0}return!0}for(let $=0;$<p.length;$++){const k=p[$];if(!(k==="["||k==="]"))if(k===":"){if(h===!0&&(_=!0),!m())break;if(b++,o.push(":"),b>7){n.error=!0;break}$-1>=0&&p[$-1]===":"&&(h=!0);continue}else if(k==="%"){if(!m())break;s=!0}else{t.push(k);continue}}return t.length&&(s?n.zone=t.join(""):_?o.push(t.join("")):o.push(d(t))),n.address=o.join(""),n}function y(p,b={}){if(u(p,":")<2)return{host:p,isIPV6:!1};const n=i(p);if(n.error)return{host:p,isIPV6:!1};{let o=n.address,t=n.address;return n.zone&&(o+="%"+n.zone,t+="%25"+n.zone),{host:o,escapedHost:t,isIPV6:!0}}}function a(p,b){let n="",o=!0;const t=p.length;for(let s=0;s<t;s++){const h=p[s];h==="0"&&o?(s+1<=t&&p[s+1]===b||s+1===t)&&(n+=h,o=!1):(h===b?o=!0:o=!1,n+=h)}return n}function u(p,b){let n=0;for(let o=0;o<p.length;o++)p[o]===b&&n++;return n}const c=/^\.\.?\//u,f=/^\/\.(?:\/|$)/u,g=/^\/\.\.(?:\/|$)/u,v=/^\/?(?:.|\n)*?(?=\/|$)/u;function E(p){const b=[];for(;p.length;)if(p.match(c))p=p.replace(c,"");else if(p.match(f))p=p.replace(f,"/");else if(p.match(g))p=p.replace(g,"/"),b.pop();else if(p==="."||p==="..")p="";else{const n=p.match(v);if(n){const o=n[0];p=p.slice(o.length),b.push(o)}else throw new Error("Unexpected dot segment condition")}return b.join("")}function R(p,b){const n=b!==!0?escape:unescape;return p.scheme!==void 0&&(p.scheme=n(p.scheme)),p.userinfo!==void 0&&(p.userinfo=n(p.userinfo)),p.host!==void 0&&(p.host=n(p.host)),p.path!==void 0&&(p.path=n(p.path)),p.query!==void 0&&(p.query=n(p.query)),p.fragment!==void 0&&(p.fragment=n(p.fragment)),p}function P(p,b){const n=[];if(p.userinfo!==void 0&&(n.push(p.userinfo),n.push("@")),p.host!==void 0){let o=unescape(p.host);const t=r(o);if(t.isIPV4)o=t.host;else{const s=y(t.host,{});s.isIPV6===!0?o=`[${s.escapedHost}]`:o=p.host}n.push(o)}return(typeof p.port=="number"||typeof p.port=="string")&&(n.push(":"),n.push(String(p.port))),n.length?n.join(""):void 0}return Tt={recomposeAuthority:P,normalizeComponentEncoding:R,removeDotSegments:E,normalizeIPv4:r,normalizeIPv6:y,stringArrayToHexStripped:d},Tt}var qt,pr;function Hn(){if(pr)return qt;pr=1;const e=/^[\da-f]{8}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{4}\b-[\da-f]{12}$/iu,r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function d(t){return typeof t.secure=="boolean"?t.secure:String(t.scheme).toLowerCase()==="wss"}function i(t){return t.host||(t.error=t.error||"HTTP URIs must have a host."),t}function y(t){const s=String(t.scheme).toLowerCase()==="https";return(t.port===(s?443:80)||t.port==="")&&(t.port=void 0),t.path||(t.path="/"),t}function a(t){return t.secure=d(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t}function u(t){if((t.port===(d(t)?443:80)||t.port==="")&&(t.port=void 0),typeof t.secure=="boolean"&&(t.scheme=t.secure?"wss":"ws",t.secure=void 0),t.resourceName){const[s,h]=t.resourceName.split("?");t.path=s&&s!=="/"?s:void 0,t.query=h,t.resourceName=void 0}return t.fragment=void 0,t}function c(t,s){if(!t.path)return t.error="URN can not be parsed",t;const h=t.path.match(r);if(h){const _=s.scheme||t.scheme||"urn";t.nid=h[1].toLowerCase(),t.nss=h[2];const m=`${_}:${s.nid||t.nid}`,$=o[m];t.path=void 0,$&&(t=$.parse(t,s))}else t.error=t.error||"URN can not be parsed.";return t}function f(t,s){const h=s.scheme||t.scheme||"urn",_=t.nid.toLowerCase(),m=`${h}:${s.nid||_}`,$=o[m];$&&(t=$.serialize(t,s));const k=t,C=t.nss;return k.path=`${_||s.nid}:${C}`,s.skipEscape=!0,k}function g(t,s){const h=t;return h.uuid=h.nss,h.nss=void 0,!s.tolerant&&(!h.uuid||!e.test(h.uuid))&&(h.error=h.error||"UUID is not valid."),h}function v(t){const s=t;return s.nss=(t.uuid||"").toLowerCase(),s}const E={scheme:"http",domainHost:!0,parse:i,serialize:y},R={scheme:"https",domainHost:E.domainHost,parse:i,serialize:y},P={scheme:"ws",domainHost:!0,parse:a,serialize:u},p={scheme:"wss",domainHost:P.domainHost,parse:P.parse,serialize:P.serialize},o={http:E,https:R,ws:P,wss:p,urn:{scheme:"urn",parse:c,serialize:f,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:g,serialize:v,skipNormalize:!0}};return qt=o,qt}var yr;function Gn(){if(yr)return Ne.exports;yr=1;const{normalizeIPv6:e,normalizeIPv4:r,removeDotSegments:d,recomposeAuthority:i,normalizeComponentEncoding:y}=Ln(),a=Hn();function u(n,o){return typeof n=="string"?n=v(p(n,o),o):typeof n=="object"&&(n=p(v(n,o),o)),n}function c(n,o,t){const s=Object.assign({scheme:"null"},t),h=f(p(n,s),p(o,s),s,!0);return v(h,{...s,skipEscape:!0})}function f(n,o,t,s){const h={};return s||(n=p(v(n,t),t),o=p(v(o,t),t)),t=t||{},!t.tolerant&&o.scheme?(h.scheme=o.scheme,h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=d(o.path||""),h.query=o.query):(o.userinfo!==void 0||o.host!==void 0||o.port!==void 0?(h.userinfo=o.userinfo,h.host=o.host,h.port=o.port,h.path=d(o.path||""),h.query=o.query):(o.path?(o.path.charAt(0)==="/"?h.path=d(o.path):((n.userinfo!==void 0||n.host!==void 0||n.port!==void 0)&&!n.path?h.path="/"+o.path:n.path?h.path=n.path.slice(0,n.path.lastIndexOf("/")+1)+o.path:h.path=o.path,h.path=d(h.path)),h.query=o.query):(h.path=n.path,o.query!==void 0?h.query=o.query:h.query=n.query),h.userinfo=n.userinfo,h.host=n.host,h.port=n.port),h.scheme=n.scheme),h.fragment=o.fragment,h}function g(n,o,t){return typeof n=="string"?(n=unescape(n),n=v(y(p(n,t),!0),{...t,skipEscape:!0})):typeof n=="object"&&(n=v(y(n,!0),{...t,skipEscape:!0})),typeof o=="string"?(o=unescape(o),o=v(y(p(o,t),!0),{...t,skipEscape:!0})):typeof o=="object"&&(o=v(y(o,!0),{...t,skipEscape:!0})),n.toLowerCase()===o.toLowerCase()}function v(n,o){const t={host:n.host,scheme:n.scheme,userinfo:n.userinfo,port:n.port,path:n.path,query:n.query,nid:n.nid,nss:n.nss,uuid:n.uuid,fragment:n.fragment,reference:n.reference,resourceName:n.resourceName,secure:n.secure,error:""},s=Object.assign({},o),h=[],_=a[(s.scheme||t.scheme||"").toLowerCase()];_&&_.serialize&&_.serialize(t,s),t.path!==void 0&&(s.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),s.reference!=="suffix"&&t.scheme&&h.push(t.scheme,":");const m=i(t,s);if(m!==void 0&&(s.reference!=="suffix"&&h.push("//"),h.push(m),t.path&&t.path.charAt(0)!=="/"&&h.push("/")),t.path!==void 0){let $=t.path;!s.absolutePath&&(!_||!_.absolutePath)&&($=d($)),m===void 0&&($=$.replace(/^\/\//u,"/%2F")),h.push($)}return t.query!==void 0&&h.push("?",t.query),t.fragment!==void 0&&h.push("#",t.fragment),h.join("")}const E=Array.from({length:127},(n,o)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(o)));function R(n){let o=0;for(let t=0,s=n.length;t<s;++t)if(o=n.charCodeAt(t),o>126||E[o])return!0;return!1}const P=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function p(n,o){const t=Object.assign({},o),s={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},h=n.indexOf("%")!==-1;let _=!1;t.reference==="suffix"&&(n=(t.scheme?t.scheme+":":"")+"//"+n);const m=n.match(P);if(m){if(s.scheme=m[1],s.userinfo=m[3],s.host=m[4],s.port=parseInt(m[5],10),s.path=m[6]||"",s.query=m[7],s.fragment=m[8],isNaN(s.port)&&(s.port=m[5]),s.host){const k=r(s.host);if(k.isIPV4===!1){const C=e(k.host,{isIPV4:!1});s.host=C.host.toLowerCase(),_=C.isIPV6}else s.host=k.host,_=!0}s.scheme===void 0&&s.userinfo===void 0&&s.host===void 0&&s.port===void 0&&!s.path&&s.query===void 0?s.reference="same-document":s.scheme===void 0?s.reference="relative":s.fragment===void 0?s.reference="absolute":s.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==s.reference&&(s.error=s.error||"URI is not a "+t.reference+" reference.");const $=a[(t.scheme||s.scheme||"").toLowerCase()];if(!t.unicodeSupport&&(!$||!$.unicodeSupport)&&s.host&&(t.domainHost||$&&$.domainHost)&&_===!1&&R(s.host))try{s.host=URL.domainToASCII(s.host.toLowerCase())}catch(k){s.error=s.error||"Host's domain name can not be converted to ASCII: "+k}(!$||$&&!$.skipNormalize)&&(h&&s.scheme!==void 0&&(s.scheme=unescape(s.scheme)),h&&s.host!==void 0&&(s.host=unescape(s.host)),s.path!==void 0&&s.path.length&&(s.path=escape(unescape(s.path))),s.fragment!==void 0&&s.fragment.length&&(s.fragment=encodeURI(decodeURIComponent(s.fragment)))),$&&$.parse&&$.parse(s,t)}else s.error=s.error||"URI can not be parsed.";return s}const b={SCHEMES:a,normalize:u,resolve:c,resolveComponents:f,equal:g,serialize:v,parse:p};return Ne.exports=b,Ne.exports.default=b,Ne.exports.fastUri=b,Ne.exports}var _r;function Jn(){if(_r)return qe;_r=1,Object.defineProperty(qe,"__esModule",{value:!0});const e=Gn();return e.code='require("ajv/dist/runtime/uri").default',qe.default=e,qe}var vr;function Wn(){return vr||(vr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=gt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var d=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});const i=Mt(),y=$t(),a=on(),u=Vt(),c=J(),f=vt(),g=pt(),v=X(),E=zn,R=Jn(),P=(A,N)=>new RegExp(A,N);P.code="new RegExp";const p=["removeAdditional","useDefaults","coerceTypes"],b=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),n={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},o={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function s(A){var N,q,j,l,w,I,V,z,Q,W,S,O,T,D,U,G,ee,ce,se,ae,te,be,ie,wt,bt;const Pe=A.strict,Et=(N=A.code)===null||N===void 0?void 0:N.optimize,Ut=Et===!0||Et===void 0?1:Et||0,zt=(j=(q=A.code)===null||q===void 0?void 0:q.regExp)!==null&&j!==void 0?j:P,yn=(l=A.uriResolver)!==null&&l!==void 0?l:R.default;return{strictSchema:(I=(w=A.strictSchema)!==null&&w!==void 0?w:Pe)!==null&&I!==void 0?I:!0,strictNumbers:(z=(V=A.strictNumbers)!==null&&V!==void 0?V:Pe)!==null&&z!==void 0?z:!0,strictTypes:(W=(Q=A.strictTypes)!==null&&Q!==void 0?Q:Pe)!==null&&W!==void 0?W:"log",strictTuples:(O=(S=A.strictTuples)!==null&&S!==void 0?S:Pe)!==null&&O!==void 0?O:"log",strictRequired:(D=(T=A.strictRequired)!==null&&T!==void 0?T:Pe)!==null&&D!==void 0?D:!1,code:A.code?{...A.code,optimize:Ut,regExp:zt}:{optimize:Ut,regExp:zt},loopRequired:(U=A.loopRequired)!==null&&U!==void 0?U:t,loopEnum:(G=A.loopEnum)!==null&&G!==void 0?G:t,meta:(ee=A.meta)!==null&&ee!==void 0?ee:!0,messages:(ce=A.messages)!==null&&ce!==void 0?ce:!0,inlineRefs:(se=A.inlineRefs)!==null&&se!==void 0?se:!0,schemaId:(ae=A.schemaId)!==null&&ae!==void 0?ae:"$id",addUsedSchema:(te=A.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(be=A.validateSchema)!==null&&be!==void 0?be:!0,validateFormats:(ie=A.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(wt=A.unicodeRegExp)!==null&&wt!==void 0?wt:!0,int32range:(bt=A.int32range)!==null&&bt!==void 0?bt:!0,uriResolver:yn}}class h{constructor(N={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,N=this.opts={...N,...s(N)};const{es5:q,lines:j}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:b,es5:q,lines:j}),this.logger=L(N.logger);const l=N.validateFormats;N.validateFormats=!1,this.RULES=(0,a.getRules)(),_.call(this,n,N,"NOT SUPPORTED"),_.call(this,o,N,"DEPRECATED","warn"),this._metaOpts=M.call(this),N.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),N.keywords&&C.call(this,N.keywords),typeof N.meta=="object"&&this.addMetaSchema(N.meta),$.call(this),N.validateFormats=l}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:N,meta:q,schemaId:j}=this.opts;let l=E;j==="id"&&(l={...E},l.id=l.$id,delete l.$id),q&&N&&this.addMetaSchema(l,l[j],!1)}defaultMeta(){const{meta:N,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof N=="object"?N[q]||N:void 0}validate(N,q){let j;if(typeof N=="string"){if(j=this.getSchema(N),!j)throw new Error(`no schema with key or ref "${N}"`)}else j=this.compile(N);const l=j(q);return"$async"in j||(this.errors=j.errors),l}compile(N,q){const j=this._addSchema(N,q);return j.validate||this._compileSchemaEnv(j)}compileAsync(N,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return l.call(this,N,q);async function l(W,S){await w.call(this,W.$schema);const O=this._addSchema(W,S);return O.validate||I.call(this,O)}async function w(W){W&&!this.getSchema(W)&&await l.call(this,{$ref:W},!0)}async function I(W){try{return this._compileSchemaEnv(W)}catch(S){if(!(S instanceof y.default))throw S;return V.call(this,S),await z.call(this,S.missingSchema),I.call(this,W)}}function V({missingSchema:W,missingRef:S}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${S} cannot be resolved`)}async function z(W){const S=await Q.call(this,W);this.refs[W]||await w.call(this,S.$schema),this.refs[W]||this.addSchema(S,W,q)}async function Q(W){const S=this._loading[W];if(S)return S;try{return await(this._loading[W]=j(W))}finally{delete this._loading[W]}}}addSchema(N,q,j,l=this.opts.validateSchema){if(Array.isArray(N)){for(const I of N)this.addSchema(I,void 0,j,l);return this}let w;if(typeof N=="object"){const{schemaId:I}=this.opts;if(w=N[I],w!==void 0&&typeof w!="string")throw new Error(`schema ${I} must be string`)}return q=(0,f.normalizeId)(q||w),this._checkUnique(q),this.schemas[q]=this._addSchema(N,j,q,l,!0),this}addMetaSchema(N,q,j=this.opts.validateSchema){return this.addSchema(N,q,!0,j),this}validateSchema(N,q){if(typeof N=="boolean")return!0;let j;if(j=N.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const l=this.validate(j,N);if(!l&&q){const w="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(w);else throw new Error(w)}return l}getSchema(N){let q;for(;typeof(q=m.call(this,N))=="string";)N=q;if(q===void 0){const{schemaId:j}=this.opts,l=new u.SchemaEnv({schema:{},schemaId:j});if(q=u.resolveSchema.call(this,l,N),!q)return;this.refs[N]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(N){if(N instanceof RegExp)return this._removeAllSchemas(this.schemas,N),this._removeAllSchemas(this.refs,N),this;switch(typeof N){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=m.call(this,N);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[N],delete this.refs[N],this}case"object":{const q=N;this._cache.delete(q);let j=N[this.opts.schemaId];return j&&(j=(0,f.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(N){for(const q of N)this.addKeyword(q);return this}addKeyword(N,q){let j;if(typeof N=="string")j=N,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=j);else if(typeof N=="object"&&q===void 0){if(q=N,j=q.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,j,q),!q)return(0,v.eachItem)(j,w=>x.call(this,w)),this;fe.call(this,q);const l={...q,type:(0,g.getJSONTypes)(q.type),schemaType:(0,g.getJSONTypes)(q.schemaType)};return(0,v.eachItem)(j,l.type.length===0?w=>x.call(this,w,l):w=>l.type.forEach(I=>x.call(this,w,l,I))),this}getKeyword(N){const q=this.RULES.all[N];return typeof q=="object"?q.definition:!!q}removeKeyword(N){const{RULES:q}=this;delete q.keywords[N],delete q.all[N];for(const j of q.rules){const l=j.rules.findIndex(w=>w.keyword===N);l>=0&&j.rules.splice(l,1)}return this}addFormat(N,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[N]=q,this}errorsText(N=this.errors,{separator:q=", ",dataVar:j="data"}={}){return!N||N.length===0?"No errors":N.map(l=>`${j}${l.instancePath} ${l.message}`).reduce((l,w)=>l+q+w)}$dataMetaSchema(N,q){const j=this.RULES.all;N=JSON.parse(JSON.stringify(N));for(const l of q){const w=l.split("/").slice(1);let I=N;for(const V of w)I=I[V];for(const V in j){const z=j[V];if(typeof z!="object")continue;const{$data:Q}=z.definition,W=I[V];Q&&W&&(I[V]=ye(W))}}return N}_removeAllSchemas(N,q){for(const j in N){const l=N[j];(!q||q.test(j))&&(typeof l=="string"?delete N[j]:l&&!l.meta&&(this._cache.delete(l.schema),delete N[j]))}}_addSchema(N,q,j,l=this.opts.validateSchema,w=this.opts.addUsedSchema){let I;const{schemaId:V}=this.opts;if(typeof N=="object")I=N[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof N!="boolean")throw new Error("schema must be object or boolean")}let z=this._cache.get(N);if(z!==void 0)return z;j=(0,f.normalizeId)(I||j);const Q=f.getSchemaRefs.call(this,N,j);return z=new u.SchemaEnv({schema:N,schemaId:V,meta:q,baseId:j,localRefs:Q}),this._cache.set(z.schema,z),w&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=z),l&&this.validateSchema(N,!0),z}_checkUnique(N){if(this.schemas[N]||this.refs[N])throw new Error(`schema with key or id "${N}" already exists`)}_compileSchemaEnv(N){if(N.meta?this._compileMetaSchema(N):u.compileSchema.call(this,N),!N.validate)throw new Error("ajv implementation error");return N.validate}_compileMetaSchema(N){const q=this.opts;this.opts=this._metaOpts;try{u.compileSchema.call(this,N)}finally{this.opts=q}}}h.ValidationError=i.default,h.MissingRefError=y.default,e.default=h;function _(A,N,q,j="error"){for(const l in A){const w=l;w in N&&this.logger[j](`${q}: option ${l}. ${A[w]}`)}}function m(A){return A=(0,f.normalizeId)(A),this.schemas[A]||this.refs[A]}function $(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const N in A)this.addSchema(A[N],N)}function k(){for(const A in this.opts.formats){const N=this.opts.formats[A];N&&this.addFormat(A,N)}}function C(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const N in A){const q=A[N];q.keyword||(q.keyword=N),this.addKeyword(q)}}function M(){const A={...this.opts};for(const N of p)delete A[N];return A}const F={log(){},warn(){},error(){}};function L(A){if(A===!1)return F;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const K=/^[a-z_$][a-z0-9_$:-]*$/i;function B(A,N){const{RULES:q}=this;if((0,v.eachItem)(A,j=>{if(q.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!K.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!N&&N.$data&&!("code"in N||"validate"in N))throw new Error('$data keyword must have "code" or "validate" function')}function x(A,N,q){var j;const l=N?.post;if(q&&l)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:w}=this;let I=l?w.post:w.rules.find(({type:z})=>z===q);if(I||(I={type:q,rules:[]},w.rules.push(I)),w.keywords[A]=!0,!N)return;const V={keyword:A,definition:{...N,type:(0,g.getJSONTypes)(N.type),schemaType:(0,g.getJSONTypes)(N.schemaType)}};N.before?de.call(this,I,V,N.before):I.rules.push(V),w.all[A]=V,(j=N.implements)===null||j===void 0||j.forEach(z=>this.addKeyword(z))}function de(A,N,q){const j=A.rules.findIndex(l=>l.keyword===q);j>=0?A.rules.splice(j,0,N):(A.rules.push(N),this.logger.warn(`rule ${q} is not defined`))}function fe(A){let{metaSchema:N}=A;N!==void 0&&(A.$data&&this.opts.$data&&(N=ye(N)),A.validateSchema=this.compile(N,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ye(A){return{anyOf:[A,Z]}}}(St)),St}var Ce={},Ae={},De={},gr;function Bn(){if(gr)return De;gr=1,Object.defineProperty(De,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return De.default=e,De}var _e={},$r;function Xn(){if($r)return _e;$r=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=$t(),r=le(),d=J(),i=ve(),y=Vt(),a=X(),u={keyword:"$ref",schemaType:"string",code(g){const{gen:v,schema:E,it:R}=g,{baseId:P,schemaEnv:p,validateName:b,opts:n,self:o}=R,{root:t}=p;if((E==="#"||E==="#/")&&P===t.baseId)return h();const s=y.resolveRef.call(o,t,P,E);if(s===void 0)throw new e.default(R.opts.uriResolver,P,E);if(s instanceof y.SchemaEnv)return _(s);return m(s);function h(){if(p===t)return f(g,b,p,p.$async);const $=v.scopeValue("root",{ref:t});return f(g,(0,d._)`${$}.validate`,t,t.$async)}function _($){const k=c(g,$);f(g,k,$,$.$async)}function m($){const k=v.scopeValue("schema",n.code.source===!0?{ref:$,code:(0,d.stringify)($)}:{ref:$}),C=v.name("valid"),M=g.subschema({schema:$,dataTypes:[],schemaPath:d.nil,topSchemaRef:k,errSchemaPath:E},C);g.mergeEvaluated(M),g.ok(C)}}};function c(g,v){const{gen:E}=g;return v.validate?E.scopeValue("validate",{ref:v.validate}):(0,d._)`${E.scopeValue("wrapper",{ref:v})}.validate`}_e.getValidate=c;function f(g,v,E,R){const{gen:P,it:p}=g,{allErrors:b,schemaEnv:n,opts:o}=p,t=o.passContext?i.default.this:d.nil;R?s():h();function s(){if(!n.$async)throw new Error("async schema referenced by sync schema");const $=P.let("valid");P.try(()=>{P.code((0,d._)`await ${(0,r.callValidateCode)(g,v,t)}`),m(v),b||P.assign($,!0)},k=>{P.if((0,d._)`!(${k} instanceof ${p.ValidationError})`,()=>P.throw(k)),_(k),b||P.assign($,!1)}),g.ok($)}function h(){g.result((0,r.callValidateCode)(g,v,t),()=>m(v),()=>_(v))}function _($){const k=(0,d._)`${$}.errors`;P.assign(i.default.vErrors,(0,d._)`${i.default.vErrors} === null ? ${k} : ${i.default.vErrors}.concat(${k})`),P.assign(i.default.errors,(0,d._)`${i.default.vErrors}.length`)}function m($){var k;if(!p.opts.unevaluated)return;const C=(k=E?.validate)===null||k===void 0?void 0:k.evaluated;if(p.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(p.props=a.mergeEvaluated.props(P,C.props,p.props));else{const M=P.var("props",(0,d._)`${$}.evaluated.props`);p.props=a.mergeEvaluated.props(P,M,p.props,d.Name)}if(p.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(p.items=a.mergeEvaluated.items(P,C.items,p.items));else{const M=P.var("items",(0,d._)`${$}.evaluated.items`);p.items=a.mergeEvaluated.items(P,M,p.items,d.Name)}}}return _e.callRef=f,_e.default=u,_e}var wr;function Qn(){if(wr)return Ae;wr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=Bn(),r=Xn(),d=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Ae.default=d,Ae}var Me={},Ve={},br;function Yn(){if(br)return Ve;br=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=J(),r=e.operators,d={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},i={message:({keyword:a,schemaCode:u})=>(0,e.str)`must be ${d[a].okStr} ${u}`,params:({keyword:a,schemaCode:u})=>(0,e._)`{comparison: ${d[a].okStr}, limit: ${u}}`},y={keyword:Object.keys(d),type:"number",schemaType:"number",$data:!0,error:i,code(a){const{keyword:u,data:c,schemaCode:f}=a;a.fail$data((0,e._)`${c} ${d[u].fail} ${f} || isNaN(${c})`)}};return Ve.default=y,Ve}var Fe={},Er;function Zn(){if(Er)return Fe;Er=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=J(),d={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,e._)`{multipleOf: ${i}}`},code(i){const{gen:y,data:a,schemaCode:u,it:c}=i,f=c.opts.multipleOfPrecision,g=y.let("res"),v=f?(0,e._)`Math.abs(Math.round(${g}) - ${g}) > 1e-${f}`:(0,e._)`${g} !== parseInt(${g})`;i.fail$data((0,e._)`(${u} === 0 || (${g} = ${a}/${u}, ${v}))`)}};return Fe.default=d,Fe}var Ue={},ze={},Sr;function xn(){if(Sr)return ze;Sr=1,Object.defineProperty(ze,"__esModule",{value:!0});function e(r){const d=r.length;let i=0,y=0,a;for(;y<d;)i++,a=r.charCodeAt(y++),a>=55296&&a<=56319&&y<d&&(a=r.charCodeAt(y),(a&64512)===56320&&y++);return i}return ze.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',ze}var Pr;function es(){if(Pr)return Ue;Pr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e=J(),r=X(),d=xn(),y={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:u}){const c=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${u} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:u,data:c,schemaCode:f,it:g}=a,v=u==="maxLength"?e.operators.GT:e.operators.LT,E=g.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,r.useFunc)(a.gen,d.default)}(${c})`;a.fail$data((0,e._)`${E} ${v} ${f}`)}};return Ue.default=y,Ue}var Ke={},Rr;function ts(){if(Rr)return Ke;Rr=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=le(),r=J(),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:y})=>(0,r.str)`must match pattern "${y}"`,params:({schemaCode:y})=>(0,r._)`{pattern: ${y}}`},code(y){const{data:a,$data:u,schema:c,schemaCode:f,it:g}=y,v=g.opts.unicodeRegExp?"u":"",E=u?(0,r._)`(new RegExp(${f}, ${v}))`:(0,e.usePattern)(y,c);y.fail$data((0,r._)`!${E}.test(${a})`)}};return Ke.default=i,Ke}var Le={},Nr;function rs(){if(Nr)return Le;Nr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),d={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:y}){const a=i==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${y} properties`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:y,data:a,schemaCode:u}=i,c=y==="maxProperties"?e.operators.GT:e.operators.LT;i.fail$data((0,e._)`Object.keys(${a}).length ${c} ${u}`)}};return Le.default=d,Le}var He={},Or;function ns(){if(Or)return He;Or=1,Object.defineProperty(He,"__esModule",{value:!0});const e=le(),r=J(),d=X(),y={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,r.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,r._)`{missingProperty: ${a}}`},code(a){const{gen:u,schema:c,schemaCode:f,data:g,$data:v,it:E}=a,{opts:R}=E;if(!v&&c.length===0)return;const P=c.length>=R.loopRequired;if(E.allErrors?p():b(),R.strictRequired){const t=a.parentSchema.properties,{definedProperties:s}=a.it;for(const h of c)if(t?.[h]===void 0&&!s.has(h)){const _=E.schemaEnv.baseId+E.errSchemaPath,m=`required property "${h}" is not defined at "${_}" (strictRequired)`;(0,d.checkStrictMode)(E,m,E.opts.strictRequired)}}function p(){if(P||v)a.block$data(r.nil,n);else for(const t of c)(0,e.checkReportMissingProp)(a,t)}function b(){const t=u.let("missing");if(P||v){const s=u.let("valid",!0);a.block$data(s,()=>o(t,s)),a.ok(s)}else u.if((0,e.checkMissingProp)(a,c,t)),(0,e.reportMissingProp)(a,t),u.else()}function n(){u.forOf("prop",f,t=>{a.setParams({missingProperty:t}),u.if((0,e.noPropertyInData)(u,g,t,R.ownProperties),()=>a.error())})}function o(t,s){a.setParams({missingProperty:t}),u.forOf(t,f,()=>{u.assign(s,(0,e.propertyInData)(u,g,t,R.ownProperties)),u.if((0,r.not)(s),()=>{a.error(),u.break()})},r.nil)}}};return He.default=y,He}var Ge={},jr;function ss(){if(jr)return Ge;jr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=J(),d={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:y}){const a=i==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${y} items`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:y,data:a,schemaCode:u}=i,c=y==="maxItems"?e.operators.GT:e.operators.LT;i.fail$data((0,e._)`${a}.length ${c} ${u}`)}};return Ge.default=d,Ge}var Je={},We={},kr;function Ft(){if(kr)return We;kr=1,Object.defineProperty(We,"__esModule",{value:!0});const e=un();return e.code='require("ajv/dist/runtime/equal").default',We.default=e,We}var Ir;function as(){if(Ir)return Je;Ir=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=pt(),r=J(),d=X(),i=Ft(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:u,j:c}})=>(0,r.str)`must NOT have duplicate items (items ## ${c} and ${u} are identical)`,params:({params:{i:u,j:c}})=>(0,r._)`{i: ${u}, j: ${c}}`},code(u){const{gen:c,data:f,$data:g,schema:v,parentSchema:E,schemaCode:R,it:P}=u;if(!g&&!v)return;const p=c.let("valid"),b=E.items?(0,e.getSchemaTypes)(E.items):[];u.block$data(p,n,(0,r._)`${R} === false`),u.ok(p);function n(){const h=c.let("i",(0,r._)`${f}.length`),_=c.let("j");u.setParams({i:h,j:_}),c.assign(p,!0),c.if((0,r._)`${h} > 1`,()=>(o()?t:s)(h,_))}function o(){return b.length>0&&!b.some(h=>h==="object"||h==="array")}function t(h,_){const m=c.name("item"),$=(0,e.checkDataTypes)(b,m,P.opts.strictNumbers,e.DataType.Wrong),k=c.const("indices",(0,r._)`{}`);c.for((0,r._)`;${h}--;`,()=>{c.let(m,(0,r._)`${f}[${h}]`),c.if($,(0,r._)`continue`),b.length>1&&c.if((0,r._)`typeof ${m} == "string"`,(0,r._)`${m} += "_"`),c.if((0,r._)`typeof ${k}[${m}] == "number"`,()=>{c.assign(_,(0,r._)`${k}[${m}]`),u.error(),c.assign(p,!1).break()}).code((0,r._)`${k}[${m}] = ${h}`)})}function s(h,_){const m=(0,d.useFunc)(c,i.default),$=c.name("outer");c.label($).for((0,r._)`;${h}--;`,()=>c.for((0,r._)`${_} = ${h}; ${_}--;`,()=>c.if((0,r._)`${m}(${f}[${h}], ${f}[${_}])`,()=>{u.error(),c.assign(p,!1).break($)})))}}};return Je.default=a,Je}var Be={},Tr;function os(){if(Tr)return Be;Tr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),r=X(),d=Ft(),y={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:u,data:c,$data:f,schemaCode:g,schema:v}=a;f||v&&typeof v=="object"?a.fail$data((0,e._)`!${(0,r.useFunc)(u,d.default)}(${c}, ${g})`):a.fail((0,e._)`${v} !== ${c}`)}};return Be.default=y,Be}var Xe={},qr;function is(){if(qr)return Xe;qr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=J(),r=X(),d=Ft(),y={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:u,data:c,$data:f,schema:g,schemaCode:v,it:E}=a;if(!f&&g.length===0)throw new Error("enum must have non-empty array");const R=g.length>=E.opts.loopEnum;let P;const p=()=>P??(P=(0,r.useFunc)(u,d.default));let b;if(R||f)b=u.let("valid"),a.block$data(b,n);else{if(!Array.isArray(g))throw new Error("ajv implementation error");const t=u.const("vSchema",v);b=(0,e.or)(...g.map((s,h)=>o(t,h)))}a.pass(b);function n(){u.assign(b,!1),u.forOf("v",v,t=>u.if((0,e._)`${p()}(${c}, ${t})`,()=>u.assign(b,!0).break()))}function o(t,s){const h=g[s];return typeof h=="object"&&h!==null?(0,e._)`${p()}(${c}, ${t}[${s}])`:(0,e._)`${c} === ${h}`}}};return Xe.default=y,Xe}var Cr;function cs(){if(Cr)return Me;Cr=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=Yn(),r=Zn(),d=es(),i=ts(),y=rs(),a=ns(),u=ss(),c=as(),f=os(),g=is(),v=[e.default,r.default,d.default,i.default,y.default,a.default,u.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},f.default,g.default];return Me.default=v,Me}var Qe={},Ee={},Ar;function ln(){if(Ar)return Ee;Ar=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.validateAdditionalItems=void 0;const e=J(),r=X(),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:u,it:c}=a,{items:f}=u;if(!Array.isArray(f)){(0,r.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}y(a,f)}};function y(a,u){const{gen:c,schema:f,data:g,keyword:v,it:E}=a;E.items=!0;const R=c.const("len",(0,e._)`${g}.length`);if(f===!1)a.setParams({len:u.length}),a.pass((0,e._)`${R} <= ${u.length}`);else if(typeof f=="object"&&!(0,r.alwaysValidSchema)(E,f)){const p=c.var("valid",(0,e._)`${R} <= ${u.length}`);c.if((0,e.not)(p),()=>P(p)),a.ok(p)}function P(p){c.forRange("i",u.length,R,b=>{a.subschema({keyword:v,dataProp:b,dataPropType:r.Type.Num},p),E.allErrors||c.if((0,e.not)(p),()=>c.break())})}}return Ee.validateAdditionalItems=y,Ee.default=i,Ee}var Ye={},Se={},Dr;function dn(){if(Dr)return Se;Dr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.validateTuple=void 0;const e=J(),r=X(),d=le(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:u,it:c}=a;if(Array.isArray(u))return y(a,"additionalItems",u);c.items=!0,!(0,r.alwaysValidSchema)(c,u)&&a.ok((0,d.validateArray)(a))}};function y(a,u,c=a.schema){const{gen:f,parentSchema:g,data:v,keyword:E,it:R}=a;b(g),R.opts.unevaluated&&c.length&&R.items!==!0&&(R.items=r.mergeEvaluated.items(f,c.length,R.items));const P=f.name("valid"),p=f.const("len",(0,e._)`${v}.length`);c.forEach((n,o)=>{(0,r.alwaysValidSchema)(R,n)||(f.if((0,e._)`${p} > ${o}`,()=>a.subschema({keyword:E,schemaProp:o,dataProp:o},P)),a.ok(P))});function b(n){const{opts:o,errSchemaPath:t}=R,s=c.length,h=s===n.minItems&&(s===n.maxItems||n[u]===!1);if(o.strictTuples&&!h){const _=`"${E}" is ${s}-tuple, but minItems or maxItems/${u} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(R,_,o.strictTuples)}}}return Se.validateTuple=y,Se.default=i,Se}var Mr;function us(){if(Mr)return Ye;Mr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=dn(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:d=>(0,e.validateTuple)(d,"items")};return Ye.default=r,Ye}var Ze={},Vr;function ls(){if(Vr)return Ze;Vr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=J(),r=X(),d=le(),i=ln(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:u}})=>(0,e.str)`must NOT have more than ${u} items`,params:({params:{len:u}})=>(0,e._)`{limit: ${u}}`},code(u){const{schema:c,parentSchema:f,it:g}=u,{prefixItems:v}=f;g.items=!0,!(0,r.alwaysValidSchema)(g,c)&&(v?(0,i.validateAdditionalItems)(u,v):u.ok((0,d.validateArray)(u)))}};return Ze.default=a,Ze}var xe={},Fr;function ds(){if(Fr)return xe;Fr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=J(),r=X(),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:y,max:a}})=>a===void 0?(0,e.str)`must contain at least ${y} valid item(s)`:(0,e.str)`must contain at least ${y} and no more than ${a} valid item(s)`,params:({params:{min:y,max:a}})=>a===void 0?(0,e._)`{minContains: ${y}}`:(0,e._)`{minContains: ${y}, maxContains: ${a}}`},code(y){const{gen:a,schema:u,parentSchema:c,data:f,it:g}=y;let v,E;const{minContains:R,maxContains:P}=c;g.opts.next?(v=R===void 0?1:R,E=P):v=1;const p=a.const("len",(0,e._)`${f}.length`);if(y.setParams({min:v,max:E}),E===void 0&&v===0){(0,r.checkStrictMode)(g,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(E!==void 0&&v>E){(0,r.checkStrictMode)(g,'"minContains" > "maxContains" is always invalid'),y.fail();return}if((0,r.alwaysValidSchema)(g,u)){let s=(0,e._)`${p} >= ${v}`;E!==void 0&&(s=(0,e._)`${s} && ${p} <= ${E}`),y.pass(s);return}g.items=!0;const b=a.name("valid");E===void 0&&v===1?o(b,()=>a.if(b,()=>a.break())):v===0?(a.let(b,!0),E!==void 0&&a.if((0,e._)`${f}.length > 0`,n)):(a.let(b,!1),n()),y.result(b,()=>y.reset());function n(){const s=a.name("_valid"),h=a.let("count",0);o(s,()=>a.if(s,()=>t(h)))}function o(s,h){a.forRange("i",0,p,_=>{y.subschema({keyword:"contains",dataProp:_,dataPropType:r.Type.Num,compositeRule:!0},s),h()})}function t(s){a.code((0,e._)`${s}++`),E===void 0?a.if((0,e._)`${s} >= ${v}`,()=>a.assign(b,!0).break()):(a.if((0,e._)`${s} > ${E}`,()=>a.assign(b,!1).break()),v===1?a.assign(b,!0):a.if((0,e._)`${s} >= ${v}`,()=>a.assign(b,!0)))}}};return xe.default=i,xe}var Ct={},Ur;function fs(){return Ur||(Ur=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=J(),d=X(),i=le();e.error={message:({params:{property:f,depsCount:g,deps:v}})=>{const E=g===1?"property":"properties";return(0,r.str)`must have ${E} ${v} when property ${f} is present`},params:({params:{property:f,depsCount:g,deps:v,missingProperty:E}})=>(0,r._)`{property: ${f},
    missingProperty: ${E},
    depsCount: ${g},
    deps: ${v}}`};const y={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(f){const[g,v]=a(f);u(f,g),c(f,v)}};function a({schema:f}){const g={},v={};for(const E in f){if(E==="__proto__")continue;const R=Array.isArray(f[E])?g:v;R[E]=f[E]}return[g,v]}function u(f,g=f.schema){const{gen:v,data:E,it:R}=f;if(Object.keys(g).length===0)return;const P=v.let("missing");for(const p in g){const b=g[p];if(b.length===0)continue;const n=(0,i.propertyInData)(v,E,p,R.opts.ownProperties);f.setParams({property:p,depsCount:b.length,deps:b.join(", ")}),R.allErrors?v.if(n,()=>{for(const o of b)(0,i.checkReportMissingProp)(f,o)}):(v.if((0,r._)`${n} && (${(0,i.checkMissingProp)(f,b,P)})`),(0,i.reportMissingProp)(f,P),v.else())}}e.validatePropertyDeps=u;function c(f,g=f.schema){const{gen:v,data:E,keyword:R,it:P}=f,p=v.name("valid");for(const b in g)(0,d.alwaysValidSchema)(P,g[b])||(v.if((0,i.propertyInData)(v,E,b,P.opts.ownProperties),()=>{const n=f.subschema({keyword:R,schemaProp:b},p);f.mergeValidEvaluated(n,p)},()=>v.var(p,!0)),f.ok(p))}e.validateSchemaDeps=c,e.default=y}(Ct)),Ct}var et={},zr;function hs(){if(zr)return et;zr=1,Object.defineProperty(et,"__esModule",{value:!0});const e=J(),r=X(),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:y})=>(0,e._)`{propertyName: ${y.propertyName}}`},code(y){const{gen:a,schema:u,data:c,it:f}=y;if((0,r.alwaysValidSchema)(f,u))return;const g=a.name("valid");a.forIn("key",c,v=>{y.setParams({propertyName:v}),y.subschema({keyword:"propertyNames",data:v,dataTypes:["string"],propertyName:v,compositeRule:!0},g),a.if((0,e.not)(g),()=>{y.error(!0),f.allErrors||a.break()})}),y.ok(g)}};return et.default=i,et}var tt={},Kr;function fn(){if(Kr)return tt;Kr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=le(),r=J(),d=ve(),i=X(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:u})=>(0,r._)`{additionalProperty: ${u.additionalProperty}}`},code(u){const{gen:c,schema:f,parentSchema:g,data:v,errsCount:E,it:R}=u;if(!E)throw new Error("ajv implementation error");const{allErrors:P,opts:p}=R;if(R.props=!0,p.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(R,f))return;const b=(0,e.allSchemaProperties)(g.properties),n=(0,e.allSchemaProperties)(g.patternProperties);o(),u.ok((0,r._)`${E} === ${d.default.errors}`);function o(){c.forIn("key",v,m=>{!b.length&&!n.length?h(m):c.if(t(m),()=>h(m))})}function t(m){let $;if(b.length>8){const k=(0,i.schemaRefOrVal)(R,g.properties,"properties");$=(0,e.isOwnProperty)(c,k,m)}else b.length?$=(0,r.or)(...b.map(k=>(0,r._)`${m} === ${k}`)):$=r.nil;return n.length&&($=(0,r.or)($,...n.map(k=>(0,r._)`${(0,e.usePattern)(u,k)}.test(${m})`))),(0,r.not)($)}function s(m){c.code((0,r._)`delete ${v}[${m}]`)}function h(m){if(p.removeAdditional==="all"||p.removeAdditional&&f===!1){s(m);return}if(f===!1){u.setParams({additionalProperty:m}),u.error(),P||c.break();return}if(typeof f=="object"&&!(0,i.alwaysValidSchema)(R,f)){const $=c.name("valid");p.removeAdditional==="failing"?(_(m,$,!1),c.if((0,r.not)($),()=>{u.reset(),s(m)})):(_(m,$),P||c.if((0,r.not)($),()=>c.break()))}}function _(m,$,k){const C={keyword:"additionalProperties",dataProp:m,dataPropType:i.Type.Str};k===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),u.subschema(C,$)}}};return tt.default=a,tt}var rt={},Lr;function ms(){if(Lr)return rt;Lr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=gt(),r=le(),d=X(),i=fn(),y={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:u,schema:c,parentSchema:f,data:g,it:v}=a;v.opts.removeAdditional==="all"&&f.additionalProperties===void 0&&i.default.code(new e.KeywordCxt(v,i.default,"additionalProperties"));const E=(0,r.allSchemaProperties)(c);for(const n of E)v.definedProperties.add(n);v.opts.unevaluated&&E.length&&v.props!==!0&&(v.props=d.mergeEvaluated.props(u,(0,d.toHash)(E),v.props));const R=E.filter(n=>!(0,d.alwaysValidSchema)(v,c[n]));if(R.length===0)return;const P=u.name("valid");for(const n of R)p(n)?b(n):(u.if((0,r.propertyInData)(u,g,n,v.opts.ownProperties)),b(n),v.allErrors||u.else().var(P,!0),u.endIf()),a.it.definedProperties.add(n),a.ok(P);function p(n){return v.opts.useDefaults&&!v.compositeRule&&c[n].default!==void 0}function b(n){a.subschema({keyword:"properties",schemaProp:n,dataProp:n},P)}}};return rt.default=y,rt}var nt={},Hr;function ps(){if(Hr)return nt;Hr=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=le(),r=J(),d=X(),i=X(),y={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:u,schema:c,data:f,parentSchema:g,it:v}=a,{opts:E}=v,R=(0,e.allSchemaProperties)(c),P=R.filter(h=>(0,d.alwaysValidSchema)(v,c[h]));if(R.length===0||P.length===R.length&&(!v.opts.unevaluated||v.props===!0))return;const p=E.strictSchema&&!E.allowMatchingProperties&&g.properties,b=u.name("valid");v.props!==!0&&!(v.props instanceof r.Name)&&(v.props=(0,i.evaluatedPropsToName)(u,v.props));const{props:n}=v;o();function o(){for(const h of R)p&&t(h),v.allErrors?s(h):(u.var(b,!0),s(h),u.if(b))}function t(h){for(const _ in p)new RegExp(h).test(_)&&(0,d.checkStrictMode)(v,`property ${_} matches pattern ${h} (use allowMatchingProperties)`)}function s(h){u.forIn("key",f,_=>{u.if((0,r._)`${(0,e.usePattern)(a,h)}.test(${_})`,()=>{const m=P.includes(h);m||a.subschema({keyword:"patternProperties",schemaProp:h,dataProp:_,dataPropType:i.Type.Str},b),v.opts.unevaluated&&n!==!0?u.assign((0,r._)`${n}[${_}]`,!0):!m&&!v.allErrors&&u.if((0,r.not)(b),()=>u.break())})})}}};return nt.default=y,nt}var st={},Gr;function ys(){if(Gr)return st;Gr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=X(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(d){const{gen:i,schema:y,it:a}=d;if((0,e.alwaysValidSchema)(a,y)){d.fail();return}const u=i.name("valid");d.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},u),d.failResult(u,()=>d.reset(),()=>d.error())},error:{message:"must NOT be valid"}};return st.default=r,st}var at={},Jr;function _s(){if(Jr)return at;Jr=1,Object.defineProperty(at,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:le().validateUnion,error:{message:"must match a schema in anyOf"}};return at.default=r,at}var ot={},Wr;function vs(){if(Wr)return ot;Wr=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=J(),r=X(),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:y})=>(0,e._)`{passingSchemas: ${y.passing}}`},code(y){const{gen:a,schema:u,parentSchema:c,it:f}=y;if(!Array.isArray(u))throw new Error("ajv implementation error");if(f.opts.discriminator&&c.discriminator)return;const g=u,v=a.let("valid",!1),E=a.let("passing",null),R=a.name("_valid");y.setParams({passing:E}),a.block(P),y.result(v,()=>y.reset(),()=>y.error(!0));function P(){g.forEach((p,b)=>{let n;(0,r.alwaysValidSchema)(f,p)?a.var(R,!0):n=y.subschema({keyword:"oneOf",schemaProp:b,compositeRule:!0},R),b>0&&a.if((0,e._)`${R} && ${v}`).assign(v,!1).assign(E,(0,e._)`[${E}, ${b}]`).else(),a.if(R,()=>{a.assign(v,!0),a.assign(E,b),n&&y.mergeEvaluated(n,e.Name)})})}}};return ot.default=i,ot}var it={},Br;function gs(){if(Br)return it;Br=1,Object.defineProperty(it,"__esModule",{value:!0});const e=X(),r={keyword:"allOf",schemaType:"array",code(d){const{gen:i,schema:y,it:a}=d;if(!Array.isArray(y))throw new Error("ajv implementation error");const u=i.name("valid");y.forEach((c,f)=>{if((0,e.alwaysValidSchema)(a,c))return;const g=d.subschema({keyword:"allOf",schemaProp:f},u);d.ok(u),d.mergeEvaluated(g)})}};return it.default=r,it}var ct={},Xr;function $s(){if(Xr)return ct;Xr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=J(),r=X(),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:u,parentSchema:c,it:f}=a;c.then===void 0&&c.else===void 0&&(0,r.checkStrictMode)(f,'"if" without "then" and "else" is ignored');const g=y(f,"then"),v=y(f,"else");if(!g&&!v)return;const E=u.let("valid",!0),R=u.name("_valid");if(P(),a.reset(),g&&v){const b=u.let("ifClause");a.setParams({ifClause:b}),u.if(R,p("then",b),p("else",b))}else g?u.if(R,p("then")):u.if((0,e.not)(R),p("else"));a.pass(E,()=>a.error(!0));function P(){const b=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},R);a.mergeEvaluated(b)}function p(b,n){return()=>{const o=a.subschema({keyword:b},R);u.assign(E,R),a.mergeValidEvaluated(o,E),n?u.assign(n,(0,e._)`${b}`):a.setParams({ifClause:b})}}}};function y(a,u){const c=a.schema[u];return c!==void 0&&!(0,r.alwaysValidSchema)(a,c)}return ct.default=i,ct}var ut={},Qr;function ws(){if(Qr)return ut;Qr=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=X(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:d,parentSchema:i,it:y}){i.if===void 0&&(0,e.checkStrictMode)(y,`"${d}" without "if" is ignored`)}};return ut.default=r,ut}var Yr;function bs(){if(Yr)return Qe;Yr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=ln(),r=us(),d=dn(),i=ls(),y=ds(),a=fs(),u=hs(),c=fn(),f=ms(),g=ps(),v=ys(),E=_s(),R=vs(),P=gs(),p=$s(),b=ws();function n(o=!1){const t=[v.default,E.default,R.default,P.default,p.default,b.default,u.default,c.default,a.default,f.default,g.default];return o?t.push(r.default,i.default):t.push(e.default,d.default),t.push(y.default),t}return Qe.default=n,Qe}var lt={},dt={},Zr;function Es(){if(Zr)return dt;Zr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),d={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,e._)`{format: ${i}}`},code(i,y){const{gen:a,data:u,$data:c,schema:f,schemaCode:g,it:v}=i,{opts:E,errSchemaPath:R,schemaEnv:P,self:p}=v;if(!E.validateFormats)return;c?b():n();function b(){const o=a.scopeValue("formats",{ref:p.formats,code:E.code.formats}),t=a.const("fDef",(0,e._)`${o}[${g}]`),s=a.let("fType"),h=a.let("format");a.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>a.assign(s,(0,e._)`${t}.type || "string"`).assign(h,(0,e._)`${t}.validate`),()=>a.assign(s,(0,e._)`"string"`).assign(h,t)),i.fail$data((0,e.or)(_(),m()));function _(){return E.strictSchema===!1?e.nil:(0,e._)`${g} && !${h}`}function m(){const $=P.$async?(0,e._)`(${t}.async ? await ${h}(${u}) : ${h}(${u}))`:(0,e._)`${h}(${u})`,k=(0,e._)`(typeof ${h} == "function" ? ${$} : ${h}.test(${u}))`;return(0,e._)`${h} && ${h} !== true && ${s} === ${y} && !${k}`}}function n(){const o=p.formats[f];if(!o){_();return}if(o===!0)return;const[t,s,h]=m(o);t===y&&i.pass($());function _(){if(E.strictSchema===!1){p.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${f}" ignored in schema at path "${R}"`}}function m(k){const C=k instanceof RegExp?(0,e.regexpCode)(k):E.code.formats?(0,e._)`${E.code.formats}${(0,e.getProperty)(f)}`:void 0,M=a.scopeValue("formats",{key:f,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${M}.validate`]:["string",k,M]}function $(){if(typeof o=="object"&&!(o instanceof RegExp)&&o.async){if(!P.$async)throw new Error("async format in sync schema");return(0,e._)`await ${h}(${u})`}return typeof s=="function"?(0,e._)`${h}(${u})`:(0,e._)`${h}.test(${u})`}}}};return dt.default=d,dt}var xr;function Ss(){if(xr)return lt;xr=1,Object.defineProperty(lt,"__esModule",{value:!0});const r=[Es().default];return lt.default=r,lt}var we={},en;function Ps(){return en||(en=1,Object.defineProperty(we,"__esModule",{value:!0}),we.contentVocabulary=we.metadataVocabulary=void 0,we.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],we.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),we}var tn;function Rs(){if(tn)return Ce;tn=1,Object.defineProperty(Ce,"__esModule",{value:!0});const e=Qn(),r=cs(),d=bs(),i=Ss(),y=Ps(),a=[e.default,r.default,(0,d.default)(),i.default,y.metadataVocabulary,y.contentVocabulary];return Ce.default=a,Ce}var ft={},Oe={},rn;function Ns(){if(rn)return Oe;rn=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.DiscrError=void 0;var e;return function(r){r.Tag="tag",r.Mapping="mapping"}(e||(Oe.DiscrError=e={})),Oe}var nn;function Os(){if(nn)return ft;nn=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=J(),r=Ns(),d=Vt(),i=$t(),y=X(),u={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:f}})=>c===r.DiscrError.Tag?`tag "${f}" must be string`:`value of tag "${f}" must be in oneOf`,params:({params:{discrError:c,tag:f,tagName:g}})=>(0,e._)`{error: ${c}, tag: ${g}, tagValue: ${f}}`},code(c){const{gen:f,data:g,schema:v,parentSchema:E,it:R}=c,{oneOf:P}=E;if(!R.opts.discriminator)throw new Error("discriminator: requires discriminator option");const p=v.propertyName;if(typeof p!="string")throw new Error("discriminator: requires propertyName");if(v.mapping)throw new Error("discriminator: mapping is not supported");if(!P)throw new Error("discriminator: requires oneOf keyword");const b=f.let("valid",!1),n=f.const("tag",(0,e._)`${g}${(0,e.getProperty)(p)}`);f.if((0,e._)`typeof ${n} == "string"`,()=>o(),()=>c.error(!1,{discrError:r.DiscrError.Tag,tag:n,tagName:p})),c.ok(b);function o(){const h=s();f.if(!1);for(const _ in h)f.elseIf((0,e._)`${n} === ${_}`),f.assign(b,t(h[_]));f.else(),c.error(!1,{discrError:r.DiscrError.Mapping,tag:n,tagName:p}),f.endIf()}function t(h){const _=f.name("valid"),m=c.subschema({keyword:"oneOf",schemaProp:h},_);return c.mergeEvaluated(m,e.Name),_}function s(){var h;const _={},m=k(E);let $=!0;for(let F=0;F<P.length;F++){let L=P[F];if(L?.$ref&&!(0,y.schemaHasRulesButRef)(L,R.self.RULES)){const B=L.$ref;if(L=d.resolveRef.call(R.self,R.schemaEnv.root,R.baseId,B),L instanceof d.SchemaEnv&&(L=L.schema),L===void 0)throw new i.default(R.opts.uriResolver,R.baseId,B)}const K=(h=L?.properties)===null||h===void 0?void 0:h[p];if(typeof K!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${p}"`);$=$&&(m||k(L)),C(K,F)}if(!$)throw new Error(`discriminator: "${p}" must be required`);return _;function k({required:F}){return Array.isArray(F)&&F.includes(p)}function C(F,L){if(F.const)M(F.const,L);else if(F.enum)for(const K of F.enum)M(K,L);else throw new Error(`discriminator: "properties/${p}" must have "const" or "enum"`)}function M(F,L){if(typeof F!="string"||F in _)throw new Error(`discriminator: "${p}" values must be unique strings`);_[F]=L}}}};return ft.default=u,ft}const js="http://json-schema.org/draft-07/schema#",ks="http://json-schema.org/draft-07/schema#",Is="Core schema meta-schema",Ts={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},qs=["object","boolean"],Cs={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},As={$schema:js,$id:ks,title:Is,definitions:Ts,type:qs,properties:Cs,default:!0};var sn;function Ds(){return sn||(sn=1,function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const d=Wn(),i=Rs(),y=Os(),a=As,u=["/properties"],c="http://json-schema.org/draft-07/schema";class f extends d.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(p=>this.addVocabulary(p)),this.opts.discriminator&&this.addKeyword(y.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const p=this.opts.$data?this.$dataMetaSchema(a,u):a;this.addMetaSchema(p,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}r.Ajv=f,e.exports=r=f,e.exports.Ajv=f,Object.defineProperty(r,"__esModule",{value:!0}),r.default=f;var g=gt();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return g.KeywordCxt}});var v=J();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return v._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return v.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return v.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return v.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return v.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return v.CodeGen}});var E=Mt();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return E.default}});var R=$t();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return R.default}})}(je,je.exports)),je.exports}var At=Ds();const Qs=On(At),Ys={allErrors:!0,multipleOfPrecision:8,strict:!1,verbose:!0,discriminator:!0},Ms=/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,Vs=/^data:([a-z]+\/[a-z0-9-+.]+)?;(?:name=(.*);)?base64,(.*)$/;function Fs(e){return e.addFormat("color",Ms),e.addFormat("data-url",Vs),e}function Us(e){return e.addKeyword($n),e}function Zs(e){return Us(Fs(e))}function zs(e,r){return d=>{if(e.has(d))return e.get(d);let i=r(d);return e.set(d,i),i}}const hn=zs,Ks={},Ls={not:{}},Hs=["field"],Gs=[],yt=[];function Js(e){return e.instancePath==="/field"}function Dt(e,r){let d="",i=!1;const y=new WeakMap,a=hn(y,u=>{let c=u;return i&&(c=jn(u,d),delete c[Ht]),e.compile(c)});return(u,c)=>{d=c[Ht]??Rn;let f=e.getSchema(d)?.schema;return f!==void 0&&!Nn(f,c)&&(e.removeSchema(d),y.delete(u),f=void 0),f===void 0&&e.addSchema(c,d),i=u!==c,a(u)}}function mn(e,r){let d=!1;const i=new WeakMap,y=new WeakMap,a=hn(i,u=>e.compile({type:"object",properties:{field:u},required:d?Hs:Gs}));return u=>(d=u.required,y.get(u.schema)!==u.required&&(i.delete(u.schema),y.set(u.schema,u.required)),a(u.schema))}class pn{ajv;uiSchema;idPrefix;idSeparator;idPseudoSeparator;constructor({ajv:r,uiSchema:d={},idPrefix:i=wn,idSeparator:y=bn,idPseudoSeparator:a=En}){this.ajv=r,this.uiSchema=d,this.idPrefix=i,this.idSeparator=y,this.idPseudoSeparator=a}isValid(r,d,i){const y=this.compileSchema(this.transformSchemaDefinition(r),d);try{return y(i)}catch(a){return console.warn("Failed to validate",a),!1}}reset(){this.ajv.removeSchema()}transformFieldErrors(r,d){return r.filter(Js).map(i=>({instanceId:d.idSchema.$id,propertyTitle:d.title,message:this.errorObjectToMessage(i,()=>d.title),error:i}))}transformErrors(r){return r.map(d=>{let i=d.instancePath.split("/");return i[0]===""&&(i=i.slice(1)),{instanceId:this.instancePathToId(d,i),propertyTitle:this.errorObjectToPropertyTitle(d,i),message:this.errorObjectToMessage(d,(y,a)=>{const u=Lt(this.uiSchema,i.concat(y))?.["ui:options"]?.title;if(u!==void 0)return u;const c=a?.properties?.[y];if(typeof c=="object")return c.title}),error:d}})}instancePathToId({params:{missingProperty:r,propertyName:d},propertyName:i=d},y){let a=Sn(this.idPrefix,this.idSeparator,y);return a=r!==void 0?`${a}${this.idSeparator}${r}`:a,a=i!==void 0?Pn(this.idPseudoSeparator,`${a}${this.idSeparator}${i}`,"key-input"):a,a}errorObjectToMessage({params:{missingProperty:r},parentSchema:d,message:i},y){if(!i)return"";if(r===void 0)return i;const a=y(r,d);return a===void 0?i:i.replace(r,a)}errorObjectToPropertyTitle({parentSchema:r},d){return Lt(this.uiSchema,d)?.["ui:options"]?.title??r?.title??d.join(".")}transformSchemaDefinition(r){switch(r){case!0:return Ks;case!1:return Ls;default:return r}}}class xs extends pn{compileSchema;compileFieldSchema;constructor({compileSchema:r,compileFieldSchema:d,...i}){super(i),this.compileSchema=r??Dt(i.ajv),this.compileFieldSchema=d??mn(i.ajv)}validateFormData(r,d){const i=this.compileSchema(r,r);i(d);const y=i.errors;return i.errors=null,y?this.transformErrors(y):yt}validateFieldData(r,d){if(r.idSchema.$id===this.idPrefix)return this.validateFormData(r.schema,d);const y=this.compileFieldSchema(r);y({field:d});const u=y.errors;return y.errors=null,u?this.transformFieldErrors(u,r):yt}}class ea extends pn{compileSchema;compileAsyncSchema;compileAsyncFieldSchema;constructor({compileSchema:r,compileAsyncSchema:d,compileAsyncFieldSchema:i,...y}){super(y),this.compileSchema=r??Dt(y.ajv),this.compileAsyncSchema=d??Dt(y.ajv),this.compileAsyncFieldSchema=i??mn(y.ajv)}async validateFormData(r,d){const i=this.compileAsyncSchema(r,r);try{await i(d)}catch(y){if(!(y instanceof At.Ajv.ValidationError))throw y;return this.transformErrors(y.errors)}finally{i.errors=null}return yt}async validateFieldData(r,d){if(r.idSchema.$id===this.idPrefix)return this.validateFormData(r.schema,d);const y=this.compileAsyncFieldSchema(r),a={field:d};try{await y(a)}catch(u){if(!(u instanceof At.Ajv.ValidationError))throw u;return this.transformFieldErrors(u.errors,r)}finally{y.errors=null}return yt}}export{Qs as A,Ys as D,xs as V,Zs as a,At as b,ea as c,jn as p,hn as w};
